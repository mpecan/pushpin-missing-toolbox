spring.application.name=pushpin-missing-toolbox

# Server configuration
server.port=8080

# Discovery configuration
pushpin.discovery.enabled=true
pushpin.discovery.refreshInterval=PT30S

# AWS Discovery configuration
pushpin.discovery.aws.enabled=false
pushpin.discovery.aws.region=us-east-1
pushpin.discovery.aws.tags.service=pushpin
pushpin.discovery.aws.port=7999
pushpin.discovery.aws.controlPort=5564
pushpin.discovery.aws.publishPort=5560
pushpin.discovery.aws.healthCheckPath=/status

# Kubernetes Discovery configuration
pushpin.discovery.kubernetes.enabled=false
pushpin.discovery.kubernetes.namespace=default
pushpin.discovery.kubernetes.labelSelector=app=pushpin
pushpin.discovery.kubernetes.refreshCacheSeconds=30
pushpin.discovery.kubernetes.port=7999
pushpin.discovery.kubernetes.controlPort=5564
pushpin.discovery.kubernetes.publishPort=5560
pushpin.discovery.kubernetes.healthCheckPath=/status

# Pushpin server configuration
pushpin.servers[0].id=pushpin-1
pushpin.servers[0].host=pushpin-1
pushpin.servers[0].port=7999
pushpin.servers[0].controlPort=5564
pushpin.servers[0].publishPort=5560
pushpin.servers[0].active=true
pushpin.servers[0].weight=100
pushpin.servers[0].healthCheckPath=/status

pushpin.servers[1].id=pushpin-2
pushpin.servers[1].host=pushpin-2
pushpin.servers[1].port=7999
pushpin.servers[1].controlPort=5564
pushpin.servers[1].publishPort=5560
pushpin.servers[1].active=true
pushpin.servers[1].weight=100
pushpin.servers[1].healthCheckPath=/status

# Pushpin health check configuration
pushpin.healthCheckEnabled=true
pushpin.healthCheckInterval=60000
pushpin.defaultTimeout=5000

# Pushpin authentication configuration
pushpin.authEnabled=false
pushpin.authSecret=changeme

# Enhanced security configuration
# JWT Authentication
pushpin.security.jwt.enabled=false
# JWT provider: symmetric, keycloak, auth0, etc.
pushpin.security.jwt.provider=symmetric
# Secret key (for symmetric provider only)
pushpin.security.jwt.secret=changemechangemechangemechangemechangemechangeme
# JWKS URI for OAuth2 providers (required for keycloak, auth0, etc.)
pushpin.security.jwt.jwksUri=
pushpin.security.jwt.issuer=pushpin-missing-toolbox
pushpin.security.jwt.audience=pushpin-client
pushpin.security.jwt.expirationMs=3600000
# OAuth2 client config (for token generation with external providers)
pushpin.security.jwt.clientId=
pushpin.security.jwt.clientSecret=
# JWT claims configuration
pushpin.security.jwt.authoritiesClaim=roles
pushpin.security.jwt.authoritiesPrefix=ROLE_

# Example configuration for Keycloak:
# pushpin.security.jwt.provider=keycloak
# pushpin.security.jwt.jwksUri=https://your-keycloak-server/auth/realms/your-realm/protocol/openid-connect/certs
# pushpin.security.jwt.issuer=https://your-keycloak-server/auth/realms/your-realm
# pushpin.security.jwt.clientId=your-client-id
# pushpin.security.jwt.clientSecret=your-client-secret

# Example configuration for Auth0:
# pushpin.security.jwt.provider=auth0
# pushpin.security.jwt.jwksUri=https://your-auth0-tenant.auth0.com/.well-known/jwks.json
# pushpin.security.jwt.issuer=https://your-auth0-tenant.auth0.com/
# pushpin.security.jwt.audience=your-api-identifier

# Rate limiting
pushpin.security.rateLimit.enabled=false
pushpin.security.rateLimit.capacity=100
pushpin.security.rateLimit.refillTimeInMillis=60000

# Audit logging
pushpin.security.auditLogging.enabled=true
pushpin.security.auditLogging.level=INFO

# HMAC request signing for server-to-server communication
pushpin.security.hmac.enabled=false
pushpin.security.hmac.algorithm=HmacSHA256
pushpin.security.hmac.secretKey=changeme
pushpin.security.hmac.headerName=X-Pushpin-Signature

# Encryption for sensitive channel data
pushpin.security.encryption.enabled=false
pushpin.security.encryption.algorithm=AES/GCM/NoPadding
pushpin.security.encryption.secretKey=

# Multi-server ZMQ configuration
# Enable ZMQ for multi-server setups (disabled by default for backward compatibility)
pushpin.zmqEnabled=false
# Socket type is now fixed to PUSH to match Pushpin's expected PULL socket
# High water mark (max messages in queue)
pushpin.zmqHwm=1000
# Linger period in milliseconds (0 = don't linger on close)
pushpin.zmqLinger=0
# Test mode for development debugging
pushpin.testMode=false

# Logging configuration
logging.level.io.github.mpecan.pmt=DEBUG
logging.level.org.zeromq=DEBUG
