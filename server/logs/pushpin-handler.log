[DEBUG] 2025-04-15 07:24:27.451 starting...
[DEBUG] 2025-04-15 07:24:27.453 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 07:24:27.453 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 07:24:27.453 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 07:24:27.453 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 07:24:27.454 control server: tcp://*:5562
[DEBUG] 2025-04-15 07:24:27.454 in pull: tcp://*:5560
[DEBUG] 2025-04-15 07:24:27.454 in sub: tcp://*:5563
[DEBUG] 2025-04-15 07:24:27.454 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 07:24:27.454 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 07:24:27.454 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 07:24:27.455 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 07:24:27.455 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 07:24:27.455 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 07:24:27.455 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 07:24:27.456 started
[DEBUG] 2025-04-15 07:24:27.921 IN proxy stats: conn { "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:0-0-1", "type": "http" }
[DEBUG] 2025-04-15 07:24:27.922 stats: OUT conn { "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120, "id": "connmgr:0-0-1", "type": "http" }
[DEBUG] 2025-04-15 07:24:27.926 IN proxy stats: conn { "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-0", "type": "http" }
[DEBUG] 2025-04-15 07:24:27.926 stats: OUT conn { "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120, "id": "connmgr:1-0-0", "type": "http" }
[DEBUG] 2025-04-15 07:24:27.939 zrpc server: IN { "method": "inspect", "id": "156a6147-d22b-4e29-b1cd-eb67d812c921", "args": { "uri": "http://localhost:37005/api/http-response/test-channel-2d9d4246-cd13-4975-9112-1a97ecb79408", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:37005" ], [ "accept", "*/*" ] ], "body": "" } }
[DEBUG] 2025-04-15 07:24:27.940 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "156a6147-d22b-4e29-b1cd-eb67d812c921" }
[DEBUG] 2025-04-15 07:24:27.940 zrpc server: IN { "method": "inspect", "id": "d4f8d88b-bb6d-44d0-aea8-32ee6cd60fb3", "args": { "uri": "http://localhost:37005/api/health/check", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:37005" ], [ "accept", "*/*" ] ], "body": "" } }
[DEBUG] 2025-04-15 07:24:27.941 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "d4f8d88b-bb6d-44d0-aea8-32ee6cd60fb3" }
[DEBUG] 2025-04-15 07:24:28.018 IN proxy stats: conn { "from": "proxy_14", "unavailable": true, "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 07:24:28.019 stats: OUT conn { "from": "handler_15", "unavailable": true, "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 07:24:28.032 IN proxy stats: activity { "from": "proxy_14", "count": 2 }
[DEBUG] 2025-04-15 07:24:28.032 zrpc server: IN { "from": "proxy_14", "method": "accept", "id": "8062ac4e-b013-41c3-9bdf-79c82a468a73", "args": { "route": "*,*,*,*", "trusted": true, "inspect": { "no-proxy": false }, "response": { "reason": "", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Channel", "test-channel-2d9d4246-cd13-4975-9112-1a97ecb79408" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:18:29 GMT" ] ], "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-2d9d4246-cd13-4975-9112-1a97ecb79408\"}", "code": 200 }, "request-data": { "uri": "http://localhost:37005/api/http-response/test-channel-2d9d4246-cd13-4975-9112-1a97ecb79408", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:37005" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3MDU0NjcsImlzcyI6InB1c2hwaW4ifQ.XwFTB9Is_XBZ7uP6vPtf-og-1pM4ZqgqLn7EymE-6oI" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "body": "" }, "orig-request-data": { "uri": "http://localhost:37005/api/http-response/test-channel-2d9d4246-cd13-4975-9112-1a97ecb79408", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:37005" ], [ "accept", "*/*" ] ], "body": "" }, "requests": [ { "out-credits": 8192, "out-seq": 2, "logical-peer-address": "192.168.127.1", "in-seq": 2, "peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "0-0-1" } } ] } }
[DEBUG] 2025-04-15 07:24:28.032 zrpc server: OUT { "success": true, "value": { "response": { "reason": "OK", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:18:29 GMT" ] ], "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-2d9d4246-cd13-4975-9112-1a97ecb79408\"}", "code": 200 } }, "id": "8062ac4e-b013-41c3-9bdf-79c82a468a73" }
[DEBUG] 2025-04-15 07:24:28.033 IN proxy stats: counts { "from": "proxy_14", "requests-received": 2 }
[DEBUG] 2025-04-15 07:24:28.033 stats: OUT conn { "from": "handler_15", "unavailable": true, "id": "connmgr:0-0-1" }
[DEBUG] 2025-04-15 07:24:28.049 IN proxy stats: conn { "from": "proxy_14", "unavailable": true, "id": "connmgr:0-0-1" }
[DEBUG] 2025-04-15 07:24:28.050 stats: OUT conn { "from": "handler_15", "unavailable": true, "id": "connmgr:0-0-1" }
[DEBUG] 2025-04-15 07:24:28.071 IN proxy stats: conn { "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-1", "type": "http" }
[DEBUG] 2025-04-15 07:24:28.071 stats: OUT conn { "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120, "id": "connmgr:1-0-1", "type": "http" }
[DEBUG] 2025-04-15 07:24:28.085 zrpc server: IN { "method": "inspect", "id": "8ec37d74-d4b3-4c1f-a100-84e5d4c381d7", "args": { "uri": "http://localhost:37005/api/http-response/test-channel-19474b4e-a10e-4813-954a-1e8d704cf659", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:37005" ], [ "accept", "*/*" ] ], "body": "" } }
[DEBUG] 2025-04-15 07:24:28.085 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "8ec37d74-d4b3-4c1f-a100-84e5d4c381d7" }
[DEBUG] 2025-04-15 07:24:28.133 zrpc server: IN { "from": "proxy_14", "method": "accept", "id": "6e45ab06-8d83-4abc-93e9-a619a6b96c96", "args": { "route": "*,*,*,*", "trusted": true, "inspect": { "no-proxy": false }, "response": { "reason": "", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Channel", "test-channel-19474b4e-a10e-4813-954a-1e8d704cf659" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:18:29 GMT" ] ], "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-19474b4e-a10e-4813-954a-1e8d704cf659\"}", "code": 200 }, "request-data": { "uri": "http://localhost:37005/api/http-response/test-channel-19474b4e-a10e-4813-954a-1e8d704cf659", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:37005" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3MDU0NjgsImlzcyI6InB1c2hwaW4ifQ.-cBATgxAyS0afMoBLiFMws6ja8aIqekS7z-qDzjxgH8" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "body": "" }, "orig-request-data": { "uri": "http://localhost:37005/api/http-response/test-channel-19474b4e-a10e-4813-954a-1e8d704cf659", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:37005" ], [ "accept", "*/*" ] ], "body": "" }, "requests": [ { "out-credits": 8192, "out-seq": 2, "logical-peer-address": "192.168.127.1", "in-seq": 2, "peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "1-0-1" } } ] } }
[DEBUG] 2025-04-15 07:24:28.134 zrpc server: OUT { "success": true, "value": { "response": { "reason": "OK", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:18:29 GMT" ] ], "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-19474b4e-a10e-4813-954a-1e8d704cf659\"}", "code": 200 } }, "id": "6e45ab06-8d83-4abc-93e9-a619a6b96c96" }
[DEBUG] 2025-04-15 07:24:28.134 stats: OUT conn { "from": "handler_15", "unavailable": true, "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 07:24:28.135 stats: OUT activity { "from": "handler_15", "count": 2 }
[DEBUG] 2025-04-15 07:24:28.137 stats: OUT counts { "from": "handler_15", "requests-received": 2 }
[DEBUG] 2025-04-15 07:24:28.153 IN proxy stats: conn { "from": "proxy_14", "unavailable": true, "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 07:24:28.153 stats: OUT conn { "from": "handler_15", "unavailable": true, "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 07:24:28.176 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 07:24:28.177 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:28.211 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:28.212 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 07:24:28.213 publish channel=test-channel-19474b4e-a10e-4813-954a-1e8d704cf659 receivers=0
[DEBUG] 2025-04-15 07:24:28.478 starting...
[DEBUG] 2025-04-15 07:24:28.480 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 07:24:28.480 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 07:24:28.481 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 07:24:28.481 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 07:24:28.482 control server: tcp://*:5562
[DEBUG] 2025-04-15 07:24:28.482 in pull: tcp://*:5560
[DEBUG] 2025-04-15 07:24:28.482 in sub: tcp://*:5563
[DEBUG] 2025-04-15 07:24:28.482 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 07:24:28.483 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 07:24:28.483 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 07:24:28.483 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 07:24:28.484 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 07:24:28.484 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 07:24:28.484 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 07:24:28.484 started
[DEBUG] 2025-04-15 07:24:28.848 IN proxy stats: conn { "from": "proxy_14", "id": "connmgr:1-0-0", "peer-address": "192.168.127.1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 07:24:28.848 stats: OUT conn { "from": "handler_15", "id": "connmgr:1-0-0", "peer-address": "192.168.127.1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 07:24:28.853 IN proxy stats: conn { "from": "proxy_14", "id": "connmgr:0-0-1", "peer-address": "192.168.127.1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 07:24:28.854 stats: OUT conn { "from": "handler_15", "id": "connmgr:0-0-1", "peer-address": "192.168.127.1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 07:24:28.854 zrpc server: IN { "method": "inspect", "id": "51ab523d-f0de-4f55-9ad7-c46a47b02323", "args": { "method": "GET", "uri": "http://localhost:34537/api/health/check", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34537" ], [ "accept", "*/*" ] ] } }
[DEBUG] 2025-04-15 07:24:28.854 zrpc server: OUT { "id": "51ab523d-f0de-4f55-9ad7-c46a47b02323", "value": { "no-proxy": false }, "success": true }
[DEBUG] 2025-04-15 07:24:28.865 zrpc server: IN { "method": "inspect", "id": "f4c0e490-e3d8-4986-849d-556152a11d63", "args": { "method": "GET", "uri": "http://localhost:34537/api/http-stream/test-channel-734ba2e9-4a88-427d-9872-37b51135a425", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34537" ], [ "accept", "*/*" ] ] } }
[DEBUG] 2025-04-15 07:24:28.865 zrpc server: OUT { "id": "f4c0e490-e3d8-4986-849d-556152a11d63", "value": { "no-proxy": false }, "success": true }
[DEBUG] 2025-04-15 07:24:28.897 IN proxy stats: conn { "from": "proxy_14", "id": "connmgr:1-0-0", "unavailable": true }
[DEBUG] 2025-04-15 07:24:28.897 stats: OUT conn { "from": "handler_15", "id": "connmgr:1-0-0", "unavailable": true }
[DEBUG] 2025-04-15 07:24:28.921 zrpc server: IN { "method": "accept", "from": "proxy_14", "id": "e4aefb3b-9604-4596-b315-06263159a303", "args": { "response": { "reason": "", "body": "Successfully subscribed to channel: test-channel-734ba2e9-4a88-427d-9872-37b51135a425\n", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-734ba2e9-4a88-427d-9872-37b51135a425" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:18:30 GMT" ] ] }, "trusted": true, "request-data": { "method": "GET", "uri": "http://localhost:34537/api/http-stream/test-channel-734ba2e9-4a88-427d-9872-37b51135a425", "body": "", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34537" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3MDU0NjgsImlzcyI6InB1c2hwaW4ifQ.-cBATgxAyS0afMoBLiFMws6ja8aIqekS7z-qDzjxgH8" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] }, "inspect": { "no-proxy": false }, "orig-request-data": { "method": "GET", "uri": "http://localhost:34537/api/http-stream/test-channel-734ba2e9-4a88-427d-9872-37b51135a425", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34537" ], [ "accept", "*/*" ] ] }, "requests": [ { "out-credits": 8192, "peer-address": "192.168.127.1", "in-seq": 2, "rid": { "id": "0-0-1", "sender": "connmgr" }, "out-seq": 2, "logical-peer-address": "192.168.127.1" } ], "route": "*,*,*,*" } }
[DEBUG] 2025-04-15 07:24:28.922 zrpc server: OUT { "id": "e4aefb3b-9604-4596-b315-06263159a303", "value": { "accepted": true }, "success": true }
[DEBUG] 2025-04-15 07:24:28.922 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 07:24:28.922 zhttp server: OUT connmgr { "from": "handler_15", "id": "0-0-1", "seq": 2, "ext": { "multi": true }, "type": "keep-alive" }
[DEBUG] 2025-04-15 07:24:28.922 adding stream hold on test-channel-734ba2e9-4a88-427d-9872-37b51135a425
[DEBUG] 2025-04-15 07:24:28.922 stats: OUT sub { "from": "handler_15", "channel": "test-channel-734ba2e9-4a88-427d-9872-37b51135a425", "ttl": 60, "subscribers": 1, "mode": "stream" }
[DEBUG] 2025-04-15 07:24:28.923 SUB socket subscribe: test-channel-734ba2e9-4a88-427d-9872-37b51135a425
[INFO] 2025-04-15 07:24:28.923 subscribe http://localhost:34537/api/http-stream/test-channel-734ba2e9-4a88-427d-9872-37b51135a425 channel=test-channel-734ba2e9-4a88-427d-9872-37b51135a425
[DEBUG] 2025-04-15 07:24:28.923 zhttp server: OUT connmgr { "from": "handler_15", "id": "0-0-1", "reason": "OK", "seq": 3, "more": true, "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Date", "Tue, 15 Apr 2025 17:18:30 GMT" ] ] } 86 "Successfully subscribed to channel: test-channel-734ba2e9-4a88-427d-9872-37b51135a425\n"
[DEBUG] 2025-04-15 07:24:28.924 zhttp/zws server: IN stream { "from": "connmgr", "id": "0-0-1", "seq": 2, "credits": 86, "ext": { "multi": true }, "type": "credit" }
[DEBUG] 2025-04-15 07:24:28.924 zhttp server: OUT connmgr { "from": "handler_15", "id": "0-0-1", "seq": 4, "type": "keep-alive" }
[DEBUG] 2025-04-15 07:24:28.937 IN proxy stats: conn { "from": "proxy_14", "id": "connmgr:0-0-1", "peer-address": "192.168.127.1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 07:24:28.937 stats: OUT conn { "from": "handler_15", "id": "connmgr:0-0-1", "peer-address": "192.168.127.1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 07:24:28.961 IN proxy stats: activity { "from": "proxy_14", "count": 2 }
[DEBUG] 2025-04-15 07:24:28.961 IN proxy stats: counts { "requests-received": 2, "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:29.078 stats: OUT activity { "from": "handler_15", "count": 2 }
[DEBUG] 2025-04-15 07:24:29.079 stats: OUT counts { "requests-received": 2, "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:29.492 stats: OUT conn { "from": "handler_15", "id": "connmgr:0-0-1", "peer-address": "192.168.127.1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 07:24:29.493 stats: OUT sub { "from": "handler_15", "channel": "test-channel-734ba2e9-4a88-427d-9872-37b51135a425", "ttl": 60, "subscribers": 1, "mode": "stream" }
[DEBUG] 2025-04-15 07:24:29.882 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:29.882 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:29.883 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 07:24:29.883 stats: OUT message { "from": "handler_15", "count": 1, "channel": "test-channel-734ba2e9-4a88-427d-9872-37b51135a425", "transport": "http-stream" }
[INFO] 2025-04-15 07:24:29.883 publish channel=test-channel-734ba2e9-4a88-427d-9872-37b51135a425 receivers=1
[DEBUG] 2025-04-15 07:24:29.886 zhttp server: OUT connmgr { "from": "handler_15", "id": "0-0-1", "seq": 5, "more": true } 29 "First HTTP Streaming message\n"
[DEBUG] 2025-04-15 07:24:29.889 zhttp/zws server: IN stream { "from": "connmgr", "id": "0-0-1", "seq": 3, "credits": 29, "ext": { "multi": true }, "type": "credit" }
[DEBUG] 2025-04-15 07:24:29.895 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:29.895 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:29.895 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 07:24:29.896 stats: OUT message { "from": "handler_15", "count": 1, "channel": "test-channel-734ba2e9-4a88-427d-9872-37b51135a425", "transport": "http-stream" }
[INFO] 2025-04-15 07:24:29.896 publish channel=test-channel-734ba2e9-4a88-427d-9872-37b51135a425 receivers=1
[DEBUG] 2025-04-15 07:24:29.905 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:29.906 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:29.906 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 07:24:29.906 stats: OUT message { "from": "handler_15", "count": 1, "channel": "test-channel-734ba2e9-4a88-427d-9872-37b51135a425", "transport": "http-stream" }
[INFO] 2025-04-15 07:24:29.907 publish channel=test-channel-734ba2e9-4a88-427d-9872-37b51135a425 receivers=1
[DEBUG] 2025-04-15 07:24:29.935 zhttp server: OUT connmgr { "from": "handler_15", "id": "0-0-1", "seq": 6, "more": true } 59 "Second HTTP Streaming message\nThird HTTP Streaming message\n"
[DEBUG] 2025-04-15 07:24:29.936 zhttp server: OUT connmgr { "from": "handler_15", "id": "0-0-1", "seq": 7, "type": "keep-alive" }
[DEBUG] 2025-04-15 07:24:29.944 zhttp/zws server: IN stream { "from": "connmgr", "id": "0-0-1", "seq": 4, "credits": 59, "ext": { "multi": true }, "type": "credit" }
[DEBUG] 2025-04-15 07:24:29.946 zhttp/zws server: IN stream { "from": "connmgr", "id": "0-0-1", "seq": 5, "ext": { "multi": true }, "type": "cancel" }
[DEBUG] 2025-04-15 07:24:29.947 zhttp server: received cancel id=0-0-1
[DEBUG] 2025-04-15 07:24:29.948 httpsession: cleaning up connmgr:0-0-1
[DEBUG] 2025-04-15 07:24:29.948 stats: OUT sub { "from": "handler_15", "unavailable": true, "channel": "test-channel-734ba2e9-4a88-427d-9872-37b51135a425", "mode": "stream" }
[DEBUG] 2025-04-15 07:24:29.949 SUB socket unsubscribe: test-channel-734ba2e9-4a88-427d-9872-37b51135a425
[DEBUG] 2025-04-15 07:24:29.950 stats: OUT conn { "from": "handler_15", "id": "connmgr:0-0-1", "unavailable": true }
[DEBUG] 2025-04-15 07:24:29.953 IN proxy stats: conn { "from": "proxy_14", "id": "connmgr:1-0-1", "peer-address": "192.168.127.1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 07:24:29.954 stats: OUT conn { "from": "handler_15", "id": "connmgr:1-0-1", "peer-address": "192.168.127.1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 07:24:29.965 zrpc server: IN { "method": "inspect", "id": "4d552baf-6d8f-449d-8c60-ad6b7b1d6c95", "args": { "method": "GET", "uri": "http://localhost:34537/api/http-stream/test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34537" ], [ "accept", "*/*" ] ] } }
[DEBUG] 2025-04-15 07:24:29.966 zrpc server: OUT { "id": "4d552baf-6d8f-449d-8c60-ad6b7b1d6c95", "value": { "no-proxy": false }, "success": true }
[DEBUG] 2025-04-15 07:24:30.027 zrpc server: IN { "method": "accept", "from": "proxy_14", "id": "71bfa307-2721-40f7-9654-4b59cf98ed2c", "args": { "response": { "reason": "", "body": "Successfully subscribed to channel: test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394\n", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:18:31 GMT" ] ] }, "trusted": true, "request-data": { "method": "GET", "uri": "http://localhost:34537/api/http-stream/test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394", "body": "", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34537" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3MDU0NjksImlzcyI6InB1c2hwaW4ifQ.Sqk7SiSo9Ci5yZ_JAvWJTVlmEXk_UR_ATv8vhXfdcXM" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] }, "inspect": { "no-proxy": false }, "orig-request-data": { "method": "GET", "uri": "http://localhost:34537/api/http-stream/test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34537" ], [ "accept", "*/*" ] ] }, "requests": [ { "out-credits": 8192, "peer-address": "192.168.127.1", "in-seq": 2, "rid": { "id": "1-0-1", "sender": "connmgr" }, "out-seq": 2, "logical-peer-address": "192.168.127.1" } ], "route": "*,*,*,*" } }
[DEBUG] 2025-04-15 07:24:30.028 zrpc server: OUT { "id": "71bfa307-2721-40f7-9654-4b59cf98ed2c", "value": { "accepted": true }, "success": true }
[DEBUG] 2025-04-15 07:24:30.028 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 07:24:30.028 zhttp server: OUT connmgr { "from": "handler_15", "id": "1-0-1", "seq": 2, "ext": { "multi": true }, "type": "keep-alive" }
[DEBUG] 2025-04-15 07:24:30.029 adding stream hold on test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394
[DEBUG] 2025-04-15 07:24:30.030 stats: OUT sub { "from": "handler_15", "channel": "test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394", "ttl": 60, "subscribers": 1, "mode": "stream" }
[DEBUG] 2025-04-15 07:24:30.031 SUB socket subscribe: test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394
[INFO] 2025-04-15 07:24:30.031 subscribe http://localhost:34537/api/http-stream/test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394 channel=test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394
[DEBUG] 2025-04-15 07:24:30.032 zhttp server: OUT connmgr { "from": "handler_15", "id": "1-0-1", "reason": "OK", "seq": 3, "more": true, "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Date", "Tue, 15 Apr 2025 17:18:31 GMT" ] ] } 86 "Successfully subscribed to channel: test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394\n"
[DEBUG] 2025-04-15 07:24:30.034 IN proxy stats: conn { "from": "proxy_14", "id": "connmgr:1-0-1", "peer-address": "192.168.127.1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 07:24:30.035 stats: OUT conn { "from": "handler_15", "id": "connmgr:1-0-1", "peer-address": "192.168.127.1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 07:24:30.035 zhttp/zws server: IN stream { "from": "connmgr", "id": "1-0-1", "seq": 2, "credits": 86, "ext": { "multi": true }, "type": "credit" }
[DEBUG] 2025-04-15 07:24:30.036 zhttp server: OUT connmgr { "from": "handler_15", "id": "1-0-1", "seq": 4, "type": "keep-alive" }
[DEBUG] 2025-04-15 07:24:30.069 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 07:24:30.070 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:30.188 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 07:24:30.191 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:30.959 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:30.961 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:30.961 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 07:24:30.962 stats: OUT message { "from": "handler_15", "count": 1, "channel": "test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394", "transport": "http-stream" }
[INFO] 2025-04-15 07:24:30.963 publish channel=test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394 receivers=1
[DEBUG] 2025-04-15 07:24:30.964 zhttp server: OUT connmgr { "from": "handler_15", "id": "1-0-1", "seq": 5, "more": true } 32 "Hello from HTTP Streaming test!\n"
[DEBUG] 2025-04-15 07:24:30.968 zhttp/zws server: IN stream { "from": "connmgr", "id": "1-0-1", "seq": 3, "credits": 32, "ext": { "multi": true }, "type": "credit" }
[DEBUG] 2025-04-15 07:24:30.975 zhttp/zws server: IN stream { "from": "connmgr", "id": "1-0-1", "seq": 4, "ext": { "multi": true }, "type": "cancel" }
[DEBUG] 2025-04-15 07:24:30.977 zhttp server: received cancel id=1-0-1
[DEBUG] 2025-04-15 07:24:30.977 httpsession: cleaning up connmgr:1-0-1
[DEBUG] 2025-04-15 07:24:30.977 stats: OUT sub { "from": "handler_15", "unavailable": true, "channel": "test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394", "mode": "stream" }
[DEBUG] 2025-04-15 07:24:30.978 SUB socket unsubscribe: test-channel-9b8d100f-0915-444b-93a7-5df9b62cc394
[DEBUG] 2025-04-15 07:24:30.978 stats: OUT conn { "from": "handler_15", "id": "connmgr:1-0-1", "unavailable": true }
[DEBUG] 2025-04-15 07:24:31.200 starting...
[DEBUG] 2025-04-15 07:24:31.201 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 07:24:31.201 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 07:24:31.201 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 07:24:31.201 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 07:24:31.202 control server: tcp://*:5562
[DEBUG] 2025-04-15 07:24:31.202 in pull: tcp://*:5560
[DEBUG] 2025-04-15 07:24:31.202 in sub: tcp://*:5563
[DEBUG] 2025-04-15 07:24:31.202 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 07:24:31.202 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 07:24:31.202 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 07:24:31.203 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 07:24:31.203 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 07:24:31.203 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 07:24:31.205 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 07:24:31.206 started
[DEBUG] 2025-04-15 07:24:31.505 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-0", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:31.505 stats: OUT conn { "type": "http", "id": "connmgr:1-0-0", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:31.517 zrpc server: IN { "id": "45036788-b19b-4fb8-8271-19457569a6f1", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44927/api/health/check", "body": "", "method": "GET" }, "method": "inspect" }
[DEBUG] 2025-04-15 07:24:31.518 zrpc server: OUT { "id": "45036788-b19b-4fb8-8271-19457569a6f1", "value": { "no-proxy": false }, "success": true }
[DEBUG] 2025-04-15 07:24:31.561 IN proxy stats: conn { "id": "connmgr:1-0-0", "from": "proxy_14", "unavailable": true }
[DEBUG] 2025-04-15 07:24:31.561 stats: OUT conn { "id": "connmgr:1-0-0", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 07:24:31.613 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 07:24:31.613 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:31.729 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 07:24:31.730 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:32.013 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-1", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:32.014 stats: OUT conn { "type": "http", "id": "connmgr:1-0-1", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:32.027 zrpc server: IN { "id": "3a2f4891-f3c7-470b-8a82-c329de131a80", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "body": "", "method": "GET" }, "method": "inspect" }
[DEBUG] 2025-04-15 07:24:32.028 zrpc server: OUT { "id": "3a2f4891-f3c7-470b-8a82-c329de131a80", "value": { "no-proxy": false }, "success": true }
[DEBUG] 2025-04-15 07:24:32.087 zrpc server: IN { "id": "0df0a82c-ae20-4d26-b733-ce77e9108688", "from": "proxy_14", "args": { "response": { "reason": "", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:18:33 GMT" ] ], "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215\"}", "code": 200 }, "request-data": { "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3MDU0NzIsImlzcyI6InB1c2hwaW4ifQ.nSs4VmelLyAGG6eigJ5hMrtEyiXl-htn0HqWRMXuJbc" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "body": "", "method": "GET" }, "trusted": true, "orig-request-data": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "body": "", "method": "GET" }, "inspect": { "no-proxy": false }, "requests": [ { "rid": { "id": "1-0-1", "sender": "connmgr" }, "in-seq": 2, "peer-address": "192.168.127.1", "out-credits": 8192, "logical-peer-address": "192.168.127.1", "out-seq": 2 } ], "route": "*,*,*,*" }, "method": "accept" }
[DEBUG] 2025-04-15 07:24:32.088 zrpc server: OUT { "id": "0df0a82c-ae20-4d26-b733-ce77e9108688", "value": { "accepted": true }, "success": true }
[DEBUG] 2025-04-15 07:24:32.089 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 07:24:32.089 zhttp server: OUT connmgr { "type": "keep-alive", "id": "1-0-1", "seq": 2, "from": "handler_15", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:32.090 adding response hold on test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215
[DEBUG] 2025-04-15 07:24:32.091 stats: OUT sub { "subscribers": 1, "from": "handler_15", "channel": "test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "ttl": 60, "mode": "response" }
[DEBUG] 2025-04-15 07:24:32.091 SUB socket subscribe: test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215
[INFO] 2025-04-15 07:24:32.091 subscribe http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215 channel=test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215
[DEBUG] 2025-04-15 07:24:32.096 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-1", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:32.096 stats: OUT conn { "type": "http", "id": "connmgr:1-0-1", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:32.130 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 07:24:32.131 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:32.214 stats: OUT conn { "type": "http", "id": "connmgr:1-0-1", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:32.215 stats: OUT sub { "subscribers": 1, "from": "handler_15", "channel": "test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "ttl": 60, "mode": "response" }
[DEBUG] 2025-04-15 07:24:32.239 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 07:24:32.240 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:32.526 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:32.528 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:32.528 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 07:24:32.529 stats: OUT message { "transport": "http-response", "from": "handler_15", "count": 1, "channel": "test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215" }
[INFO] 2025-04-15 07:24:32.530 publish channel=test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215 receivers=1
[DEBUG] 2025-04-15 07:24:32.532 zhttp server: OUT connmgr { "id": "1-0-1", "seq": 3, "reason": "OK", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:18:33 GMT" ] ], "from": "handler_15", "code": 200 } 113 "{\"channel\":\"test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215\",\"message\":\"{message=First Long-Polling message}\"}\n"
[DEBUG] 2025-04-15 07:24:32.533 httpsession: cleaning up connmgr:1-0-1
[DEBUG] 2025-04-15 07:24:32.533 stats: OUT conn { "id": "connmgr:1-0-1", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 07:24:33.048 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-2", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:33.049 stats: OUT conn { "type": "http", "id": "connmgr:1-0-2", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:33.059 zrpc server: IN { "id": "70df89c0-a52d-42c9-bce6-5280b0b8396c", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "body": "", "method": "GET" }, "method": "inspect" }
[DEBUG] 2025-04-15 07:24:33.060 zrpc server: OUT { "id": "70df89c0-a52d-42c9-bce6-5280b0b8396c", "value": { "no-proxy": false }, "success": true }
[DEBUG] 2025-04-15 07:24:33.108 zrpc server: IN { "id": "091e5128-8604-4f22-ae03-d81be0f8ec17", "from": "proxy_14", "args": { "response": { "reason": "", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:18:34 GMT" ] ], "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215\"}", "code": 200 }, "request-data": { "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3MDU0NzMsImlzcyI6InB1c2hwaW4ifQ.2M-0GZqK5ihi9Kb-ypcwICBW4ZJEKo65SnXRFJhfpTA" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "body": "", "method": "GET" }, "trusted": true, "orig-request-data": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "body": "", "method": "GET" }, "inspect": { "no-proxy": false }, "requests": [ { "rid": { "id": "1-0-2", "sender": "connmgr" }, "in-seq": 2, "peer-address": "192.168.127.1", "out-credits": 8192, "logical-peer-address": "192.168.127.1", "out-seq": 2 } ], "route": "*,*,*,*" }, "method": "accept" }
[DEBUG] 2025-04-15 07:24:33.108 zrpc server: OUT { "id": "091e5128-8604-4f22-ae03-d81be0f8ec17", "value": { "accepted": true }, "success": true }
[DEBUG] 2025-04-15 07:24:33.108 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 07:24:33.109 zhttp server: OUT connmgr { "type": "keep-alive", "id": "1-0-2", "seq": 2, "from": "handler_15", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:33.109 adding response hold on test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215
[DEBUG] 2025-04-15 07:24:33.110 stats: OUT sub { "subscribers": 1, "from": "handler_15", "channel": "test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "ttl": 60, "mode": "response" }
[INFO] 2025-04-15 07:24:33.110 subscribe http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215 channel=test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215
[DEBUG] 2025-04-15 07:24:33.122 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-2", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:33.123 stats: OUT conn { "type": "http", "id": "connmgr:1-0-2", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:33.156 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 07:24:33.156 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:33.242 zhttp server: OUT connmgr { "type": "handoff-start", "id": "1-0-2", "seq": 3, "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:33.245 zhttp/zws server: IN stream { "type": "handoff-proceed", "id": "1-0-2", "seq": 2, "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:33.245 httpsession: cleaning up connmgr:1-0-2
[DEBUG] 2025-04-15 07:24:33.247 stats: OUT conn { "type": "http", "id": "connmgr:1-0-2", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:33.247 OUT retry: to=proxy_14 { "retry-seq": 0, "request-data": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "body": "", "method": "GET" }, "inspect": { "no-proxy": false }, "requests": [ { "rid": { "id": "1-0-2", "sender": "connmgr" }, "in-seq": 3, "peer-address": "192.168.127.1", "out-credits": 8192, "out-seq": 4 } ], "route": "*,*,*,*" }
[DEBUG] 2025-04-15 07:24:33.264 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-2", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:33.271 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 07:24:33.271 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:33.309 zrpc server: IN { "id": "315e6783-d30b-4c76-8486-cfb38b6b5c12", "from": "proxy_14", "args": { "response": { "reason": "", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:18:34 GMT" ] ], "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215\"}", "code": 200 }, "request-data": { "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3MDU0NzMsImlzcyI6InB1c2hwaW4ifQ.2M-0GZqK5ihi9Kb-ypcwICBW4ZJEKo65SnXRFJhfpTA" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "body": "", "method": "GET" }, "trusted": true, "orig-request-data": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "body": "", "method": "GET" }, "inspect": { "no-proxy": false }, "requests": [ { "rid": { "id": "1-0-2", "sender": "connmgr" }, "in-seq": 4, "is-retry": true, "peer-address": "192.168.127.1", "out-credits": 8192, "logical-peer-address": "192.168.127.1", "out-seq": 6 } ], "route": "*,*,*,*" }, "method": "accept" }
[DEBUG] 2025-04-15 07:24:33.310 zrpc server: OUT { "id": "315e6783-d30b-4c76-8486-cfb38b6b5c12", "value": { "accepted": true }, "success": true }
[DEBUG] 2025-04-15 07:24:33.310 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 07:24:33.310 zhttp server: OUT connmgr { "type": "keep-alive", "id": "1-0-2", "seq": 6, "from": "handler_15", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:33.310 adding response hold on test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215
[DEBUG] 2025-04-15 07:24:33.311 stats: OUT sub { "subscribers": 1, "from": "handler_15", "channel": "test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "ttl": 60, "mode": "response" }
[INFO] 2025-04-15 07:24:33.311 subscribe http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215 channel=test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215 retry
[DEBUG] 2025-04-15 07:24:33.314 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-2", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:33.314 stats: OUT conn { "type": "http", "id": "connmgr:1-0-2", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:33.383 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 07:24:33.492 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 07:24:33.549 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:33.550 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:33.551 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 07:24:33.552 stats: OUT message { "transport": "http-response", "from": "handler_15", "count": 1, "channel": "test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215" }
[INFO] 2025-04-15 07:24:33.553 publish channel=test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215 receivers=1
[DEBUG] 2025-04-15 07:24:33.554 zhttp server: OUT connmgr { "id": "1-0-2", "seq": 7, "reason": "OK", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:18:34 GMT" ] ], "from": "handler_15", "code": 200 } 114 "{\"channel\":\"test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215\",\"message\":\"{message=Second Long-Polling message}\"}\n"
[DEBUG] 2025-04-15 07:24:33.558 httpsession: cleaning up connmgr:1-0-2
[DEBUG] 2025-04-15 07:24:33.559 stats: OUT conn { "id": "connmgr:1-0-2", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 07:24:34.074 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-3", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:34.074 stats: OUT conn { "type": "http", "id": "connmgr:1-0-3", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:34.085 zrpc server: IN { "id": "51973e91-167e-497a-a1b2-c18c5d3be12c", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "body": "", "method": "GET" }, "method": "inspect" }
[DEBUG] 2025-04-15 07:24:34.086 zrpc server: OUT { "id": "51973e91-167e-497a-a1b2-c18c5d3be12c", "value": { "no-proxy": false }, "success": true }
[DEBUG] 2025-04-15 07:24:34.129 zrpc server: IN { "id": "03788953-a150-466e-802e-91040e1ef557", "from": "proxy_14", "args": { "response": { "reason": "", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:18:35 GMT" ] ], "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215\"}", "code": 200 }, "request-data": { "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3MDU0NzQsImlzcyI6InB1c2hwaW4ifQ.q8fIQH0OCW_hX_zACrIDSX_LsQLC7P5VP4R7DWi-TFE" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "body": "", "method": "GET" }, "trusted": true, "orig-request-data": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "body": "", "method": "GET" }, "inspect": { "no-proxy": false }, "requests": [ { "rid": { "id": "1-0-3", "sender": "connmgr" }, "in-seq": 2, "peer-address": "192.168.127.1", "out-credits": 8192, "logical-peer-address": "192.168.127.1", "out-seq": 2 } ], "route": "*,*,*,*" }, "method": "accept" }
[DEBUG] 2025-04-15 07:24:34.130 zrpc server: OUT { "id": "03788953-a150-466e-802e-91040e1ef557", "value": { "accepted": true }, "success": true }
[DEBUG] 2025-04-15 07:24:34.130 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 07:24:34.131 zhttp server: OUT connmgr { "type": "keep-alive", "id": "1-0-3", "seq": 2, "from": "handler_15", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:34.131 adding response hold on test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215
[DEBUG] 2025-04-15 07:24:34.133 stats: OUT sub { "subscribers": 1, "from": "handler_15", "channel": "test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215", "ttl": 60, "mode": "response" }
[INFO] 2025-04-15 07:24:34.134 subscribe http://localhost:44927/api/long-polling/test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215 channel=test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215
[DEBUG] 2025-04-15 07:24:34.136 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-3", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:34.136 stats: OUT conn { "type": "http", "id": "connmgr:1-0-3", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:34.198 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 07:24:34.198 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:34.313 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 07:24:34.314 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:34.574 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:34.574 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:34.575 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 07:24:34.575 stats: OUT message { "transport": "http-response", "from": "handler_15", "count": 1, "channel": "test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215" }
[INFO] 2025-04-15 07:24:34.575 publish channel=test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215 receivers=1
[DEBUG] 2025-04-15 07:24:34.576 zhttp server: OUT connmgr { "id": "1-0-3", "seq": 3, "reason": "OK", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:18:35 GMT" ] ], "from": "handler_15", "code": 200 } 113 "{\"channel\":\"test-channel-164de875-3f0a-42e3-a52c-ff69b05ff215\",\"message\":\"{message=Third Long-Polling message}\"}\n"
[DEBUG] 2025-04-15 07:24:34.577 httpsession: cleaning up connmgr:1-0-3
[DEBUG] 2025-04-15 07:24:34.578 stats: OUT conn { "id": "connmgr:1-0-3", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 07:24:35.094 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-4", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:35.094 stats: OUT conn { "type": "http", "id": "connmgr:1-0-4", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:35.106 zrpc server: IN { "id": "94a27efd-bb8d-4bae-9345-d5c90a424912", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-683b56d8-2f7b-4fbb-a9d7-014f9af0a93b", "body": "", "method": "GET" }, "method": "inspect" }
[DEBUG] 2025-04-15 07:24:35.107 zrpc server: OUT { "id": "94a27efd-bb8d-4bae-9345-d5c90a424912", "value": { "no-proxy": false }, "success": true }
[DEBUG] 2025-04-15 07:24:35.154 zrpc server: IN { "id": "d1eaabf8-a4f0-41f2-a3ff-cc8d2683b4a5", "from": "proxy_14", "args": { "response": { "reason": "", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-683b56d8-2f7b-4fbb-a9d7-014f9af0a93b" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:18:36 GMT" ] ], "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-683b56d8-2f7b-4fbb-a9d7-014f9af0a93b\"}", "code": 200 }, "request-data": { "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3MDU0NzUsImlzcyI6InB1c2hwaW4ifQ.IEn0_4g1rYu2ZJ0TpZ7t3r17_V5q3V2BUh8ghIlYVNA" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-683b56d8-2f7b-4fbb-a9d7-014f9af0a93b", "body": "", "method": "GET" }, "trusted": true, "orig-request-data": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44927" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44927/api/long-polling/test-channel-683b56d8-2f7b-4fbb-a9d7-014f9af0a93b", "body": "", "method": "GET" }, "inspect": { "no-proxy": false }, "requests": [ { "rid": { "id": "1-0-4", "sender": "connmgr" }, "in-seq": 2, "peer-address": "192.168.127.1", "out-credits": 8192, "logical-peer-address": "192.168.127.1", "out-seq": 2 } ], "route": "*,*,*,*" }, "method": "accept" }
[DEBUG] 2025-04-15 07:24:35.155 zrpc server: OUT { "id": "d1eaabf8-a4f0-41f2-a3ff-cc8d2683b4a5", "value": { "accepted": true }, "success": true }
[DEBUG] 2025-04-15 07:24:35.155 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 07:24:35.156 zhttp server: OUT connmgr { "type": "keep-alive", "id": "1-0-4", "seq": 2, "from": "handler_15", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:35.156 adding response hold on test-channel-683b56d8-2f7b-4fbb-a9d7-014f9af0a93b
[DEBUG] 2025-04-15 07:24:35.157 stats: OUT sub { "subscribers": 1, "from": "handler_15", "channel": "test-channel-683b56d8-2f7b-4fbb-a9d7-014f9af0a93b", "ttl": 60, "mode": "response" }
[DEBUG] 2025-04-15 07:24:35.157 SUB socket subscribe: test-channel-683b56d8-2f7b-4fbb-a9d7-014f9af0a93b
[INFO] 2025-04-15 07:24:35.157 subscribe http://localhost:44927/api/long-polling/test-channel-683b56d8-2f7b-4fbb-a9d7-014f9af0a93b channel=test-channel-683b56d8-2f7b-4fbb-a9d7-014f9af0a93b
[DEBUG] 2025-04-15 07:24:35.171 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-4", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:35.172 stats: OUT conn { "type": "http", "id": "connmgr:1-0-4", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120 }
[DEBUG] 2025-04-15 07:24:35.206 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 07:24:35.207 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:35.322 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 07:24:35.323 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:35.594 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:35.594 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:35.595 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 07:24:35.595 stats: OUT message { "transport": "http-response", "from": "handler_15", "count": 1, "channel": "test-channel-683b56d8-2f7b-4fbb-a9d7-014f9af0a93b" }
[INFO] 2025-04-15 07:24:35.595 publish channel=test-channel-683b56d8-2f7b-4fbb-a9d7-014f9af0a93b receivers=1
[DEBUG] 2025-04-15 07:24:35.596 zhttp server: OUT connmgr { "id": "1-0-4", "seq": 3, "reason": "OK", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:18:36 GMT" ] ], "from": "handler_15", "code": 200 } 126 "{\"channel\":\"test-channel-683b56d8-2f7b-4fbb-a9d7-014f9af0a93b\",\"message\":\"{message={message=Hello from Long-Polling test!}}\"}\n"
[DEBUG] 2025-04-15 07:24:35.597 httpsession: cleaning up connmgr:1-0-4
[DEBUG] 2025-04-15 07:24:35.597 stats: OUT conn { "id": "connmgr:1-0-4", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 07:24:35.952 starting...
[DEBUG] 2025-04-15 07:24:35.954 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 07:24:35.955 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 07:24:35.955 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 07:24:35.956 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 07:24:35.956 control server: tcp://*:5562
[DEBUG] 2025-04-15 07:24:35.957 in pull: tcp://*:5560
[DEBUG] 2025-04-15 07:24:35.957 in sub: tcp://*:5563
[DEBUG] 2025-04-15 07:24:35.957 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 07:24:35.958 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 07:24:35.958 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 07:24:35.959 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 07:24:35.961 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 07:24:35.961 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 07:24:35.962 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 07:24:35.962 started
[DEBUG] 2025-04-15 07:24:36.266 IN proxy stats: conn { "ttl": 120, "peer-address": "192.168.127.1", "type": "http", "id": "connmgr:1-0-0", "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:36.267 stats: OUT conn { "ttl": 120, "peer-address": "192.168.127.1", "type": "http", "id": "connmgr:1-0-0", "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:36.277 zrpc server: IN { "method": "inspect", "args": { "uri": "http://localhost:42293/api/health/check", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:42293" ], [ "accept", "*/*" ] ], "body": "", "method": "GET" }, "id": "6e259275-64f9-4e8c-9b4b-55196eaf4419" }
[DEBUG] 2025-04-15 07:24:36.277 zrpc server: OUT { "value": { "no-proxy": false }, "id": "6e259275-64f9-4e8c-9b4b-55196eaf4419", "success": true }
[DEBUG] 2025-04-15 07:24:36.292 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:36.292 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 07:24:36.293 publish channel=test-channel-438dfa21-f3d4-4902-9928-aa1e35864d80 receivers=0
[DEBUG] 2025-04-15 07:24:36.310 IN proxy stats: conn { "id": "connmgr:1-0-0", "unavailable": true, "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:36.310 stats: OUT conn { "id": "connmgr:1-0-0", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 07:24:36.331 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:36.332 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 07:24:36.332 publish channel=test-channel-94f8aad3-035b-4de5-a6e3-bcb840d973f2 receivers=0
[DEBUG] 2025-04-15 07:24:36.345 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:36.345 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 07:24:36.345 publish channel=test-channel-885cc1ea-4510-487f-9d75-f49b6514c2aa receivers=0
[DEBUG] 2025-04-15 07:24:36.382 IN proxy stats: activity { "count": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:36.383 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:36.617 starting...
[DEBUG] 2025-04-15 07:24:36.619 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 07:24:36.621 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 07:24:36.621 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 07:24:36.622 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 07:24:36.622 control server: tcp://*:5562
[DEBUG] 2025-04-15 07:24:36.622 in pull: tcp://*:5560
[DEBUG] 2025-04-15 07:24:36.622 in sub: tcp://*:5563
[DEBUG] 2025-04-15 07:24:36.622 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 07:24:36.623 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 07:24:36.623 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 07:24:36.623 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 07:24:36.623 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 07:24:36.623 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 07:24:36.624 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 07:24:36.624 started
[DEBUG] 2025-04-15 07:24:36.861 IN proxy stats: conn { "id": "connmgr:1-0-0", "ttl": 120, "type": "http", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:36.861 stats: OUT conn { "id": "connmgr:1-0-0", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:36.867 IN proxy stats: conn { "id": "connmgr:0-0-1", "ttl": 120, "type": "http", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:36.867 stats: OUT conn { "id": "connmgr:0-0-1", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:36.879 zrpc server: IN { "id": "2b5958a3-35ab-4846-bda5-74b06797095e", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36057" ], [ "accept", "*/*" ] ], "method": "GET", "uri": "http://localhost:36057/api/health/check", "body": "" }, "method": "inspect" }
[DEBUG] 2025-04-15 07:24:36.879 zrpc server: OUT { "id": "2b5958a3-35ab-4846-bda5-74b06797095e", "success": true, "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 07:24:36.879 zrpc server: IN { "id": "7a56d59e-fc57-411c-823b-44c89271a34f", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36057" ], [ "accept", "*/*" ] ], "method": "GET", "uri": "http://localhost:36057/api/events/test-channel-e31dbab3-506a-4d31-941b-b06900902ed1", "body": "" }, "method": "inspect" }
[DEBUG] 2025-04-15 07:24:36.879 zrpc server: OUT { "id": "7a56d59e-fc57-411c-823b-44c89271a34f", "success": true, "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 07:24:36.922 IN proxy stats: conn { "id": "connmgr:1-0-0", "unavailable": true, "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:36.922 stats: OUT conn { "id": "connmgr:1-0-0", "unavailable": true, "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:36.937 zrpc server: IN { "id": "7a219f0f-890f-420d-964a-5446bb0ee2e4", "args": { "route": "*,*,*,*", "requests": [ { "out-credits": 8192, "out-seq": 2, "rid": { "id": "0-0-1", "sender": "connmgr" }, "in-seq": 2, "peer-address": "192.168.127.1", "logical-peer-address": "192.168.127.1" } ], "trusted": true, "orig-request-data": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36057" ], [ "accept", "*/*" ] ], "method": "GET", "uri": "http://localhost:36057/api/events/test-channel-e31dbab3-506a-4d31-941b-b06900902ed1", "body": "" }, "request-data": { "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36057" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3MDU0NzYsImlzcyI6InB1c2hwaW4ifQ.D9mMBtJRGv5ueiASDf6-cN796LDYHq65ibvVWtJmZXM" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "method": "GET", "uri": "http://localhost:36057/api/events/test-channel-e31dbab3-506a-4d31-941b-b06900902ed1", "body": "" }, "inspect": { "no-proxy": false }, "response": { "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-e31dbab3-506a-4d31-941b-b06900902ed1" ], [ "Content-Type", "text/event-stream" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:18:38 GMT" ] ], "reason": "", "body": "data:Successfully subscribed to channel: test-channel-e31dbab3-506a-4d31-941b-b06900902ed1\n\n" } }, "method": "accept", "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:36.937 zrpc server: OUT { "id": "7a219f0f-890f-420d-964a-5446bb0ee2e4", "success": true, "value": { "accepted": true } }
[DEBUG] 2025-04-15 07:24:36.937 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 07:24:36.937 zhttp server: OUT connmgr { "id": "0-0-1", "type": "keep-alive", "seq": 2, "from": "handler_15", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:36.937 adding stream hold on test-channel-e31dbab3-506a-4d31-941b-b06900902ed1
[DEBUG] 2025-04-15 07:24:36.937 stats: OUT sub { "ttl": 60, "mode": "stream", "from": "handler_15", "subscribers": 1, "channel": "test-channel-e31dbab3-506a-4d31-941b-b06900902ed1" }
[DEBUG] 2025-04-15 07:24:36.938 SUB socket subscribe: test-channel-e31dbab3-506a-4d31-941b-b06900902ed1
[INFO] 2025-04-15 07:24:36.938 subscribe http://localhost:36057/api/events/test-channel-e31dbab3-506a-4d31-941b-b06900902ed1 channel=test-channel-e31dbab3-506a-4d31-941b-b06900902ed1
[DEBUG] 2025-04-15 07:24:36.938 zhttp server: OUT connmgr { "id": "0-0-1", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Date", "Tue, 15 Apr 2025 17:18:38 GMT" ] ], "seq": 3, "from": "handler_15", "reason": "OK", "more": true } 92 "data:Successfully subscribed to channel: test-channel-e31dbab3-506a-4d31-941b-b06900902ed1\n\n"
[DEBUG] 2025-04-15 07:24:36.939 IN proxy stats: conn { "id": "connmgr:0-0-1", "ttl": 120, "type": "http", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:36.939 stats: OUT conn { "id": "connmgr:0-0-1", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:36.939 zhttp/zws server: IN stream { "id": "0-0-1", "credits": 92, "type": "credit", "seq": 2, "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:36.940 zhttp server: OUT connmgr { "id": "0-0-1", "type": "keep-alive", "seq": 4, "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:36.972 IN proxy stats: activity { "from": "proxy_14", "count": 2 }
[DEBUG] 2025-04-15 07:24:36.972 IN proxy stats: counts { "requests-received": 2, "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:37.088 stats: OUT activity { "from": "handler_15", "count": 2 }
[DEBUG] 2025-04-15 07:24:37.088 stats: OUT counts { "requests-received": 2, "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:37.644 stats: OUT conn { "id": "connmgr:0-0-1", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:37.645 stats: OUT sub { "ttl": 60, "mode": "stream", "from": "handler_15", "subscribers": 1, "channel": "test-channel-e31dbab3-506a-4d31-941b-b06900902ed1" }
[DEBUG] 2025-04-15 07:24:37.876 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:37.877 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:37.878 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 07:24:37.879 stats: OUT message { "transport": "http-stream", "from": "handler_15", "count": 1, "channel": "test-channel-e31dbab3-506a-4d31-941b-b06900902ed1" }
[INFO] 2025-04-15 07:24:37.879 publish channel=test-channel-e31dbab3-506a-4d31-941b-b06900902ed1 receivers=1
[DEBUG] 2025-04-15 07:24:37.880 zhttp server: OUT connmgr { "id": "0-0-1", "seq": 5, "from": "handler_15", "more": true } 57 "event: custom-event\ndata: Hello with custom event type!\n\n"
[DEBUG] 2025-04-15 07:24:37.883 zhttp/zws server: IN stream { "id": "0-0-1", "credits": 57, "type": "credit", "seq": 3, "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:37.886 zhttp/zws server: IN stream { "id": "0-0-1", "type": "cancel", "seq": 4, "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:37.886 zhttp server: received cancel id=0-0-1
[DEBUG] 2025-04-15 07:24:37.886 httpsession: cleaning up connmgr:0-0-1
[DEBUG] 2025-04-15 07:24:37.887 stats: OUT sub { "unavailable": true, "mode": "stream", "from": "handler_15", "channel": "test-channel-e31dbab3-506a-4d31-941b-b06900902ed1" }
[DEBUG] 2025-04-15 07:24:37.887 SUB socket unsubscribe: test-channel-e31dbab3-506a-4d31-941b-b06900902ed1
[DEBUG] 2025-04-15 07:24:37.887 stats: OUT conn { "id": "connmgr:0-0-1", "unavailable": true, "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:37.891 IN proxy stats: conn { "id": "connmgr:1-0-1", "ttl": 120, "type": "http", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:37.892 stats: OUT conn { "id": "connmgr:1-0-1", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:37.905 zrpc server: IN { "id": "39ebc387-f51b-4ab3-903c-9c0d264a20bb", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36057" ], [ "accept", "*/*" ] ], "method": "GET", "uri": "http://localhost:36057/api/events/test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae", "body": "" }, "method": "inspect" }
[DEBUG] 2025-04-15 07:24:37.905 zrpc server: OUT { "id": "39ebc387-f51b-4ab3-903c-9c0d264a20bb", "success": true, "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 07:24:37.961 zrpc server: IN { "id": "3657f5c6-a3ae-4880-9dab-933a6fcca491", "args": { "route": "*,*,*,*", "requests": [ { "out-credits": 8192, "out-seq": 2, "rid": { "id": "1-0-1", "sender": "connmgr" }, "in-seq": 2, "peer-address": "192.168.127.1", "logical-peer-address": "192.168.127.1" } ], "trusted": true, "orig-request-data": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36057" ], [ "accept", "*/*" ] ], "method": "GET", "uri": "http://localhost:36057/api/events/test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae", "body": "" }, "request-data": { "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36057" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3MDU0NzcsImlzcyI6InB1c2hwaW4ifQ.dd0FcQqcmAQorTsIsKVk6idDtvqfKrUZ_8tFAiFIWFw" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "method": "GET", "uri": "http://localhost:36057/api/events/test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae", "body": "" }, "inspect": { "no-proxy": false }, "response": { "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:18:39 GMT" ] ], "reason": "", "body": "data:Successfully subscribed to channel: test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae\n\n" } }, "method": "accept", "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:37.962 zrpc server: OUT { "id": "3657f5c6-a3ae-4880-9dab-933a6fcca491", "success": true, "value": { "accepted": true } }
[DEBUG] 2025-04-15 07:24:37.962 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 07:24:37.962 zhttp server: OUT connmgr { "id": "1-0-1", "type": "keep-alive", "seq": 2, "from": "handler_15", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:37.963 adding stream hold on test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae
[DEBUG] 2025-04-15 07:24:37.963 stats: OUT sub { "ttl": 60, "mode": "stream", "from": "handler_15", "subscribers": 1, "channel": "test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae" }
[DEBUG] 2025-04-15 07:24:37.963 SUB socket subscribe: test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae
[INFO] 2025-04-15 07:24:37.963 subscribe http://localhost:36057/api/events/test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae channel=test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae
[DEBUG] 2025-04-15 07:24:37.964 zhttp server: OUT connmgr { "id": "1-0-1", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Date", "Tue, 15 Apr 2025 17:18:39 GMT" ] ], "seq": 3, "from": "handler_15", "reason": "OK", "more": true } 92 "data:Successfully subscribed to channel: test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae\n\n"
[DEBUG] 2025-04-15 07:24:37.966 zhttp/zws server: IN stream { "id": "1-0-1", "credits": 92, "type": "credit", "seq": 2, "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:37.967 zhttp server: OUT connmgr { "id": "1-0-1", "type": "keep-alive", "seq": 4, "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:37.979 IN proxy stats: conn { "id": "connmgr:1-0-1", "ttl": 120, "type": "http", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:37.979 stats: OUT conn { "id": "connmgr:1-0-1", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:38.002 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 07:24:38.002 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:38.120 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 07:24:38.121 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:38.898 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:38.899 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:38.900 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 07:24:38.900 stats: OUT message { "transport": "http-stream", "from": "handler_15", "count": 1, "channel": "test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae" }
[INFO] 2025-04-15 07:24:38.901 publish channel=test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae receivers=1
[DEBUG] 2025-04-15 07:24:38.902 zhttp server: OUT connmgr { "id": "1-0-1", "seq": 5, "from": "handler_15", "more": true } 28 "data: Hello from SSE test!\n\n"
[DEBUG] 2025-04-15 07:24:38.907 zhttp/zws server: IN stream { "id": "1-0-1", "credits": 28, "type": "credit", "seq": 3, "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:38.910 zhttp/zws server: IN stream { "id": "1-0-1", "type": "cancel", "seq": 4, "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:38.912 zhttp server: received cancel id=1-0-1
[DEBUG] 2025-04-15 07:24:38.912 httpsession: cleaning up connmgr:1-0-1
[DEBUG] 2025-04-15 07:24:38.912 stats: OUT sub { "unavailable": true, "mode": "stream", "from": "handler_15", "channel": "test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae" }
[DEBUG] 2025-04-15 07:24:38.913 SUB socket unsubscribe: test-channel-7b6b691b-cfb8-4649-b72c-8f44b5f0f1ae
[DEBUG] 2025-04-15 07:24:38.913 stats: OUT conn { "id": "connmgr:1-0-1", "unavailable": true, "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:38.916 IN proxy stats: conn { "id": "connmgr:1-0-2", "ttl": 120, "type": "http", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:38.916 stats: OUT conn { "id": "connmgr:1-0-2", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:38.929 zrpc server: IN { "id": "8c71d16d-8d2c-4d45-b8a2-6c9283c7c11e", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36057" ], [ "accept", "*/*" ] ], "method": "GET", "uri": "http://localhost:36057/api/events/test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c", "body": "" }, "method": "inspect" }
[DEBUG] 2025-04-15 07:24:38.930 zrpc server: OUT { "id": "8c71d16d-8d2c-4d45-b8a2-6c9283c7c11e", "success": true, "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 07:24:38.986 zrpc server: IN { "id": "94c97d5f-4996-4a86-b884-88bd1296ed00", "args": { "route": "*,*,*,*", "requests": [ { "out-credits": 8192, "out-seq": 2, "rid": { "id": "1-0-2", "sender": "connmgr" }, "in-seq": 2, "peer-address": "192.168.127.1", "logical-peer-address": "192.168.127.1" } ], "trusted": true, "orig-request-data": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36057" ], [ "accept", "*/*" ] ], "method": "GET", "uri": "http://localhost:36057/api/events/test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c", "body": "" }, "request-data": { "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36057" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3MDU0NzgsImlzcyI6InB1c2hwaW4ifQ.gJHxlpoiGVU55GPhIf1wkIkjqW9KRJtYv-tNcJ0bGec" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "method": "GET", "uri": "http://localhost:36057/api/events/test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c", "body": "" }, "inspect": { "no-proxy": false }, "response": { "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:18:40 GMT" ] ], "reason": "", "body": "data:Successfully subscribed to channel: test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c\n\n" } }, "method": "accept", "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:38.987 zrpc server: OUT { "id": "94c97d5f-4996-4a86-b884-88bd1296ed00", "success": true, "value": { "accepted": true } }
[DEBUG] 2025-04-15 07:24:38.988 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 07:24:38.988 zhttp server: OUT connmgr { "id": "1-0-2", "type": "keep-alive", "seq": 2, "from": "handler_15", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:38.988 adding stream hold on test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c
[DEBUG] 2025-04-15 07:24:38.989 stats: OUT sub { "ttl": 60, "mode": "stream", "from": "handler_15", "subscribers": 1, "channel": "test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c" }
[DEBUG] 2025-04-15 07:24:38.989 SUB socket subscribe: test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c
[INFO] 2025-04-15 07:24:38.990 subscribe http://localhost:36057/api/events/test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c channel=test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c
[DEBUG] 2025-04-15 07:24:38.990 zhttp server: OUT connmgr { "id": "1-0-2", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Date", "Tue, 15 Apr 2025 17:18:40 GMT" ] ], "seq": 3, "from": "handler_15", "reason": "OK", "more": true } 92 "data:Successfully subscribed to channel: test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c\n\n"
[DEBUG] 2025-04-15 07:24:38.992 IN proxy stats: conn { "id": "connmgr:1-0-2", "ttl": 120, "type": "http", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:38.993 stats: OUT conn { "id": "connmgr:1-0-2", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 07:24:38.993 zhttp/zws server: IN stream { "id": "1-0-2", "credits": 92, "type": "credit", "seq": 2, "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:38.993 zhttp server: OUT connmgr { "id": "1-0-2", "type": "keep-alive", "seq": 4, "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:39.029 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 07:24:39.030 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:39.145 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 07:24:39.146 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:39.922 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:39.923 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:39.923 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 07:24:39.923 stats: OUT message { "transport": "http-stream", "from": "handler_15", "count": 1, "channel": "test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c" }
[INFO] 2025-04-15 07:24:39.924 publish channel=test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c receivers=1
[DEBUG] 2025-04-15 07:24:39.924 zhttp server: OUT connmgr { "id": "1-0-2", "seq": 5, "from": "handler_15", "more": true } 25 "data: First SSE message\n\n"
[DEBUG] 2025-04-15 07:24:39.930 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:39.931 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:39.931 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 07:24:39.932 stats: OUT message { "transport": "http-stream", "from": "handler_15", "count": 1, "channel": "test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c" }
[INFO] 2025-04-15 07:24:39.932 publish channel=test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c receivers=1
[DEBUG] 2025-04-15 07:24:39.933 zhttp/zws server: IN stream { "id": "1-0-2", "credits": 25, "type": "credit", "seq": 3, "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:39.941 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:39.942 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:39.942 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 07:24:39.944 stats: OUT message { "transport": "http-stream", "from": "handler_15", "count": 1, "channel": "test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c" }
[INFO] 2025-04-15 07:24:39.948 publish channel=test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c receivers=1
[DEBUG] 2025-04-15 07:24:39.969 zhttp server: OUT connmgr { "id": "1-0-2", "seq": 6, "from": "handler_15", "more": true } 51 "data: Second SSE message\n\ndata: Third SSE message\n\n"
[DEBUG] 2025-04-15 07:24:39.972 zhttp/zws server: IN stream { "id": "1-0-2", "credits": 51, "type": "credit", "seq": 4, "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:39.974 zhttp/zws server: IN stream { "id": "1-0-2", "type": "cancel", "seq": 5, "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 07:24:39.974 zhttp server: received cancel id=1-0-2
[DEBUG] 2025-04-15 07:24:39.975 httpsession: cleaning up connmgr:1-0-2
[DEBUG] 2025-04-15 07:24:39.978 stats: OUT sub { "unavailable": true, "mode": "stream", "from": "handler_15", "channel": "test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c" }
[DEBUG] 2025-04-15 07:24:39.979 SUB socket unsubscribe: test-channel-513e9655-07d7-4b7f-bec9-5ce56e85431c
[DEBUG] 2025-04-15 07:24:39.979 stats: OUT conn { "id": "connmgr:1-0-2", "unavailable": true, "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:40.228 starting...
[DEBUG] 2025-04-15 07:24:40.229 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 07:24:40.229 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 07:24:40.230 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 07:24:40.230 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 07:24:40.230 control server: tcp://*:5562
[DEBUG] 2025-04-15 07:24:40.230 in pull: tcp://*:5560
[DEBUG] 2025-04-15 07:24:40.230 in sub: tcp://*:5563
[DEBUG] 2025-04-15 07:24:40.231 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 07:24:40.231 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 07:24:40.231 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 07:24:40.232 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 07:24:40.232 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 07:24:40.232 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 07:24:40.232 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 07:24:40.232 started
[DEBUG] 2025-04-15 07:24:40.434 IN proxy stats: conn { "type": "http", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 07:24:40.435 stats: OUT conn { "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 07:24:40.447 zrpc server: IN { "method": "inspect", "id": "fd773f78-63ea-4b04-9ee8-89fb84a77946", "args": { "method": "GET", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40801" ], [ "accept", "*/*" ] ], "uri": "http://localhost:40801/api/health/check" } }
[DEBUG] 2025-04-15 07:24:40.447 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "fd773f78-63ea-4b04-9ee8-89fb84a77946" }
[DEBUG] 2025-04-15 07:24:40.454 IN proxy stats: conn { "type": "ws", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" }
[DEBUG] 2025-04-15 07:24:40.455 stats: OUT conn { "type": "ws", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" }
[DEBUG] 2025-04-15 07:24:40.478 IN proxy stats: conn { "from": "proxy_14", "id": "connmgr:1-0-0", "unavailable": true }
[DEBUG] 2025-04-15 07:24:40.478 stats: OUT conn { "from": "handler_15", "id": "connmgr:1-0-0", "unavailable": true }
[DEBUG] 2025-04-15 07:24:40.495 IN wscontrol: { "items": [ { "type": "here", "ttl": 60, "route": "*,*,*,*", "req-id": "0", "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6", "uri": "ws://localhost:40801/api/ws/test-channel-221e888c-3258-4fef-863f-33f195255432" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:40.496 added ws session: 9726dbde-5ae0-44c4-aedb-92b95186d5b6
[DEBUG] 2025-04-15 07:24:40.496 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "req-id": "0", "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:40.517 IN wscontrol: { "items": [ { "type": "grip", "req-id": "1", "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-221e888c-3258-4fef-863f-33f195255432\"}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:40.518 ws session 9726dbde-5ae0-44c4-aedb-92b95186d5b6 subscribed to test-channel-221e888c-3258-4fef-863f-33f195255432
[DEBUG] 2025-04-15 07:24:40.518 stats: OUT sub { "channel": "test-channel-221e888c-3258-4fef-863f-33f195255432", "from": "handler_15", "ttl": 60, "subscribers": 1, "mode": "ws" }
[DEBUG] 2025-04-15 07:24:40.518 SUB socket subscribe: test-channel-221e888c-3258-4fef-863f-33f195255432
[INFO] 2025-04-15 07:24:40.518 subscribe ws://localhost:40801/api/ws/test-channel-221e888c-3258-4fef-863f-33f195255432 channel=test-channel-221e888c-3258-4fef-863f-33f195255432
[DEBUG] 2025-04-15 07:24:40.519 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "req-id": "1", "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:40.519 IN wscontrol: { "items": [ { "type": "grip", "req-id": "2", "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:40.519 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "req-id": "2", "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" }, { "type": "keep-alive-setup", "timeout": 30, "keep-alive-mode": "idle", "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:40.540 IN proxy stats: activity { "from": "proxy_14", "count": 2 }
[DEBUG] 2025-04-15 07:24:40.541 IN proxy stats: counts { "from": "proxy_14", "requests-received": 2 }
[DEBUG] 2025-04-15 07:24:40.649 stats: OUT activity { "from": "handler_15", "count": 2 }
[DEBUG] 2025-04-15 07:24:40.650 stats: OUT counts { "from": "handler_15", "requests-received": 2 }
[DEBUG] 2025-04-15 07:24:40.753 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:40.754 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:40.754 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 07:24:40.756 stats: OUT message { "transport": "ws-message", "channel": "test-channel-221e888c-3258-4fef-863f-33f195255432", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 07:24:40.757 publish channel=test-channel-221e888c-3258-4fef-863f-33f195255432 receivers=1
[DEBUG] 2025-04-15 07:24:40.758 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "content-type": "text", "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6", "message": "{\"channel\":\"test-channel-221e888c-3258-4fef-863f-33f195255432\",\"data\":\"{\\\"type\\\":\\\"binary\\\",\\\"data\\\":\\\"AAECAwQFBgcICQ==\\\"}\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:40.792 IN proxy stats: conn { "type": "ws", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" }
[DEBUG] 2025-04-15 07:24:40.793 stats: OUT conn { "type": "ws", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" }
[DEBUG] 2025-04-15 07:24:40.875 IN wscontrol: { "items": [ { "type": "here", "ttl": 60, "route": "*,*,*,*", "req-id": "0", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7", "uri": "ws://localhost:40801/api/ws/test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:40.876 added ws session: 3beda84a-e4fc-4087-bb57-c34b1148d3a7
[DEBUG] 2025-04-15 07:24:40.876 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "req-id": "0", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:40.903 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 07:24:40.903 IN wscontrol: { "items": [ { "type": "grip", "req-id": "1", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661\"}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:40.904 ws session 3beda84a-e4fc-4087-bb57-c34b1148d3a7 subscribed to test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661
[DEBUG] 2025-04-15 07:24:40.904 stats: OUT sub { "channel": "test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661", "from": "handler_15", "ttl": 60, "subscribers": 1, "mode": "ws" }
[DEBUG] 2025-04-15 07:24:40.905 SUB socket subscribe: test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661
[INFO] 2025-04-15 07:24:40.905 subscribe ws://localhost:40801/api/ws/test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661 channel=test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661
[DEBUG] 2025-04-15 07:24:40.906 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "req-id": "1", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:40.906 IN wscontrol: { "items": [ { "type": "grip", "req-id": "2", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:40.906 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "req-id": "2", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" }, { "type": "keep-alive-setup", "timeout": 30, "keep-alive-mode": "idle", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:40.907 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:41.021 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 07:24:41.022 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:41.093 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:41.094 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:41.094 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 07:24:41.095 stats: OUT message { "transport": "ws-message", "channel": "test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 07:24:41.095 publish channel=test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661 receivers=1
[DEBUG] 2025-04-15 07:24:41.097 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "content-type": "text", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7", "message": "{\"channel\":\"test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661\",\"data\":\"First WebSocket message\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:41.104 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:41.105 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:41.105 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 07:24:41.105 stats: OUT message { "transport": "ws-message", "channel": "test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 07:24:41.106 publish channel=test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661 receivers=1
[DEBUG] 2025-04-15 07:24:41.116 httpserver: IN POST /publish
[DEBUG] 2025-04-15 07:24:41.116 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 07:24:41.117 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 07:24:41.117 stats: OUT message { "transport": "ws-message", "channel": "test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 07:24:41.117 publish channel=test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661 receivers=1
[DEBUG] 2025-04-15 07:24:41.142 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "content-type": "text", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7", "message": "{\"channel\":\"test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661\",\"data\":\"Second WebSocket message\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:41.143 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "content-type": "text", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7", "message": "{\"channel\":\"test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661\",\"data\":\"Third WebSocket message\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:41.179 IN proxy stats: conn { "type": "ws", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "751bf935-2d4f-4826-94c9-7f8164c2260c" }
[DEBUG] 2025-04-15 07:24:41.180 stats: OUT conn { "type": "ws", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "751bf935-2d4f-4826-94c9-7f8164c2260c" }
[DEBUG] 2025-04-15 07:24:41.242 IN proxy stats: conn { "type": "ws", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" }
[DEBUG] 2025-04-15 07:24:41.243 stats: OUT conn { "type": "ws", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" }
[DEBUG] 2025-04-15 07:24:41.244 stats: OUT sub { "channel": "test-channel-221e888c-3258-4fef-863f-33f195255432", "from": "handler_15", "ttl": 60, "subscribers": 1, "mode": "ws" }
[DEBUG] 2025-04-15 07:24:41.266 IN wscontrol: { "items": [ { "type": "here", "ttl": 60, "route": "*,*,*,*", "req-id": "0", "cid": "751bf935-2d4f-4826-94c9-7f8164c2260c", "uri": "ws://localhost:40801/api/ws/test-channel-49863fe1-f58a-40db-99ae-26ed9d33a7f2" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:41.267 added ws session: 751bf935-2d4f-4826-94c9-7f8164c2260c
[DEBUG] 2025-04-15 07:24:41.267 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "req-id": "0", "cid": "751bf935-2d4f-4826-94c9-7f8164c2260c" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:41.282 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 07:24:41.282 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:41.293 IN wscontrol: { "items": [ { "type": "grip", "req-id": "1", "cid": "751bf935-2d4f-4826-94c9-7f8164c2260c", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-49863fe1-f58a-40db-99ae-26ed9d33a7f2\"}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:41.293 ws session 751bf935-2d4f-4826-94c9-7f8164c2260c subscribed to test-channel-49863fe1-f58a-40db-99ae-26ed9d33a7f2
[DEBUG] 2025-04-15 07:24:41.293 stats: OUT sub { "channel": "test-channel-49863fe1-f58a-40db-99ae-26ed9d33a7f2", "from": "handler_15", "ttl": 60, "subscribers": 1, "mode": "ws" }
[DEBUG] 2025-04-15 07:24:41.294 SUB socket subscribe: test-channel-49863fe1-f58a-40db-99ae-26ed9d33a7f2
[INFO] 2025-04-15 07:24:41.294 subscribe ws://localhost:40801/api/ws/test-channel-49863fe1-f58a-40db-99ae-26ed9d33a7f2 channel=test-channel-49863fe1-f58a-40db-99ae-26ed9d33a7f2
[DEBUG] 2025-04-15 07:24:41.294 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "req-id": "1", "cid": "751bf935-2d4f-4826-94c9-7f8164c2260c" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:41.294 IN wscontrol: { "items": [ { "type": "grip", "req-id": "2", "cid": "751bf935-2d4f-4826-94c9-7f8164c2260c", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:41.295 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "req-id": "2", "cid": "751bf935-2d4f-4826-94c9-7f8164c2260c" }, { "type": "keep-alive-setup", "timeout": 30, "keep-alive-mode": "idle", "cid": "751bf935-2d4f-4826-94c9-7f8164c2260c" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 07:24:41.399 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 07:24:41.400 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 07:24:41.510 IN wscontrol: { "items": [ { "type": "keep-alive", "ttl": 60, "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:42.252 stats: OUT sub { "channel": "test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661", "from": "handler_15", "ttl": 60, "subscribers": 1, "mode": "ws" }
[DEBUG] 2025-04-15 07:24:42.257 IN proxy stats: conn { "type": "ws", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" }
[DEBUG] 2025-04-15 07:24:42.257 stats: OUT conn { "type": "ws", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" }
[DEBUG] 2025-04-15 07:24:42.520 IN wscontrol: { "items": [ { "type": "keep-alive", "ttl": 60, "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 07:24:43.273 stats: OUT sub { "channel": "test-channel-49863fe1-f58a-40db-99ae-26ed9d33a7f2", "from": "handler_15", "ttl": 60, "subscribers": 1, "mode": "ws" }
[DEBUG] 2025-04-15 07:24:43.274 IN proxy stats: conn { "type": "ws", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "751bf935-2d4f-4826-94c9-7f8164c2260c" }
[DEBUG] 2025-04-15 07:24:43.274 stats: OUT conn { "type": "ws", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "751bf935-2d4f-4826-94c9-7f8164c2260c" }
[DEBUG] 2025-04-15 07:24:43.503 IN proxy stats: conn { "type": "ws", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "ae96d3e1-5998-44a2-9751-83cf7c536b4a" }
[DEBUG] 2025-04-15 07:24:43.503 stats: OUT conn { "type": "ws", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "ae96d3e1-5998-44a2-9751-83cf7c536b4a" }
[DEBUG] 2025-04-15 17:18:44.892 stats: OUT sub { "channel": "test-channel-221e888c-3258-4fef-863f-33f195255432", "from": "handler_15", "ttl": 60, "subscribers": 1, "mode": "ws" }
[DEBUG] 2025-04-15 17:18:44.892 stats: OUT sub { "channel": "test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661", "from": "handler_15", "ttl": 60, "subscribers": 1, "mode": "ws" }
[DEBUG] 2025-04-15 17:18:44.892 stats: OUT sub { "channel": "test-channel-49863fe1-f58a-40db-99ae-26ed9d33a7f2", "from": "handler_15", "ttl": 60, "subscribers": 1, "mode": "ws" }
[DEBUG] 2025-04-15 17:18:44.892 stats: OUT report { "server-header-bytes-sent": 0, "received": 4, "client-header-bytes-sent": 0, "sent": 4, "client-content-bytes-received": 0, "connections": 4, "server-content-bytes-sent": 0, "minutes": 2381, "from": "handler_15", "client-header-bytes-received": 0, "server-header-bytes-received": 0, "http-response-sent": 0, "server-content-bytes-received": 0, "client-content-bytes-sent": 0, "server-messages-received": 0, "server-messages-sent": 0, "client-messages-sent": 0, "duration": 35644457, "client-messages-received": 0 }
[DEBUG] 2025-04-15 17:18:44.893 zrpc client: OUT { "method": "report", "id": "0b49aac0-9705-40eb-af81-3bd762a4a5d7", "args": { "stats": { "received": 4, "connections": 4, "sent": 4, "http-response-sent": 0, "minutes": 2381 } } }
[DEBUG] 2025-04-15 17:18:44.893 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:18:44.893 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:18:44.893 IN proxy stats: conn { "type": "ws", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" }
[DEBUG] 2025-04-15 17:18:44.894 stats: OUT conn { "type": "ws", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" }
[DEBUG] 2025-04-15 17:18:44.894 IN proxy stats: conn { "type": "ws", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" }
[DEBUG] 2025-04-15 17:18:44.894 stats: OUT conn { "type": "ws", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" }
[DEBUG] 2025-04-15 17:18:44.894 IN proxy stats: conn { "type": "ws", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "751bf935-2d4f-4826-94c9-7f8164c2260c" }
[DEBUG] 2025-04-15 17:18:44.894 stats: OUT conn { "type": "ws", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "751bf935-2d4f-4826-94c9-7f8164c2260c" }
[DEBUG] 2025-04-15 17:18:44.895 IN proxy stats: conn { "type": "ws", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "ae96d3e1-5998-44a2-9751-83cf7c536b4a" }
[DEBUG] 2025-04-15 17:18:44.895 stats: OUT conn { "type": "ws", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "ae96d3e1-5998-44a2-9751-83cf7c536b4a" }
[DEBUG] 2025-04-15 17:18:44.895 IN proxy stats: conn { "type": "ws", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "ae96d3e1-5998-44a2-9751-83cf7c536b4a" }
[DEBUG] 2025-04-15 17:18:44.895 stats: OUT conn { "type": "ws", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "ae96d3e1-5998-44a2-9751-83cf7c536b4a" }
[DEBUG] 2025-04-15 17:18:44.895 IN proxy stats: report { "server-header-bytes-sent": 2409, "received": 0, "client-header-bytes-sent": 1276, "sent": 0, "client-content-bytes-received": 0, "connections": 4, "server-content-bytes-sent": 0, "minutes": 2381, "from": "proxy_14", "client-header-bytes-received": 1059, "server-header-bytes-received": 1360, "http-response-sent": 0, "server-content-bytes-received": 740, "client-content-bytes-sent": 1027, "server-messages-received": 9, "server-messages-sent": 0, "client-messages-sent": 7, "duration": 35644460, "client-messages-received": 0 }
[DEBUG] 2025-04-15 17:18:44.896 IN proxy stats: conn { "from": "proxy_14", "id": "9726dbde-5ae0-44c4-aedb-92b95186d5b6", "unavailable": true }
[DEBUG] 2025-04-15 17:18:44.896 stats: OUT conn { "from": "handler_15", "id": "9726dbde-5ae0-44c4-aedb-92b95186d5b6", "unavailable": true }
[DEBUG] 2025-04-15 17:18:44.896 IN proxy stats: conn { "from": "proxy_14", "id": "3beda84a-e4fc-4087-bb57-c34b1148d3a7", "unavailable": true }
[DEBUG] 2025-04-15 17:18:44.896 stats: OUT conn { "from": "handler_15", "id": "3beda84a-e4fc-4087-bb57-c34b1148d3a7", "unavailable": true }
[DEBUG] 2025-04-15 17:18:44.896 IN proxy stats: conn { "from": "proxy_14", "id": "751bf935-2d4f-4826-94c9-7f8164c2260c", "unavailable": true }
[DEBUG] 2025-04-15 17:18:44.897 stats: OUT conn { "from": "handler_15", "id": "751bf935-2d4f-4826-94c9-7f8164c2260c", "unavailable": true }
[DEBUG] 2025-04-15 17:18:44.897 IN proxy stats: conn { "from": "proxy_14", "id": "ae96d3e1-5998-44a2-9751-83cf7c536b4a", "unavailable": true }
[DEBUG] 2025-04-15 17:18:44.897 stats: OUT conn { "from": "handler_15", "id": "ae96d3e1-5998-44a2-9751-83cf7c536b4a", "unavailable": true }
[DEBUG] 2025-04-15 17:18:44.908 IN wscontrol: { "items": [ { "type": "keep-alive", "ttl": 60, "cid": "751bf935-2d4f-4826-94c9-7f8164c2260c" }, { "type": "keep-alive", "ttl": 60, "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" }, { "type": "keep-alive", "ttl": 60, "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:18:44.908 IN wscontrol: { "items": [ { "type": "need-keep-alive", "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:18:44.909 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "content-type": "text", "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6", "message": "{}" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:18:44.909 IN wscontrol: { "items": [ { "type": "need-keep-alive", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:18:44.909 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "content-type": "text", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7", "message": "{}" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:18:44.909 IN wscontrol: { "items": [ { "type": "need-keep-alive", "cid": "751bf935-2d4f-4826-94c9-7f8164c2260c" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:18:44.909 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "content-type": "text", "cid": "751bf935-2d4f-4826-94c9-7f8164c2260c", "message": "{}" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:18:44.910 IN wscontrol: { "items": [ { "type": "gone", "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:18:44.910 stats: OUT sub { "channel": "test-channel-221e888c-3258-4fef-863f-33f195255432", "from": "handler_15", "unavailable": true, "mode": "ws" }
[DEBUG] 2025-04-15 17:18:44.910 SUB socket unsubscribe: test-channel-221e888c-3258-4fef-863f-33f195255432
[DEBUG] 2025-04-15 17:18:44.910 removed ws session: 9726dbde-5ae0-44c4-aedb-92b95186d5b6
[DEBUG] 2025-04-15 17:18:44.910 IN wscontrol: { "items": [ { "type": "gone", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:18:44.910 stats: OUT sub { "channel": "test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661", "from": "handler_15", "unavailable": true, "mode": "ws" }
[DEBUG] 2025-04-15 17:18:44.911 SUB socket unsubscribe: test-channel-dedb5460-250e-43b2-ad60-0d8eada5f661
[DEBUG] 2025-04-15 17:18:44.911 removed ws session: 3beda84a-e4fc-4087-bb57-c34b1148d3a7
[DEBUG] 2025-04-15 17:18:44.911 IN wscontrol: { "items": [ { "type": "gone", "cid": "751bf935-2d4f-4826-94c9-7f8164c2260c" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:18:44.911 stats: OUT sub { "channel": "test-channel-49863fe1-f58a-40db-99ae-26ed9d33a7f2", "from": "handler_15", "unavailable": true, "mode": "ws" }
[DEBUG] 2025-04-15 17:18:44.911 SUB socket unsubscribe: test-channel-49863fe1-f58a-40db-99ae-26ed9d33a7f2
[DEBUG] 2025-04-15 17:18:44.911 removed ws session: 751bf935-2d4f-4826-94c9-7f8164c2260c
[DEBUG] 2025-04-15 17:18:44.914 zrpc client: IN { "success": true, "value": null, "id": "0b49aac0-9705-40eb-af81-3bd762a4a5d7" }
[DEBUG] 2025-04-15 17:18:44.922 IN wscontrol: { "items": [ { "type": "cancel", "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:18:44.922 OUT wscontrol: to=proxy_14 { "items": [ { "type": "cancel", "cid": "9726dbde-5ae0-44c4-aedb-92b95186d5b6" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:18:44.922 IN wscontrol: { "items": [ { "type": "cancel", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:18:44.922 OUT wscontrol: to=proxy_14 { "items": [ { "type": "cancel", "cid": "3beda84a-e4fc-4087-bb57-c34b1148d3a7" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:18:44.922 IN wscontrol: { "items": [ { "type": "cancel", "cid": "751bf935-2d4f-4826-94c9-7f8164c2260c" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:18:44.923 OUT wscontrol: to=proxy_14 { "items": [ { "type": "cancel", "cid": "751bf935-2d4f-4826-94c9-7f8164c2260c" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:18:45.008 stats: OUT activity { "from": "handler_15", "count": 4 }
[DEBUG] 2025-04-15 17:18:45.008 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:18:45.186 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:18:45.186 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 17:18:45.186 publish channel=test-channel-241b02ed-5b06-497f-8d48-aa90b3e99ba3 receivers=0
[DEBUG] 2025-04-15 17:18:46.813 IN proxy stats: conn { "type": "http", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:18:46.813 stats: OUT conn { "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:18:46.825 zrpc server: IN { "method": "inspect", "id": "2bde181f-fa53-4dcb-8b80-6613c660cb51", "args": { "method": "GET", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40801" ], [ "accept", "*/*" ] ], "uri": "http://localhost:40801/api/health/check" } }
[DEBUG] 2025-04-15 17:18:46.825 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "2bde181f-fa53-4dcb-8b80-6613c660cb51" }
[DEBUG] 2025-04-15 17:18:46.854 IN proxy stats: conn { "from": "proxy_14", "id": "connmgr:1-0-1", "unavailable": true }
[DEBUG] 2025-04-15 17:18:46.855 stats: OUT conn { "from": "handler_15", "id": "connmgr:1-0-1", "unavailable": true }
[DEBUG] 2025-04-15 17:18:46.928 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:18:46.928 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:18:47.037 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:18:47.037 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:18:48.209 IN proxy stats: conn { "type": "ws", "ttl": 120, "from": "proxy_14", "peer-address": "192.168.127.1", "id": "537aa7cb-42cc-4e51-9da6-8e3495273a4e" }
[DEBUG] 2025-04-15 17:18:48.209 stats: OUT conn { "type": "ws", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "537aa7cb-42cc-4e51-9da6-8e3495273a4e" }
[DEBUG] 2025-04-15 17:18:48.271 IN wscontrol: { "items": [ { "type": "here", "ttl": 60, "route": "*,*,*,*", "req-id": "0", "cid": "537aa7cb-42cc-4e51-9da6-8e3495273a4e", "uri": "ws://localhost:40801/api/ws/test-channel-666ea1be-43d3-458b-a352-33e2498d8dd0" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:18:48.271 added ws session: 537aa7cb-42cc-4e51-9da6-8e3495273a4e
[DEBUG] 2025-04-15 17:18:48.272 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "req-id": "0", "cid": "537aa7cb-42cc-4e51-9da6-8e3495273a4e" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:18:48.300 IN wscontrol: { "items": [ { "type": "grip", "req-id": "1", "cid": "537aa7cb-42cc-4e51-9da6-8e3495273a4e", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-666ea1be-43d3-458b-a352-33e2498d8dd0\"}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:18:48.301 ws session 537aa7cb-42cc-4e51-9da6-8e3495273a4e subscribed to test-channel-666ea1be-43d3-458b-a352-33e2498d8dd0
[DEBUG] 2025-04-15 17:18:48.301 stats: OUT sub { "channel": "test-channel-666ea1be-43d3-458b-a352-33e2498d8dd0", "from": "handler_15", "ttl": 60, "subscribers": 1, "mode": "ws" }
[DEBUG] 2025-04-15 17:18:48.301 SUB socket subscribe: test-channel-666ea1be-43d3-458b-a352-33e2498d8dd0
[INFO] 2025-04-15 17:18:48.301 subscribe ws://localhost:40801/api/ws/test-channel-666ea1be-43d3-458b-a352-33e2498d8dd0 channel=test-channel-666ea1be-43d3-458b-a352-33e2498d8dd0
[DEBUG] 2025-04-15 17:18:48.302 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "req-id": "1", "cid": "537aa7cb-42cc-4e51-9da6-8e3495273a4e" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:18:48.302 IN wscontrol: { "items": [ { "type": "grip", "req-id": "2", "cid": "537aa7cb-42cc-4e51-9da6-8e3495273a4e", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:18:48.303 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "req-id": "2", "cid": "537aa7cb-42cc-4e51-9da6-8e3495273a4e" }, { "type": "keep-alive-setup", "timeout": 30, "keep-alive-mode": "idle", "cid": "537aa7cb-42cc-4e51-9da6-8e3495273a4e" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:18:48.312 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:18:48.312 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:18:48.422 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:18:48.423 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:18:48.509 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:18:48.510 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:18:48.511 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:18:48.511 stats: OUT message { "transport": "ws-message", "channel": "test-channel-666ea1be-43d3-458b-a352-33e2498d8dd0", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:18:48.511 publish channel=test-channel-666ea1be-43d3-458b-a352-33e2498d8dd0 receivers=1
[DEBUG] 2025-04-15 17:18:48.512 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "content-type": "text", "cid": "537aa7cb-42cc-4e51-9da6-8e3495273a4e", "message": "{\"channel\":\"test-channel-666ea1be-43d3-458b-a352-33e2498d8dd0\",\"event\":\"custom-event\",\"data\":\"Hello with custom event type!\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:20.967 starting...
[DEBUG] 2025-04-15 17:19:20.968 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:19:20.968 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:19:20.968 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:19:20.969 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:19:20.969 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:19:20.970 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:19:20.971 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:19:20.971 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:19:20.972 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:19:20.972 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:19:20.974 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:19:20.974 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:19:20.975 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:19:20.975 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:19:20.975 started
[DEBUG] 2025-04-15 17:19:22.664 IN proxy stats: conn { "id": "connmgr:1-0-0", "peer-address": "192.168.127.1", "type": "http", "ttl": 120, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:22.666 stats: OUT conn { "id": "connmgr:1-0-0", "peer-address": "192.168.127.1", "type": "http", "ttl": 120, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:22.679 zrpc server: IN { "method": "inspect", "id": "a48911d6-20a2-4767-96d1-d566305501d1", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34415" ], [ "accept", "*/*" ] ], "body": "", "method": "GET", "uri": "http://localhost:34415/api/health/check" } }
[DEBUG] 2025-04-15 17:19:22.679 zrpc server: OUT { "id": "a48911d6-20a2-4767-96d1-d566305501d1", "value": { "no-proxy": false }, "success": true }
[DEBUG] 2025-04-15 17:19:22.791 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:19:22.791 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:22.794 IN proxy stats: conn { "id": "connmgr:1-0-0", "from": "proxy_14", "unavailable": true }
[DEBUG] 2025-04-15 17:19:22.794 stats: OUT conn { "id": "connmgr:1-0-0", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 17:19:22.907 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:19:22.908 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:22.992 IN proxy stats: conn { "id": "d49212d7-60ad-4ed7-a595-eed7cca61dc4", "peer-address": "192.168.127.1", "type": "ws", "ttl": 120, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:22.993 stats: OUT conn { "id": "d49212d7-60ad-4ed7-a595-eed7cca61dc4", "peer-address": "192.168.127.1", "type": "ws", "ttl": 120, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.040 IN wscontrol: { "items": [ { "cid": "d49212d7-60ad-4ed7-a595-eed7cca61dc4", "uri": "ws://localhost:34415/api/ws/test-channel-dd561981-2eae-424f-b15b-1b48f41d601b", "route": "*,*,*,*", "req-id": "0", "type": "here", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:23.040 added ws session: d49212d7-60ad-4ed7-a595-eed7cca61dc4
[DEBUG] 2025-04-15 17:19:23.040 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "d49212d7-60ad-4ed7-a595-eed7cca61dc4", "req-id": "0", "type": "ack" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.066 IN wscontrol: { "items": [ { "cid": "d49212d7-60ad-4ed7-a595-eed7cca61dc4", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-dd561981-2eae-424f-b15b-1b48f41d601b\"}", "req-id": "1", "type": "grip" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:23.066 ws session d49212d7-60ad-4ed7-a595-eed7cca61dc4 subscribed to test-channel-dd561981-2eae-424f-b15b-1b48f41d601b
[DEBUG] 2025-04-15 17:19:23.067 stats: OUT sub { "subscribers": 1, "mode": "ws", "channel": "test-channel-dd561981-2eae-424f-b15b-1b48f41d601b", "ttl": 60, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.067 SUB socket subscribe: test-channel-dd561981-2eae-424f-b15b-1b48f41d601b
[INFO] 2025-04-15 17:19:23.068 subscribe ws://localhost:34415/api/ws/test-channel-dd561981-2eae-424f-b15b-1b48f41d601b channel=test-channel-dd561981-2eae-424f-b15b-1b48f41d601b
[DEBUG] 2025-04-15 17:19:23.068 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "d49212d7-60ad-4ed7-a595-eed7cca61dc4", "req-id": "1", "type": "ack" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.068 IN wscontrol: { "items": [ { "cid": "d49212d7-60ad-4ed7-a595-eed7cca61dc4", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}", "req-id": "2", "type": "grip" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:23.069 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "d49212d7-60ad-4ed7-a595-eed7cca61dc4", "req-id": "2", "type": "ack" }, { "cid": "d49212d7-60ad-4ed7-a595-eed7cca61dc4", "type": "keep-alive-setup", "keep-alive-mode": "idle", "timeout": 30 } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.106 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:19:23.107 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:23.213 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:19:23.214 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.412 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:23.413 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:23.414 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:19:23.414 stats: OUT message { "transport": "ws-message", "channel": "test-channel-dd561981-2eae-424f-b15b-1b48f41d601b", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:23.415 publish channel=test-channel-dd561981-2eae-424f-b15b-1b48f41d601b receivers=1
[DEBUG] 2025-04-15 17:19:23.415 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "d49212d7-60ad-4ed7-a595-eed7cca61dc4", "message": "{\"channel\":\"test-channel-dd561981-2eae-424f-b15b-1b48f41d601b\",\"data\":\"{\\\"type\\\":\\\"binary\\\",\\\"data\\\":\\\"AAECAwQFBgcICQ==\\\"}\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "content-type": "text", "type": "send" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.456 IN proxy stats: conn { "id": "172404aa-c9c6-42f5-a50e-78a6e0e5669a", "peer-address": "192.168.127.1", "type": "ws", "ttl": 120, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:23.456 stats: OUT conn { "id": "172404aa-c9c6-42f5-a50e-78a6e0e5669a", "peer-address": "192.168.127.1", "type": "ws", "ttl": 120, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.541 IN wscontrol: { "items": [ { "cid": "172404aa-c9c6-42f5-a50e-78a6e0e5669a", "uri": "ws://localhost:34415/api/ws/test-channel-b28e18ab-b740-4844-9220-3e54c5f51315", "route": "*,*,*,*", "req-id": "0", "type": "here", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:23.542 added ws session: 172404aa-c9c6-42f5-a50e-78a6e0e5669a
[DEBUG] 2025-04-15 17:19:23.542 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "172404aa-c9c6-42f5-a50e-78a6e0e5669a", "req-id": "0", "type": "ack" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.573 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:19:23.574 IN wscontrol: { "items": [ { "cid": "172404aa-c9c6-42f5-a50e-78a6e0e5669a", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-b28e18ab-b740-4844-9220-3e54c5f51315\"}", "req-id": "1", "type": "grip" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:23.574 ws session 172404aa-c9c6-42f5-a50e-78a6e0e5669a subscribed to test-channel-b28e18ab-b740-4844-9220-3e54c5f51315
[DEBUG] 2025-04-15 17:19:23.575 stats: OUT sub { "subscribers": 1, "mode": "ws", "channel": "test-channel-b28e18ab-b740-4844-9220-3e54c5f51315", "ttl": 60, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.575 SUB socket subscribe: test-channel-b28e18ab-b740-4844-9220-3e54c5f51315
[INFO] 2025-04-15 17:19:23.576 subscribe ws://localhost:34415/api/ws/test-channel-b28e18ab-b740-4844-9220-3e54c5f51315 channel=test-channel-b28e18ab-b740-4844-9220-3e54c5f51315
[DEBUG] 2025-04-15 17:19:23.577 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "172404aa-c9c6-42f5-a50e-78a6e0e5669a", "req-id": "1", "type": "ack" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.577 IN wscontrol: { "items": [ { "cid": "172404aa-c9c6-42f5-a50e-78a6e0e5669a", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}", "req-id": "2", "type": "grip" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:23.578 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "172404aa-c9c6-42f5-a50e-78a6e0e5669a", "req-id": "2", "type": "ack" }, { "cid": "172404aa-c9c6-42f5-a50e-78a6e0e5669a", "type": "keep-alive-setup", "keep-alive-mode": "idle", "timeout": 30 } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.578 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:23.682 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:19:23.683 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.756 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:23.757 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:23.757 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:19:23.757 stats: OUT message { "transport": "ws-message", "channel": "test-channel-b28e18ab-b740-4844-9220-3e54c5f51315", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:23.758 publish channel=test-channel-b28e18ab-b740-4844-9220-3e54c5f51315 receivers=1
[DEBUG] 2025-04-15 17:19:23.758 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "172404aa-c9c6-42f5-a50e-78a6e0e5669a", "message": "{\"channel\":\"test-channel-b28e18ab-b740-4844-9220-3e54c5f51315\",\"data\":\"First WebSocket message\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "content-type": "text", "type": "send" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.775 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:23.784 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:23.787 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:19:23.792 stats: OUT message { "transport": "ws-message", "channel": "test-channel-b28e18ab-b740-4844-9220-3e54c5f51315", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:23.795 publish channel=test-channel-b28e18ab-b740-4844-9220-3e54c5f51315 receivers=1
[DEBUG] 2025-04-15 17:19:23.814 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:23.815 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:23.816 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:19:23.817 stats: OUT message { "transport": "ws-message", "channel": "test-channel-b28e18ab-b740-4844-9220-3e54c5f51315", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:23.817 publish channel=test-channel-b28e18ab-b740-4844-9220-3e54c5f51315 receivers=1
[DEBUG] 2025-04-15 17:19:23.846 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "172404aa-c9c6-42f5-a50e-78a6e0e5669a", "message": "{\"channel\":\"test-channel-b28e18ab-b740-4844-9220-3e54c5f51315\",\"data\":\"Second WebSocket message\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "content-type": "text", "type": "send" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.848 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "172404aa-c9c6-42f5-a50e-78a6e0e5669a", "message": "{\"channel\":\"test-channel-b28e18ab-b740-4844-9220-3e54c5f51315\",\"data\":\"Third WebSocket message\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "content-type": "text", "type": "send" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.880 IN proxy stats: conn { "id": "d4fe3b62-9598-4778-9ef7-e606cba88515", "peer-address": "192.168.127.1", "type": "ws", "ttl": 120, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:23.880 stats: OUT conn { "id": "d4fe3b62-9598-4778-9ef7-e606cba88515", "peer-address": "192.168.127.1", "type": "ws", "ttl": 120, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.971 IN wscontrol: { "items": [ { "cid": "d4fe3b62-9598-4778-9ef7-e606cba88515", "uri": "ws://localhost:34415/api/ws/test-channel-37305228-e55e-4edb-b45f-8754eb32f636", "route": "*,*,*,*", "req-id": "0", "type": "here", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:23.971 added ws session: d4fe3b62-9598-4778-9ef7-e606cba88515
[DEBUG] 2025-04-15 17:19:23.972 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "d4fe3b62-9598-4778-9ef7-e606cba88515", "req-id": "0", "type": "ack" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:23.999 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:19:24.000 IN wscontrol: { "items": [ { "cid": "d4fe3b62-9598-4778-9ef7-e606cba88515", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-37305228-e55e-4edb-b45f-8754eb32f636\"}", "req-id": "1", "type": "grip" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:24.000 ws session d4fe3b62-9598-4778-9ef7-e606cba88515 subscribed to test-channel-37305228-e55e-4edb-b45f-8754eb32f636
[DEBUG] 2025-04-15 17:19:24.001 stats: OUT sub { "subscribers": 1, "mode": "ws", "channel": "test-channel-37305228-e55e-4edb-b45f-8754eb32f636", "ttl": 60, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:24.001 SUB socket subscribe: test-channel-37305228-e55e-4edb-b45f-8754eb32f636
[INFO] 2025-04-15 17:19:24.002 subscribe ws://localhost:34415/api/ws/test-channel-37305228-e55e-4edb-b45f-8754eb32f636 channel=test-channel-37305228-e55e-4edb-b45f-8754eb32f636
[DEBUG] 2025-04-15 17:19:24.002 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "d4fe3b62-9598-4778-9ef7-e606cba88515", "req-id": "1", "type": "ack" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:24.003 IN wscontrol: { "items": [ { "cid": "d4fe3b62-9598-4778-9ef7-e606cba88515", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}", "req-id": "2", "type": "grip" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:24.003 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "d4fe3b62-9598-4778-9ef7-e606cba88515", "req-id": "2", "type": "ack" }, { "cid": "d4fe3b62-9598-4778-9ef7-e606cba88515", "type": "keep-alive-setup", "keep-alive-mode": "idle", "timeout": 30 } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:24.004 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:24.005 stats: OUT sub { "subscribers": 1, "mode": "ws", "channel": "test-channel-37305228-e55e-4edb-b45f-8754eb32f636", "ttl": 60, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:24.011 IN proxy stats: conn { "id": "d4fe3b62-9598-4778-9ef7-e606cba88515", "peer-address": "192.168.127.1", "type": "ws", "ttl": 120, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:24.012 stats: OUT conn { "id": "d4fe3b62-9598-4778-9ef7-e606cba88515", "peer-address": "192.168.127.1", "type": "ws", "ttl": 120, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:24.056 IN wscontrol: { "items": [ { "cid": "d49212d7-60ad-4ed7-a595-eed7cca61dc4", "type": "keep-alive", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:24.117 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:19:24.118 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:25.070 IN wscontrol: { "items": [ { "cid": "172404aa-c9c6-42f5-a50e-78a6e0e5669a", "type": "keep-alive", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:26.096 IN wscontrol: { "items": [ { "cid": "d4fe3b62-9598-4778-9ef7-e606cba88515", "type": "keep-alive", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:26.199 IN proxy stats: conn { "id": "beb043a3-976c-460a-bdda-123da3d22da3", "peer-address": "192.168.127.1", "type": "ws", "ttl": 120, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:26.199 stats: OUT conn { "id": "beb043a3-976c-460a-bdda-123da3d22da3", "peer-address": "192.168.127.1", "type": "ws", "ttl": 120, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:26.266 IN wscontrol: { "items": [ { "cid": "beb043a3-976c-460a-bdda-123da3d22da3", "uri": "ws://localhost:34415/api/ws/test-channel-16256d95-386b-46a0-a9ed-004120268486", "route": "*,*,*,*", "req-id": "0", "type": "here", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:26.267 added ws session: beb043a3-976c-460a-bdda-123da3d22da3
[DEBUG] 2025-04-15 17:19:26.267 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "beb043a3-976c-460a-bdda-123da3d22da3", "req-id": "0", "type": "ack" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:26.280 IN wscontrol: { "items": [ { "cid": "beb043a3-976c-460a-bdda-123da3d22da3", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-16256d95-386b-46a0-a9ed-004120268486\"}", "req-id": "1", "type": "grip" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:26.280 ws session beb043a3-976c-460a-bdda-123da3d22da3 subscribed to test-channel-16256d95-386b-46a0-a9ed-004120268486
[DEBUG] 2025-04-15 17:19:26.280 stats: OUT sub { "subscribers": 1, "mode": "ws", "channel": "test-channel-16256d95-386b-46a0-a9ed-004120268486", "ttl": 60, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:26.280 SUB socket subscribe: test-channel-16256d95-386b-46a0-a9ed-004120268486
[INFO] 2025-04-15 17:19:26.281 subscribe ws://localhost:34415/api/ws/test-channel-16256d95-386b-46a0-a9ed-004120268486 channel=test-channel-16256d95-386b-46a0-a9ed-004120268486
[DEBUG] 2025-04-15 17:19:26.281 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "beb043a3-976c-460a-bdda-123da3d22da3", "req-id": "1", "type": "ack" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:26.281 IN wscontrol: { "items": [ { "cid": "beb043a3-976c-460a-bdda-123da3d22da3", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}", "req-id": "2", "type": "grip" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:26.281 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "beb043a3-976c-460a-bdda-123da3d22da3", "req-id": "2", "type": "ack" }, { "cid": "beb043a3-976c-460a-bdda-123da3d22da3", "type": "keep-alive-setup", "keep-alive-mode": "idle", "timeout": 30 } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:26.308 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:19:26.309 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:26.421 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:19:26.422 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:26.505 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:26.506 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:26.506 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:19:26.507 stats: OUT message { "transport": "ws-message", "channel": "test-channel-16256d95-386b-46a0-a9ed-004120268486", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:26.507 publish channel=test-channel-16256d95-386b-46a0-a9ed-004120268486 receivers=1
[DEBUG] 2025-04-15 17:19:26.508 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "beb043a3-976c-460a-bdda-123da3d22da3", "message": "{\"channel\":\"test-channel-16256d95-386b-46a0-a9ed-004120268486\",\"data\":\"Hello from WebSocket test!\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "content-type": "text", "type": "send" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:26.545 IN proxy stats: conn { "id": "1910c3a7-9cbe-432e-b878-a1809d3e6606", "peer-address": "192.168.127.1", "type": "ws", "ttl": 120, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:26.546 stats: OUT conn { "id": "1910c3a7-9cbe-432e-b878-a1809d3e6606", "peer-address": "192.168.127.1", "type": "ws", "ttl": 120, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:26.623 IN wscontrol: { "items": [ { "cid": "1910c3a7-9cbe-432e-b878-a1809d3e6606", "uri": "ws://localhost:34415/api/ws/test-channel-f014c5cf-b736-4e88-af81-bd4d6236de41", "route": "*,*,*,*", "req-id": "0", "type": "here", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:26.623 added ws session: 1910c3a7-9cbe-432e-b878-a1809d3e6606
[DEBUG] 2025-04-15 17:19:26.623 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "1910c3a7-9cbe-432e-b878-a1809d3e6606", "req-id": "0", "type": "ack" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:26.647 IN wscontrol: { "items": [ { "cid": "1910c3a7-9cbe-432e-b878-a1809d3e6606", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-f014c5cf-b736-4e88-af81-bd4d6236de41\"}", "req-id": "1", "type": "grip" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:26.647 ws session 1910c3a7-9cbe-432e-b878-a1809d3e6606 subscribed to test-channel-f014c5cf-b736-4e88-af81-bd4d6236de41
[DEBUG] 2025-04-15 17:19:26.647 stats: OUT sub { "subscribers": 1, "mode": "ws", "channel": "test-channel-f014c5cf-b736-4e88-af81-bd4d6236de41", "ttl": 60, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:26.648 SUB socket subscribe: test-channel-f014c5cf-b736-4e88-af81-bd4d6236de41
[INFO] 2025-04-15 17:19:26.648 subscribe ws://localhost:34415/api/ws/test-channel-f014c5cf-b736-4e88-af81-bd4d6236de41 channel=test-channel-f014c5cf-b736-4e88-af81-bd4d6236de41
[DEBUG] 2025-04-15 17:19:26.648 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "1910c3a7-9cbe-432e-b878-a1809d3e6606", "req-id": "1", "type": "ack" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:26.648 IN wscontrol: { "items": [ { "cid": "1910c3a7-9cbe-432e-b878-a1809d3e6606", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}", "req-id": "2", "type": "grip" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:26.648 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "1910c3a7-9cbe-432e-b878-a1809d3e6606", "req-id": "2", "type": "ack" }, { "cid": "1910c3a7-9cbe-432e-b878-a1809d3e6606", "type": "keep-alive-setup", "keep-alive-mode": "idle", "timeout": 30 } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:26.649 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:19:26.650 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:26.761 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:19:26.762 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:26.851 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:26.852 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:26.853 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:19:26.853 stats: OUT message { "transport": "ws-message", "channel": "test-channel-f014c5cf-b736-4e88-af81-bd4d6236de41", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:26.854 publish channel=test-channel-f014c5cf-b736-4e88-af81-bd4d6236de41 receivers=1
[DEBUG] 2025-04-15 17:19:26.854 OUT wscontrol: to=proxy_14 { "items": [ { "cid": "1910c3a7-9cbe-432e-b878-a1809d3e6606", "message": "{\"channel\":\"test-channel-f014c5cf-b736-4e88-af81-bd4d6236de41\",\"event\":\"custom-event\",\"data\":\"Hello with custom event type!\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "content-type": "text", "type": "send" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:28.406 starting...
[DEBUG] 2025-04-15 17:19:28.406 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:19:28.407 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:19:28.407 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:19:28.407 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:19:28.408 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:19:28.408 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:19:28.408 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:19:28.408 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:19:28.409 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:19:28.409 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:19:28.409 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:19:28.410 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:19:28.410 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:19:28.411 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:19:28.411 started
[DEBUG] 2025-04-15 17:19:28.720 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14", "ttl": 120, "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:19:28.721 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "ttl": 120, "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:19:28.723 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14", "ttl": 120, "id": "connmgr:0-0-1" }
[DEBUG] 2025-04-15 17:19:28.723 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "ttl": 120, "id": "connmgr:0-0-1" }
[DEBUG] 2025-04-15 17:19:28.736 zrpc server: IN { "args": { "method": "GET", "uri": "http://localhost:35285/api/health/check", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35285" ], [ "accept", "*/*" ] ] }, "method": "inspect", "id": "8797fdb8-d36e-40b7-be0d-837cbdc39bda" }
[DEBUG] 2025-04-15 17:19:28.736 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "8797fdb8-d36e-40b7-be0d-837cbdc39bda" }
[DEBUG] 2025-04-15 17:19:28.736 zrpc server: IN { "args": { "method": "GET", "uri": "http://localhost:35285/api/http-response/test-channel-1371e7f3-83f3-4c48-9a9a-0711be5cfed9", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35285" ], [ "accept", "*/*" ] ] }, "method": "inspect", "id": "0c21c8f6-aeea-4185-9fb2-50f763f1e58d" }
[DEBUG] 2025-04-15 17:19:28.736 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "0c21c8f6-aeea-4185-9fb2-50f763f1e58d" }
[DEBUG] 2025-04-15 17:19:28.770 IN proxy stats: conn { "from": "proxy_14", "unavailable": true, "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:19:28.770 stats: OUT conn { "from": "handler_15", "unavailable": true, "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:19:28.784 zrpc server: IN { "args": { "requests": [ { "rid": { "sender": "connmgr", "id": "0-0-1" }, "peer-address": "192.168.127.1", "logical-peer-address": "192.168.127.1", "in-seq": 2, "out-credits": 8192, "out-seq": 2 } ], "trusted": true, "request-data": { "method": "GET", "uri": "http://localhost:35285/api/http-response/test-channel-1371e7f3-83f3-4c48-9a9a-0711be5cfed9", "body": "", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35285" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDExNjgsImlzcyI6InB1c2hwaW4ifQ.eMtpwylDnwB9-oYhAKH-RVSxFQeaDcC1DtcQXpGkOqg" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] }, "inspect": { "no-proxy": false }, "orig-request-data": { "method": "GET", "uri": "http://localhost:35285/api/http-response/test-channel-1371e7f3-83f3-4c48-9a9a-0711be5cfed9", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35285" ], [ "accept", "*/*" ] ] }, "response": { "reason": "", "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-1371e7f3-83f3-4c48-9a9a-0711be5cfed9\"}", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Channel", "test-channel-1371e7f3-83f3-4c48-9a9a-0711be5cfed9" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:19:28 GMT" ] ], "code": 200 }, "route": "*,*,*,*" }, "method": "accept", "from": "proxy_14", "id": "9722e1fc-99f1-43cb-a45e-bcfa08f555bc" }
[DEBUG] 2025-04-15 17:19:28.785 zrpc server: OUT { "value": { "response": { "reason": "OK", "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-1371e7f3-83f3-4c48-9a9a-0711be5cfed9\"}", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:19:28 GMT" ] ], "code": 200 } }, "success": true, "id": "9722e1fc-99f1-43cb-a45e-bcfa08f555bc" }
[DEBUG] 2025-04-15 17:19:28.785 stats: OUT conn { "from": "handler_15", "unavailable": true, "id": "connmgr:0-0-1" }
[DEBUG] 2025-04-15 17:19:28.802 IN proxy stats: conn { "from": "proxy_14", "unavailable": true, "id": "connmgr:0-0-1" }
[DEBUG] 2025-04-15 17:19:28.802 stats: OUT conn { "from": "handler_15", "unavailable": true, "id": "connmgr:0-0-1" }
[DEBUG] 2025-04-15 17:19:28.824 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14", "ttl": 120, "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:19:28.824 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "ttl": 120, "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:19:28.836 IN proxy stats: activity { "count": 3, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:28.837 zrpc server: IN { "args": { "method": "GET", "uri": "http://localhost:35285/api/http-response/test-channel-65866bfa-4385-428f-8a9a-ff6ce8493fab", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35285" ], [ "accept", "*/*" ] ] }, "method": "inspect", "id": "c6e35cfd-1009-477f-9069-9ac43f3762fc" }
[DEBUG] 2025-04-15 17:19:28.837 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "c6e35cfd-1009-477f-9069-9ac43f3762fc" }
[DEBUG] 2025-04-15 17:19:28.838 IN proxy stats: counts { "from": "proxy_14", "requests-received": 3 }
[DEBUG] 2025-04-15 17:19:28.895 zrpc server: IN { "args": { "requests": [ { "rid": { "sender": "connmgr", "id": "1-0-1" }, "peer-address": "192.168.127.1", "logical-peer-address": "192.168.127.1", "in-seq": 2, "out-credits": 8192, "out-seq": 2 } ], "trusted": true, "request-data": { "method": "GET", "uri": "http://localhost:35285/api/http-response/test-channel-65866bfa-4385-428f-8a9a-ff6ce8493fab", "body": "", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35285" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDExNjgsImlzcyI6InB1c2hwaW4ifQ.eMtpwylDnwB9-oYhAKH-RVSxFQeaDcC1DtcQXpGkOqg" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] }, "inspect": { "no-proxy": false }, "orig-request-data": { "method": "GET", "uri": "http://localhost:35285/api/http-response/test-channel-65866bfa-4385-428f-8a9a-ff6ce8493fab", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35285" ], [ "accept", "*/*" ] ] }, "response": { "reason": "", "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-65866bfa-4385-428f-8a9a-ff6ce8493fab\"}", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Channel", "test-channel-65866bfa-4385-428f-8a9a-ff6ce8493fab" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:19:28 GMT" ] ], "code": 200 }, "route": "*,*,*,*" }, "method": "accept", "from": "proxy_14", "id": "9a41f61a-9364-4145-a54a-eb219123c422" }
[DEBUG] 2025-04-15 17:19:28.896 zrpc server: OUT { "value": { "response": { "reason": "OK", "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-65866bfa-4385-428f-8a9a-ff6ce8493fab\"}", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:19:28 GMT" ] ], "code": 200 } }, "success": true, "id": "9a41f61a-9364-4145-a54a-eb219123c422" }
[DEBUG] 2025-04-15 17:19:28.897 stats: OUT conn { "from": "handler_15", "unavailable": true, "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:19:28.914 IN proxy stats: conn { "from": "proxy_14", "unavailable": true, "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:19:28.915 stats: OUT conn { "from": "handler_15", "unavailable": true, "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:19:28.932 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:28.932 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 17:19:28.933 publish channel=test-channel-65866bfa-4385-428f-8a9a-ff6ce8493fab receivers=0
[DEBUG] 2025-04-15 17:19:28.949 stats: OUT activity { "count": 3, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:28.952 stats: OUT counts { "from": "handler_15", "requests-received": 3 }
[DEBUG] 2025-04-15 17:19:29.133 starting...
[DEBUG] 2025-04-15 17:19:29.135 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:19:29.135 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:19:29.135 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:19:29.135 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:19:29.136 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:19:29.136 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:19:29.136 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:19:29.136 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:19:29.136 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:19:29.136 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:19:29.137 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:19:29.138 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:19:29.138 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:19:29.138 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:19:29.138 started
[DEBUG] 2025-04-15 17:19:29.372 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14", "id": "connmgr:1-0-0", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:29.372 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "id": "connmgr:1-0-0", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:29.379 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14", "id": "connmgr:0-0-1", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:29.379 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "id": "connmgr:0-0-1", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:29.380 zrpc server: IN { "args": { "uri": "http://localhost:46659/api/health/check", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:46659" ], [ "accept", "*/*" ] ], "body": "", "method": "GET" }, "id": "d782bd2a-4a34-4b3c-acba-621a7a6c8047", "method": "inspect" }
[DEBUG] 2025-04-15 17:19:29.380 zrpc server: OUT { "value": { "no-proxy": false }, "id": "d782bd2a-4a34-4b3c-acba-621a7a6c8047", "success": true }
[DEBUG] 2025-04-15 17:19:29.391 zrpc server: IN { "args": { "uri": "http://localhost:46659/api/http-stream/test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:46659" ], [ "accept", "*/*" ] ], "body": "", "method": "GET" }, "id": "b7be43a6-8a06-44e5-9f7e-ed73d38dfc89", "method": "inspect" }
[DEBUG] 2025-04-15 17:19:29.392 zrpc server: OUT { "value": { "no-proxy": false }, "id": "b7be43a6-8a06-44e5-9f7e-ed73d38dfc89", "success": true }
[DEBUG] 2025-04-15 17:19:29.419 IN proxy stats: conn { "from": "proxy_14", "id": "connmgr:1-0-0", "unavailable": true }
[DEBUG] 2025-04-15 17:19:29.419 stats: OUT conn { "from": "handler_15", "id": "connmgr:1-0-0", "unavailable": true }
[DEBUG] 2025-04-15 17:19:29.450 zrpc server: IN { "args": { "requests": [ { "logical-peer-address": "192.168.127.1", "rid": { "id": "0-0-1", "sender": "connmgr" }, "peer-address": "192.168.127.1", "out-seq": 2, "out-credits": 8192, "in-seq": 2 } ], "trusted": true, "orig-request-data": { "uri": "http://localhost:46659/api/http-stream/test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:46659" ], [ "accept", "*/*" ] ], "body": "", "method": "GET" }, "inspect": { "no-proxy": false }, "request-data": { "uri": "http://localhost:46659/api/http-stream/test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:46659" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDExNjksImlzcyI6InB1c2hwaW4ifQ.77J4CpRo7S1kp1QtJrJAbhdBpuMfHI-LQhF3eneU6Xw" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "body": "", "method": "GET" }, "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:19:29 GMT" ] ], "body": "Successfully subscribed to channel: test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8\n", "reason": "", "code": 200 }, "route": "*,*,*,*" }, "from": "proxy_14", "id": "8d38c696-bad6-4c8f-9f5a-789b1f063b6e", "method": "accept" }
[DEBUG] 2025-04-15 17:19:29.450 zrpc server: OUT { "value": { "accepted": true }, "id": "8d38c696-bad6-4c8f-9f5a-789b1f063b6e", "success": true }
[DEBUG] 2025-04-15 17:19:29.450 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:19:29.450 zhttp server: OUT connmgr { "type": "keep-alive", "seq": 2, "from": "handler_15", "id": "0-0-1", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:29.450 adding stream hold on test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8
[DEBUG] 2025-04-15 17:19:29.451 stats: OUT sub { "mode": "stream", "channel": "test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8", "from": "handler_15", "subscribers": 1, "ttl": 60 }
[DEBUG] 2025-04-15 17:19:29.451 SUB socket subscribe: test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8
[INFO] 2025-04-15 17:19:29.451 subscribe http://localhost:46659/api/http-stream/test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8 channel=test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8
[DEBUG] 2025-04-15 17:19:29.451 zhttp server: OUT connmgr { "seq": 3, "from": "handler_15", "id": "0-0-1", "more": true, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Date", "Tue, 15 Apr 2025 17:19:29 GMT" ] ], "reason": "OK", "code": 200 } 86 "Successfully subscribed to channel: test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8\n"
[DEBUG] 2025-04-15 17:19:29.452 zhttp/zws server: IN stream { "type": "credit", "seq": 2, "from": "connmgr", "credits": 86, "id": "0-0-1", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:29.452 zhttp server: OUT connmgr { "type": "keep-alive", "seq": 4, "from": "handler_15", "id": "0-0-1" }
[DEBUG] 2025-04-15 17:19:29.463 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14", "id": "connmgr:0-0-1", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:29.464 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "id": "connmgr:0-0-1", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:29.475 IN proxy stats: activity { "from": "proxy_14", "count": 2 }
[DEBUG] 2025-04-15 17:19:29.475 IN proxy stats: counts { "from": "proxy_14", "requests-received": 2 }
[DEBUG] 2025-04-15 17:19:29.589 stats: OUT activity { "from": "handler_15", "count": 2 }
[DEBUG] 2025-04-15 17:19:29.590 stats: OUT counts { "from": "handler_15", "requests-received": 2 }
[DEBUG] 2025-04-15 17:19:30.150 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "id": "connmgr:0-0-1", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:30.151 stats: OUT sub { "mode": "stream", "channel": "test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8", "from": "handler_15", "subscribers": 1, "ttl": 60 }
[DEBUG] 2025-04-15 17:19:30.406 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:30.411 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:30.412 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:19:30.413 stats: OUT message { "channel": "test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8", "transport": "http-stream", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:30.413 publish channel=test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8 receivers=1
[DEBUG] 2025-04-15 17:19:30.414 zhttp server: OUT connmgr { "seq": 5, "from": "handler_15", "id": "0-0-1", "more": true } 29 "First HTTP Streaming message\n"
[DEBUG] 2025-04-15 17:19:30.419 zhttp/zws server: IN stream { "type": "credit", "seq": 3, "from": "connmgr", "credits": 29, "id": "0-0-1", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:30.421 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:30.422 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:30.422 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:19:30.423 stats: OUT message { "channel": "test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8", "transport": "http-stream", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:30.423 publish channel=test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8 receivers=1
[DEBUG] 2025-04-15 17:19:30.429 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:30.429 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:30.430 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:19:30.430 stats: OUT message { "channel": "test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8", "transport": "http-stream", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:30.430 publish channel=test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8 receivers=1
[DEBUG] 2025-04-15 17:19:30.455 zhttp server: OUT connmgr { "type": "keep-alive", "seq": 6, "from": "handler_15", "id": "0-0-1" }
[DEBUG] 2025-04-15 17:19:30.456 zhttp server: OUT connmgr { "seq": 7, "from": "handler_15", "id": "0-0-1", "more": true } 59 "Second HTTP Streaming message\nThird HTTP Streaming message\n"
[DEBUG] 2025-04-15 17:19:30.462 zhttp/zws server: IN stream { "type": "credit", "seq": 4, "from": "connmgr", "credits": 59, "id": "0-0-1", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:30.469 zhttp/zws server: IN stream { "type": "cancel", "seq": 5, "from": "connmgr", "id": "0-0-1", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:30.469 zhttp server: received cancel id=0-0-1
[DEBUG] 2025-04-15 17:19:30.470 httpsession: cleaning up connmgr:0-0-1
[DEBUG] 2025-04-15 17:19:30.470 stats: OUT sub { "mode": "stream", "channel": "test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 17:19:30.471 SUB socket unsubscribe: test-channel-59b3c5b4-f525-4cb4-a19d-ee89c84c77a8
[DEBUG] 2025-04-15 17:19:30.471 stats: OUT conn { "from": "handler_15", "id": "connmgr:0-0-1", "unavailable": true }
[DEBUG] 2025-04-15 17:19:30.472 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14", "id": "connmgr:1-0-1", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:30.473 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "id": "connmgr:1-0-1", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:30.484 zrpc server: IN { "args": { "uri": "http://localhost:46659/api/http-stream/test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:46659" ], [ "accept", "*/*" ] ], "body": "", "method": "GET" }, "id": "50f82691-67f1-4ce3-804d-921f13662ab5", "method": "inspect" }
[DEBUG] 2025-04-15 17:19:30.484 zrpc server: OUT { "value": { "no-proxy": false }, "id": "50f82691-67f1-4ce3-804d-921f13662ab5", "success": true }
[DEBUG] 2025-04-15 17:19:30.546 zrpc server: IN { "args": { "requests": [ { "logical-peer-address": "192.168.127.1", "rid": { "id": "1-0-1", "sender": "connmgr" }, "peer-address": "192.168.127.1", "out-seq": 2, "out-credits": 8192, "in-seq": 2 } ], "trusted": true, "orig-request-data": { "uri": "http://localhost:46659/api/http-stream/test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:46659" ], [ "accept", "*/*" ] ], "body": "", "method": "GET" }, "inspect": { "no-proxy": false }, "request-data": { "uri": "http://localhost:46659/api/http-stream/test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:46659" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDExNzAsImlzcyI6InB1c2hwaW4ifQ.tT70JCkhsQcBUWKBf21lx03E7UFVCuHUSFvvrXRiaLE" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "body": "", "method": "GET" }, "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:19:30 GMT" ] ], "body": "Successfully subscribed to channel: test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db\n", "reason": "", "code": 200 }, "route": "*,*,*,*" }, "from": "proxy_14", "id": "2d2e374f-73b3-474a-a29c-1e4d94728375", "method": "accept" }
[DEBUG] 2025-04-15 17:19:30.546 zrpc server: OUT { "value": { "accepted": true }, "id": "2d2e374f-73b3-474a-a29c-1e4d94728375", "success": true }
[DEBUG] 2025-04-15 17:19:30.547 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:19:30.547 zhttp server: OUT connmgr { "type": "keep-alive", "seq": 2, "from": "handler_15", "id": "1-0-1", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:30.547 adding stream hold on test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db
[DEBUG] 2025-04-15 17:19:30.548 stats: OUT sub { "mode": "stream", "channel": "test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db", "from": "handler_15", "subscribers": 1, "ttl": 60 }
[DEBUG] 2025-04-15 17:19:30.548 SUB socket subscribe: test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db
[INFO] 2025-04-15 17:19:30.549 subscribe http://localhost:46659/api/http-stream/test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db channel=test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db
[DEBUG] 2025-04-15 17:19:30.550 zhttp server: OUT connmgr { "seq": 3, "from": "handler_15", "id": "1-0-1", "more": true, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Date", "Tue, 15 Apr 2025 17:19:30 GMT" ] ], "reason": "OK", "code": 200 } 86 "Successfully subscribed to channel: test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db\n"
[DEBUG] 2025-04-15 17:19:30.551 zhttp/zws server: IN stream { "type": "credit", "seq": 2, "from": "connmgr", "credits": 86, "id": "1-0-1", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:30.551 zhttp server: OUT connmgr { "type": "keep-alive", "seq": 4, "from": "handler_15", "id": "1-0-1" }
[DEBUG] 2025-04-15 17:19:30.564 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14", "id": "connmgr:1-0-1", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:30.564 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "id": "connmgr:1-0-1", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:30.578 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:19:30.579 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:19:30.696 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:19:30.698 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:19:31.477 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:31.478 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:31.479 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:19:31.479 stats: OUT message { "channel": "test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db", "transport": "http-stream", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:31.480 publish channel=test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db receivers=1
[DEBUG] 2025-04-15 17:19:31.481 zhttp server: OUT connmgr { "seq": 5, "from": "handler_15", "id": "1-0-1", "more": true } 32 "Hello from HTTP Streaming test!\n"
[DEBUG] 2025-04-15 17:19:31.485 zhttp/zws server: IN stream { "type": "credit", "seq": 3, "from": "connmgr", "credits": 32, "id": "1-0-1", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:31.490 zhttp/zws server: IN stream { "type": "cancel", "seq": 4, "from": "connmgr", "id": "1-0-1", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:31.490 zhttp server: received cancel id=1-0-1
[DEBUG] 2025-04-15 17:19:31.491 httpsession: cleaning up connmgr:1-0-1
[DEBUG] 2025-04-15 17:19:31.494 stats: OUT sub { "mode": "stream", "channel": "test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 17:19:31.494 SUB socket unsubscribe: test-channel-fbeb872b-c272-40c5-914a-94e2e5d0e9db
[DEBUG] 2025-04-15 17:19:31.495 stats: OUT conn { "from": "handler_15", "id": "connmgr:1-0-1", "unavailable": true }
[DEBUG] 2025-04-15 17:19:31.665 starting...
[DEBUG] 2025-04-15 17:19:31.666 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:19:31.667 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:19:31.667 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:19:31.667 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:19:31.667 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:19:31.667 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:19:31.668 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:19:31.668 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:19:31.668 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:19:31.668 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:19:31.668 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:19:31.668 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:19:31.669 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:19:31.669 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:19:31.669 started
[DEBUG] 2025-04-15 17:19:31.908 IN proxy stats: conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "proxy_14", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:19:31.908 stats: OUT conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "handler_15", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:19:31.920 zrpc server: IN { "method": "inspect", "args": { "uri": "http://localhost:34901/api/health/check", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34901" ], [ "accept", "*/*" ] ] }, "id": "0af8bf69-b9ce-4084-a79b-d049506c411d" }
[DEBUG] 2025-04-15 17:19:31.920 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "0af8bf69-b9ce-4084-a79b-d049506c411d" }
[DEBUG] 2025-04-15 17:19:31.951 IN proxy stats: conn { "unavailable": true, "from": "proxy_14", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:19:31.951 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:19:32.024 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:19:32.024 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:32.142 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:19:32.143 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:32.419 IN proxy stats: conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "proxy_14", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:19:32.422 stats: OUT conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "handler_15", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:19:32.434 zrpc server: IN { "method": "inspect", "args": { "uri": "http://localhost:34901/api/long-polling/test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34901" ], [ "accept", "*/*" ] ] }, "id": "a1f0efb8-9771-47db-8632-822c4f7cbb66" }
[DEBUG] 2025-04-15 17:19:32.434 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "a1f0efb8-9771-47db-8632-822c4f7cbb66" }
[DEBUG] 2025-04-15 17:19:32.495 zrpc server: IN { "method": "accept", "args": { "response": { "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69\"}", "reason": "", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:19:32 GMT" ] ] }, "trusted": true, "inspect": { "no-proxy": false }, "route": "*,*,*,*", "request-data": { "uri": "http://localhost:34901/api/long-polling/test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "body": "", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34901" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDExNzIsImlzcyI6InB1c2hwaW4ifQ.9_TipmTVmZKLgjnumgQFXazinowLvC7X_NI3WKNPRYY" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] }, "requests": [ { "out-credits": 8192, "peer-address": "192.168.127.1", "in-seq": 2, "out-seq": 2, "logical-peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "1-0-1" } } ], "orig-request-data": { "uri": "http://localhost:34901/api/long-polling/test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34901" ], [ "accept", "*/*" ] ] } }, "from": "proxy_14", "id": "4118082a-3cb0-4cdc-8813-f06d0b16e470" }
[DEBUG] 2025-04-15 17:19:32.496 zrpc server: OUT { "success": true, "value": { "accepted": true }, "id": "4118082a-3cb0-4cdc-8813-f06d0b16e470" }
[DEBUG] 2025-04-15 17:19:32.497 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:19:32.497 zhttp server: OUT connmgr { "ext": { "multi": true }, "type": "keep-alive", "seq": 2, "from": "handler_15", "id": "1-0-1" }
[DEBUG] 2025-04-15 17:19:32.497 adding response hold on test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69
[DEBUG] 2025-04-15 17:19:32.497 stats: OUT sub { "channel": "test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "ttl": 60, "mode": "response", "subscribers": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:32.498 SUB socket subscribe: test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69
[INFO] 2025-04-15 17:19:32.498 subscribe http://localhost:34901/api/long-polling/test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69 channel=test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69
[DEBUG] 2025-04-15 17:19:32.511 IN proxy stats: conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "proxy_14", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:19:32.512 stats: OUT conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "handler_15", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:19:32.534 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:19:32.534 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:32.646 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:19:32.647 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:32.678 stats: OUT conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "handler_15", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:19:32.679 stats: OUT sub { "channel": "test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "ttl": 60, "mode": "response", "subscribers": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:32.931 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:32.932 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:32.933 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 17:19:32.934 stats: OUT message { "channel": "test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "transport": "http-response", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:32.934 publish channel=test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69 receivers=1
[DEBUG] 2025-04-15 17:19:32.935 zhttp server: OUT connmgr { "code": 200, "reason": "OK", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:19:32 GMT" ] ], "seq": 3, "from": "handler_15", "id": "1-0-1" } 113 "{\"channel\":\"test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69\",\"message\":\"{message=First Long-Polling message}\"}\n"
[DEBUG] 2025-04-15 17:19:32.939 httpsession: cleaning up connmgr:1-0-1
[DEBUG] 2025-04-15 17:19:32.940 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:19:33.460 IN proxy stats: conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "proxy_14", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:19:33.461 stats: OUT conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "handler_15", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:19:33.475 zrpc server: IN { "method": "inspect", "args": { "uri": "http://localhost:34901/api/long-polling/test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34901" ], [ "accept", "*/*" ] ] }, "id": "83cec254-d8b1-4cc5-8276-aa0838d78275" }
[DEBUG] 2025-04-15 17:19:33.476 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "83cec254-d8b1-4cc5-8276-aa0838d78275" }
[DEBUG] 2025-04-15 17:19:33.544 zrpc server: IN { "method": "accept", "args": { "response": { "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69\"}", "reason": "", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:19:33 GMT" ] ] }, "trusted": true, "inspect": { "no-proxy": false }, "route": "*,*,*,*", "request-data": { "uri": "http://localhost:34901/api/long-polling/test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "body": "", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34901" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDExNzMsImlzcyI6InB1c2hwaW4ifQ.TTkabU4wV-2kQF2Dpu0u0RkuXdfP_P0zadaKVbYGqIQ" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] }, "requests": [ { "out-credits": 8192, "peer-address": "192.168.127.1", "in-seq": 2, "out-seq": 2, "logical-peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "1-0-2" } } ], "orig-request-data": { "uri": "http://localhost:34901/api/long-polling/test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34901" ], [ "accept", "*/*" ] ] } }, "from": "proxy_14", "id": "1d13af69-e753-4354-b096-671ef2d8c719" }
[DEBUG] 2025-04-15 17:19:33.545 zrpc server: OUT { "success": true, "value": { "accepted": true }, "id": "1d13af69-e753-4354-b096-671ef2d8c719" }
[DEBUG] 2025-04-15 17:19:33.546 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:19:33.546 zhttp server: OUT connmgr { "ext": { "multi": true }, "type": "keep-alive", "seq": 2, "from": "handler_15", "id": "1-0-2" }
[DEBUG] 2025-04-15 17:19:33.546 adding response hold on test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69
[DEBUG] 2025-04-15 17:19:33.547 stats: OUT sub { "channel": "test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "ttl": 60, "mode": "response", "subscribers": 1, "from": "handler_15" }
[INFO] 2025-04-15 17:19:33.548 subscribe http://localhost:34901/api/long-polling/test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69 channel=test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69
[DEBUG] 2025-04-15 17:19:33.550 IN proxy stats: conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "proxy_14", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:19:33.550 stats: OUT conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "handler_15", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:19:33.578 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:19:33.581 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:33.697 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:19:33.700 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:33.952 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:33.953 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:33.953 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 17:19:33.954 stats: OUT message { "channel": "test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "transport": "http-response", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:33.954 publish channel=test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69 receivers=1
[DEBUG] 2025-04-15 17:19:33.958 zhttp server: OUT connmgr { "code": 200, "reason": "OK", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:19:33 GMT" ] ], "seq": 3, "from": "handler_15", "id": "1-0-2" } 114 "{\"channel\":\"test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69\",\"message\":\"{message=Second Long-Polling message}\"}\n"
[DEBUG] 2025-04-15 17:19:33.959 httpsession: cleaning up connmgr:1-0-2
[DEBUG] 2025-04-15 17:19:33.960 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:19:34.483 IN proxy stats: conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "proxy_14", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:19:34.484 stats: OUT conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "handler_15", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:19:34.495 zrpc server: IN { "method": "inspect", "args": { "uri": "http://localhost:34901/api/long-polling/test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34901" ], [ "accept", "*/*" ] ] }, "id": "06ec8140-058b-4bcd-8366-cf7ef7d108de" }
[DEBUG] 2025-04-15 17:19:34.495 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "06ec8140-058b-4bcd-8366-cf7ef7d108de" }
[DEBUG] 2025-04-15 17:19:34.553 zrpc server: IN { "method": "accept", "args": { "response": { "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69\"}", "reason": "", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:19:34 GMT" ] ] }, "trusted": true, "inspect": { "no-proxy": false }, "route": "*,*,*,*", "request-data": { "uri": "http://localhost:34901/api/long-polling/test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "body": "", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34901" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDExNzQsImlzcyI6InB1c2hwaW4ifQ.oVceM-vIUO5BfsL8Cj99bjPO0a5yrkd6nmPkIMsOikg" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] }, "requests": [ { "out-credits": 8192, "peer-address": "192.168.127.1", "in-seq": 2, "out-seq": 2, "logical-peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "1-0-3" } } ], "orig-request-data": { "uri": "http://localhost:34901/api/long-polling/test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34901" ], [ "accept", "*/*" ] ] } }, "from": "proxy_14", "id": "d80070d0-6014-4dc3-85c3-a645f7d20f27" }
[DEBUG] 2025-04-15 17:19:34.554 zrpc server: OUT { "success": true, "value": { "accepted": true }, "id": "d80070d0-6014-4dc3-85c3-a645f7d20f27" }
[DEBUG] 2025-04-15 17:19:34.555 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:19:34.555 zhttp server: OUT connmgr { "ext": { "multi": true }, "type": "keep-alive", "seq": 2, "from": "handler_15", "id": "1-0-3" }
[DEBUG] 2025-04-15 17:19:34.555 adding response hold on test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69
[DEBUG] 2025-04-15 17:19:34.556 stats: OUT sub { "channel": "test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "ttl": 60, "mode": "response", "subscribers": 1, "from": "handler_15" }
[INFO] 2025-04-15 17:19:34.556 subscribe http://localhost:34901/api/long-polling/test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69 channel=test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69
[DEBUG] 2025-04-15 17:19:34.558 IN proxy stats: conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "proxy_14", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:19:34.558 stats: OUT conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "handler_15", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:19:34.592 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:19:34.593 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:34.699 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:19:34.702 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:34.986 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:34.988 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:34.988 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 17:19:34.989 stats: OUT message { "channel": "test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69", "transport": "http-response", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:34.990 publish channel=test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69 receivers=1
[DEBUG] 2025-04-15 17:19:34.991 zhttp server: OUT connmgr { "code": 200, "reason": "OK", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:19:34 GMT" ] ], "seq": 3, "from": "handler_15", "id": "1-0-3" } 113 "{\"channel\":\"test-channel-3ea1150c-4b79-4b64-a883-6bfebfb4bf69\",\"message\":\"{message=Third Long-Polling message}\"}\n"
[DEBUG] 2025-04-15 17:19:34.994 httpsession: cleaning up connmgr:1-0-3
[DEBUG] 2025-04-15 17:19:34.994 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:19:35.512 IN proxy stats: conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "proxy_14", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:19:35.513 stats: OUT conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "handler_15", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:19:35.526 zrpc server: IN { "method": "inspect", "args": { "uri": "http://localhost:34901/api/long-polling/test-channel-0b87b315-6b4f-4b75-a2d5-660a240c86d8", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34901" ], [ "accept", "*/*" ] ] }, "id": "9562e1b8-9f54-4ba0-932d-f7881ecaca47" }
[DEBUG] 2025-04-15 17:19:35.527 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "9562e1b8-9f54-4ba0-932d-f7881ecaca47" }
[DEBUG] 2025-04-15 17:19:35.592 zrpc server: IN { "method": "accept", "args": { "response": { "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-0b87b315-6b4f-4b75-a2d5-660a240c86d8\"}", "reason": "", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-0b87b315-6b4f-4b75-a2d5-660a240c86d8" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:19:35 GMT" ] ] }, "trusted": true, "inspect": { "no-proxy": false }, "route": "*,*,*,*", "request-data": { "uri": "http://localhost:34901/api/long-polling/test-channel-0b87b315-6b4f-4b75-a2d5-660a240c86d8", "body": "", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34901" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDExNzUsImlzcyI6InB1c2hwaW4ifQ.BrvswmM2OIZK0jbRYKVIeLJE2ZnYSE5rnvuEuD8eCRc" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] }, "requests": [ { "out-credits": 8192, "peer-address": "192.168.127.1", "in-seq": 2, "out-seq": 2, "logical-peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "1-0-4" } } ], "orig-request-data": { "uri": "http://localhost:34901/api/long-polling/test-channel-0b87b315-6b4f-4b75-a2d5-660a240c86d8", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:34901" ], [ "accept", "*/*" ] ] } }, "from": "proxy_14", "id": "94d2917a-cf48-4df5-bb05-a89851aae44e" }
[DEBUG] 2025-04-15 17:19:35.593 zrpc server: OUT { "success": true, "value": { "accepted": true }, "id": "94d2917a-cf48-4df5-bb05-a89851aae44e" }
[DEBUG] 2025-04-15 17:19:35.593 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:19:35.593 zhttp server: OUT connmgr { "ext": { "multi": true }, "type": "keep-alive", "seq": 2, "from": "handler_15", "id": "1-0-4" }
[DEBUG] 2025-04-15 17:19:35.594 adding response hold on test-channel-0b87b315-6b4f-4b75-a2d5-660a240c86d8
[DEBUG] 2025-04-15 17:19:35.595 stats: OUT sub { "channel": "test-channel-0b87b315-6b4f-4b75-a2d5-660a240c86d8", "ttl": 60, "mode": "response", "subscribers": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:35.595 SUB socket subscribe: test-channel-0b87b315-6b4f-4b75-a2d5-660a240c86d8
[INFO] 2025-04-15 17:19:35.596 subscribe http://localhost:34901/api/long-polling/test-channel-0b87b315-6b4f-4b75-a2d5-660a240c86d8 channel=test-channel-0b87b315-6b4f-4b75-a2d5-660a240c86d8
[DEBUG] 2025-04-15 17:19:35.598 IN proxy stats: conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "proxy_14", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:19:35.599 stats: OUT conn { "peer-address": "192.168.127.1", "ttl": 120, "type": "http", "from": "handler_15", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:19:35.625 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:19:35.627 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:35.742 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:19:35.743 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:36.018 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:36.018 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:36.019 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 17:19:36.019 stats: OUT message { "channel": "test-channel-0b87b315-6b4f-4b75-a2d5-660a240c86d8", "transport": "http-response", "from": "handler_15", "count": 1 }
[INFO] 2025-04-15 17:19:36.019 publish channel=test-channel-0b87b315-6b4f-4b75-a2d5-660a240c86d8 receivers=1
[DEBUG] 2025-04-15 17:19:36.020 zhttp server: OUT connmgr { "code": 200, "reason": "OK", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:19:35 GMT" ] ], "seq": 3, "from": "handler_15", "id": "1-0-4" } 126 "{\"channel\":\"test-channel-0b87b315-6b4f-4b75-a2d5-660a240c86d8\",\"message\":\"{message={message=Hello from Long-Polling test!}}\"}\n"
[DEBUG] 2025-04-15 17:19:36.020 httpsession: cleaning up connmgr:1-0-4
[DEBUG] 2025-04-15 17:19:36.021 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:19:36.214 starting...
[DEBUG] 2025-04-15 17:19:36.215 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:19:36.216 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:19:36.216 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:19:36.216 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:19:36.217 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:19:36.219 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:19:36.219 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:19:36.220 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:19:36.220 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:19:36.221 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:19:36.221 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:19:36.221 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:19:36.222 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:19:36.222 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:19:36.222 started
[DEBUG] 2025-04-15 17:19:36.439 IN proxy stats: conn { "from": "proxy_14", "peer-address": "192.168.127.1", "id": "connmgr:1-0-0", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:19:36.439 stats: OUT conn { "from": "handler_15", "peer-address": "192.168.127.1", "id": "connmgr:1-0-0", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:19:36.450 zrpc server: IN { "id": "9d85504e-20b1-4d76-a4fe-d0fac641480e", "method": "inspect", "args": { "uri": "http://localhost:46707/api/health/check", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:46707" ], [ "accept", "*/*" ] ] } }
[DEBUG] 2025-04-15 17:19:36.450 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "9d85504e-20b1-4d76-a4fe-d0fac641480e" }
[DEBUG] 2025-04-15 17:19:36.451 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:36.451 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 17:19:36.451 publish channel=test-channel-122e3902-c2da-4beb-b799-0debfe78894b receivers=0
[DEBUG] 2025-04-15 17:19:36.482 IN proxy stats: conn { "from": "proxy_14", "unavailable": true, "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:19:36.482 stats: OUT conn { "from": "handler_15", "unavailable": true, "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:19:36.483 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:36.483 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 17:19:36.483 publish channel=test-channel-783879c7-4298-499a-9e57-d44d442c5c5f receivers=0
[DEBUG] 2025-04-15 17:19:36.495 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:36.496 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 17:19:36.496 publish channel=test-channel-b2b02828-10ed-403c-889c-92603f5353df receivers=0
[DEBUG] 2025-04-15 17:19:36.687 starting...
[DEBUG] 2025-04-15 17:19:36.687 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:19:36.688 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:19:36.688 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:19:36.689 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:19:36.689 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:19:36.689 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:19:36.689 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:19:36.689 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:19:36.690 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:19:36.690 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:19:36.690 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:19:36.690 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:19:36.691 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:19:36.691 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:19:36.691 started
[DEBUG] 2025-04-15 17:19:36.942 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:1-0-0", "from": "proxy_14", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:36.942 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:1-0-0", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:36.946 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:0-0-1", "from": "proxy_14", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:36.946 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:0-0-1", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:36.956 zrpc server: IN { "args": { "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33679" ], [ "accept", "*/*" ] ], "uri": "http://localhost:33679/api/health/check", "body": "" }, "method": "inspect", "id": "4cffabdf-5459-422c-86e5-0a7341e49289" }
[DEBUG] 2025-04-15 17:19:36.957 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "4cffabdf-5459-422c-86e5-0a7341e49289" }
[DEBUG] 2025-04-15 17:19:36.957 zrpc server: IN { "args": { "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33679" ], [ "accept", "*/*" ] ], "uri": "http://localhost:33679/api/events/test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5", "body": "" }, "method": "inspect", "id": "90c3317b-3794-4d00-86ec-ab91260e116b" }
[DEBUG] 2025-04-15 17:19:36.958 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "90c3317b-3794-4d00-86ec-ab91260e116b" }
[DEBUG] 2025-04-15 17:19:37.002 IN proxy stats: conn { "unavailable": true, "id": "connmgr:1-0-0", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:37.003 stats: OUT conn { "unavailable": true, "id": "connmgr:1-0-0", "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:37.018 zrpc server: IN { "args": { "response": { "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5" ], [ "Content-Type", "text/event-stream" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:19:36 GMT" ] ], "reason": "", "body": "data:Successfully subscribed to channel: test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5\n\n" }, "request-data": { "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33679" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDExNzYsImlzcyI6InB1c2hwaW4ifQ.z96HVglQvAAwAtKtBYoOXaoGT-FmTaybFAMARPQ8-7Y" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "uri": "http://localhost:33679/api/events/test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5", "body": "" }, "trusted": true, "requests": [ { "out-credits": 8192, "rid": { "sender": "connmgr", "id": "0-0-1" }, "out-seq": 2, "peer-address": "192.168.127.1", "in-seq": 2, "logical-peer-address": "192.168.127.1" } ], "orig-request-data": { "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33679" ], [ "accept", "*/*" ] ], "uri": "http://localhost:33679/api/events/test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5", "body": "" }, "route": "*,*,*,*", "inspect": { "no-proxy": false } }, "method": "accept", "id": "75173dee-3ba6-4537-9241-aaeb7502beb5", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:37.018 zrpc server: OUT { "success": true, "value": { "accepted": true }, "id": "75173dee-3ba6-4537-9241-aaeb7502beb5" }
[DEBUG] 2025-04-15 17:19:37.019 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:19:37.019 zhttp server: OUT connmgr { "seq": 2, "type": "keep-alive", "id": "0-0-1", "from": "handler_15", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:37.019 adding stream hold on test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5
[DEBUG] 2025-04-15 17:19:37.019 stats: OUT sub { "mode": "stream", "from": "handler_15", "ttl": 60, "subscribers": 1, "channel": "test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5" }
[DEBUG] 2025-04-15 17:19:37.020 SUB socket subscribe: test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5
[INFO] 2025-04-15 17:19:37.020 subscribe http://localhost:33679/api/events/test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5 channel=test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5
[DEBUG] 2025-04-15 17:19:37.020 zhttp server: OUT connmgr { "seq": 3, "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Date", "Tue, 15 Apr 2025 17:19:36 GMT" ] ], "reason": "OK", "id": "0-0-1", "from": "handler_15", "more": true } 92 "data:Successfully subscribed to channel: test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5\n\n"
[DEBUG] 2025-04-15 17:19:37.021 zhttp/zws server: IN stream { "seq": 2, "type": "credit", "id": "0-0-1", "from": "connmgr", "ext": { "multi": true }, "credits": 92 }
[DEBUG] 2025-04-15 17:19:37.021 zhttp server: OUT connmgr { "seq": 4, "type": "keep-alive", "id": "0-0-1", "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:37.034 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:0-0-1", "from": "proxy_14", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:37.034 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:0-0-1", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:37.055 IN proxy stats: activity { "count": 2, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:37.056 IN proxy stats: counts { "requests-received": 2, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:37.170 stats: OUT activity { "count": 2, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:37.171 stats: OUT counts { "requests-received": 2, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:37.708 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:0-0-1", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:37.710 stats: OUT sub { "mode": "stream", "from": "handler_15", "ttl": 60, "subscribers": 1, "channel": "test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5" }
[DEBUG] 2025-04-15 17:19:37.957 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:37.958 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:37.958 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:19:37.958 stats: OUT message { "transport": "http-stream", "count": 1, "from": "handler_15", "channel": "test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5" }
[INFO] 2025-04-15 17:19:37.959 publish channel=test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5 receivers=1
[DEBUG] 2025-04-15 17:19:37.959 zhttp server: OUT connmgr { "seq": 5, "id": "0-0-1", "from": "handler_15", "more": true } 57 "event: custom-event\ndata: Hello with custom event type!\n\n"
[DEBUG] 2025-04-15 17:19:37.962 zhttp/zws server: IN stream { "seq": 3, "type": "credit", "id": "0-0-1", "from": "connmgr", "ext": { "multi": true }, "credits": 57 }
[DEBUG] 2025-04-15 17:19:37.964 zhttp/zws server: IN stream { "seq": 4, "type": "cancel", "id": "0-0-1", "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:37.964 zhttp server: received cancel id=0-0-1
[DEBUG] 2025-04-15 17:19:37.964 httpsession: cleaning up connmgr:0-0-1
[DEBUG] 2025-04-15 17:19:37.965 stats: OUT sub { "mode": "stream", "unavailable": true, "from": "handler_15", "channel": "test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5" }
[DEBUG] 2025-04-15 17:19:37.965 SUB socket unsubscribe: test-channel-1339a9b5-55fa-4da5-8de1-b23d24a8a4e5
[DEBUG] 2025-04-15 17:19:37.966 stats: OUT conn { "unavailable": true, "id": "connmgr:0-0-1", "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:37.968 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:1-0-1", "from": "proxy_14", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:37.968 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:1-0-1", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:37.969 zrpc server: IN { "args": { "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33679" ], [ "accept", "*/*" ] ], "uri": "http://localhost:33679/api/events/test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e", "body": "" }, "method": "inspect", "id": "97b85348-91b6-4b21-be47-510470c25545" }
[DEBUG] 2025-04-15 17:19:37.969 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "97b85348-91b6-4b21-be47-510470c25545" }
[DEBUG] 2025-04-15 17:19:38.019 zrpc server: IN { "args": { "response": { "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:19:37 GMT" ] ], "reason": "", "body": "data:Successfully subscribed to channel: test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e\n\n" }, "request-data": { "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33679" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDExNzcsImlzcyI6InB1c2hwaW4ifQ.7Ay4ixo8ym87xe184_Sk7oxoJqVWa5-NJV-iz3dzV8M" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "uri": "http://localhost:33679/api/events/test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e", "body": "" }, "trusted": true, "requests": [ { "out-credits": 8192, "rid": { "sender": "connmgr", "id": "1-0-1" }, "out-seq": 2, "peer-address": "192.168.127.1", "in-seq": 2, "logical-peer-address": "192.168.127.1" } ], "orig-request-data": { "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33679" ], [ "accept", "*/*" ] ], "uri": "http://localhost:33679/api/events/test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e", "body": "" }, "route": "*,*,*,*", "inspect": { "no-proxy": false } }, "method": "accept", "id": "0bd56a7e-bc29-4045-9679-fee9b41c1557", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:38.020 zrpc server: OUT { "success": true, "value": { "accepted": true }, "id": "0bd56a7e-bc29-4045-9679-fee9b41c1557" }
[DEBUG] 2025-04-15 17:19:38.020 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:19:38.020 zhttp server: OUT connmgr { "seq": 2, "type": "keep-alive", "id": "1-0-1", "from": "handler_15", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:38.021 adding stream hold on test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e
[DEBUG] 2025-04-15 17:19:38.021 stats: OUT sub { "mode": "stream", "from": "handler_15", "ttl": 60, "subscribers": 1, "channel": "test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e" }
[DEBUG] 2025-04-15 17:19:38.022 SUB socket subscribe: test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e
[INFO] 2025-04-15 17:19:38.022 subscribe http://localhost:33679/api/events/test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e channel=test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e
[DEBUG] 2025-04-15 17:19:38.022 zhttp server: OUT connmgr { "seq": 3, "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Date", "Tue, 15 Apr 2025 17:19:37 GMT" ] ], "reason": "OK", "id": "1-0-1", "from": "handler_15", "more": true } 92 "data:Successfully subscribed to channel: test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e\n\n"
[DEBUG] 2025-04-15 17:19:38.024 zhttp/zws server: IN stream { "seq": 2, "type": "credit", "id": "1-0-1", "from": "connmgr", "ext": { "multi": true }, "credits": 92 }
[DEBUG] 2025-04-15 17:19:38.025 zhttp server: OUT connmgr { "seq": 4, "type": "keep-alive", "id": "1-0-1", "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:38.042 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:1-0-1", "from": "proxy_14", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:38.042 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:1-0-1", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:38.075 IN proxy stats: activity { "count": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:38.075 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:38.194 stats: OUT activity { "count": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:38.194 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:38.972 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:38.972 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:38.972 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:19:38.973 stats: OUT message { "transport": "http-stream", "count": 1, "from": "handler_15", "channel": "test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e" }
[INFO] 2025-04-15 17:19:38.973 publish channel=test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e receivers=1
[DEBUG] 2025-04-15 17:19:38.973 zhttp server: OUT connmgr { "seq": 5, "id": "1-0-1", "from": "handler_15", "more": true } 28 "data: Hello from SSE test!\n\n"
[DEBUG] 2025-04-15 17:19:38.975 zhttp/zws server: IN stream { "seq": 3, "type": "credit", "id": "1-0-1", "from": "connmgr", "ext": { "multi": true }, "credits": 28 }
[DEBUG] 2025-04-15 17:19:38.976 zhttp/zws server: IN stream { "seq": 4, "type": "cancel", "id": "1-0-1", "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:38.976 zhttp server: received cancel id=1-0-1
[DEBUG] 2025-04-15 17:19:38.976 httpsession: cleaning up connmgr:1-0-1
[DEBUG] 2025-04-15 17:19:38.976 stats: OUT sub { "mode": "stream", "unavailable": true, "from": "handler_15", "channel": "test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e" }
[DEBUG] 2025-04-15 17:19:38.976 SUB socket unsubscribe: test-channel-774529a6-0e4d-4a8d-b2e0-2d895bf2cd5e
[DEBUG] 2025-04-15 17:19:38.977 stats: OUT conn { "unavailable": true, "id": "connmgr:1-0-1", "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:38.982 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:1-0-2", "from": "proxy_14", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:38.982 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:1-0-2", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:38.994 zrpc server: IN { "args": { "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33679" ], [ "accept", "*/*" ] ], "uri": "http://localhost:33679/api/events/test-channel-addbe604-2196-4954-b257-147f7718f0a3", "body": "" }, "method": "inspect", "id": "a4052b5d-e612-4a76-8f48-ac47059ae289" }
[DEBUG] 2025-04-15 17:19:38.994 zrpc server: OUT { "success": true, "value": { "no-proxy": false }, "id": "a4052b5d-e612-4a76-8f48-ac47059ae289" }
[DEBUG] 2025-04-15 17:19:39.041 zrpc server: IN { "args": { "response": { "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-addbe604-2196-4954-b257-147f7718f0a3" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:19:39 GMT" ] ], "reason": "", "body": "data:Successfully subscribed to channel: test-channel-addbe604-2196-4954-b257-147f7718f0a3\n\n" }, "request-data": { "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33679" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDExNzksImlzcyI6InB1c2hwaW4ifQ.t5o4AGc9Umn0MgPIa1wnAPgfGJBc6K_cV9yZlgKUHMo" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "uri": "http://localhost:33679/api/events/test-channel-addbe604-2196-4954-b257-147f7718f0a3", "body": "" }, "trusted": true, "requests": [ { "out-credits": 8192, "rid": { "sender": "connmgr", "id": "1-0-2" }, "out-seq": 2, "peer-address": "192.168.127.1", "in-seq": 2, "logical-peer-address": "192.168.127.1" } ], "orig-request-data": { "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33679" ], [ "accept", "*/*" ] ], "uri": "http://localhost:33679/api/events/test-channel-addbe604-2196-4954-b257-147f7718f0a3", "body": "" }, "route": "*,*,*,*", "inspect": { "no-proxy": false } }, "method": "accept", "id": "76b48fb9-a47b-48ae-9645-05f33bb66561", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:39.042 zrpc server: OUT { "success": true, "value": { "accepted": true }, "id": "76b48fb9-a47b-48ae-9645-05f33bb66561" }
[DEBUG] 2025-04-15 17:19:39.042 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:19:39.042 zhttp server: OUT connmgr { "seq": 2, "type": "keep-alive", "id": "1-0-2", "from": "handler_15", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:39.042 adding stream hold on test-channel-addbe604-2196-4954-b257-147f7718f0a3
[DEBUG] 2025-04-15 17:19:39.042 stats: OUT sub { "mode": "stream", "from": "handler_15", "ttl": 60, "subscribers": 1, "channel": "test-channel-addbe604-2196-4954-b257-147f7718f0a3" }
[DEBUG] 2025-04-15 17:19:39.043 SUB socket subscribe: test-channel-addbe604-2196-4954-b257-147f7718f0a3
[INFO] 2025-04-15 17:19:39.043 subscribe http://localhost:33679/api/events/test-channel-addbe604-2196-4954-b257-147f7718f0a3 channel=test-channel-addbe604-2196-4954-b257-147f7718f0a3
[DEBUG] 2025-04-15 17:19:39.043 zhttp server: OUT connmgr { "seq": 3, "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Date", "Tue, 15 Apr 2025 17:19:39 GMT" ] ], "reason": "OK", "id": "1-0-2", "from": "handler_15", "more": true } 92 "data:Successfully subscribed to channel: test-channel-addbe604-2196-4954-b257-147f7718f0a3\n\n"
[DEBUG] 2025-04-15 17:19:39.044 zhttp/zws server: IN stream { "seq": 2, "type": "credit", "id": "1-0-2", "from": "connmgr", "ext": { "multi": true }, "credits": 92 }
[DEBUG] 2025-04-15 17:19:39.044 zhttp server: OUT connmgr { "seq": 4, "type": "keep-alive", "id": "1-0-2", "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:39.057 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:1-0-2", "from": "proxy_14", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:39.057 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "id": "connmgr:1-0-2", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:19:39.095 IN proxy stats: activity { "count": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:39.096 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:19:39.214 stats: OUT activity { "count": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:39.215 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:19:39.992 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:39.993 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:39.993 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:19:39.994 stats: OUT message { "transport": "http-stream", "count": 1, "from": "handler_15", "channel": "test-channel-addbe604-2196-4954-b257-147f7718f0a3" }
[INFO] 2025-04-15 17:19:39.994 publish channel=test-channel-addbe604-2196-4954-b257-147f7718f0a3 receivers=1
[DEBUG] 2025-04-15 17:19:39.995 zhttp server: OUT connmgr { "seq": 5, "id": "1-0-2", "from": "handler_15", "more": true } 25 "data: First SSE message\n\n"
[DEBUG] 2025-04-15 17:19:39.999 zhttp/zws server: IN stream { "seq": 3, "type": "credit", "id": "1-0-2", "from": "connmgr", "ext": { "multi": true }, "credits": 25 }
[DEBUG] 2025-04-15 17:19:40.000 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:40.001 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:40.001 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:19:40.002 stats: OUT message { "transport": "http-stream", "count": 1, "from": "handler_15", "channel": "test-channel-addbe604-2196-4954-b257-147f7718f0a3" }
[INFO] 2025-04-15 17:19:40.002 publish channel=test-channel-addbe604-2196-4954-b257-147f7718f0a3 receivers=1
[DEBUG] 2025-04-15 17:19:40.007 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:19:40.008 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:19:40.008 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:19:40.009 stats: OUT message { "transport": "http-stream", "count": 1, "from": "handler_15", "channel": "test-channel-addbe604-2196-4954-b257-147f7718f0a3" }
[INFO] 2025-04-15 17:19:40.009 publish channel=test-channel-addbe604-2196-4954-b257-147f7718f0a3 receivers=1
[DEBUG] 2025-04-15 17:19:40.036 zhttp server: OUT connmgr { "seq": 6, "id": "1-0-2", "from": "handler_15", "more": true } 51 "data: Second SSE message\n\ndata: Third SSE message\n\n"
[DEBUG] 2025-04-15 17:19:40.039 zhttp/zws server: IN stream { "seq": 4, "type": "credit", "id": "1-0-2", "from": "connmgr", "ext": { "multi": true }, "credits": 51 }
[DEBUG] 2025-04-15 17:19:40.043 zhttp/zws server: IN stream { "seq": 5, "type": "cancel", "id": "1-0-2", "from": "connmgr", "ext": { "multi": true } }
[DEBUG] 2025-04-15 17:19:40.044 zhttp server: received cancel id=1-0-2
[DEBUG] 2025-04-15 17:19:40.045 httpsession: cleaning up connmgr:1-0-2
[DEBUG] 2025-04-15 17:19:40.045 stats: OUT sub { "mode": "stream", "unavailable": true, "from": "handler_15", "channel": "test-channel-addbe604-2196-4954-b257-147f7718f0a3" }
[DEBUG] 2025-04-15 17:19:40.046 SUB socket unsubscribe: test-channel-addbe604-2196-4954-b257-147f7718f0a3
[DEBUG] 2025-04-15 17:19:40.047 stats: OUT conn { "unavailable": true, "id": "connmgr:1-0-2", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:10.631 starting...
[DEBUG] 2025-04-15 17:26:10.632 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:26:10.632 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:26:10.632 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:26:10.632 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:26:10.634 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:26:10.635 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:26:10.635 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:26:10.635 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:26:10.636 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:26:10.636 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:26:10.636 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:26:10.637 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:26:10.637 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:26:10.637 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:26:10.637 started
[DEBUG] 2025-04-15 17:26:11.093 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-0", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:11.093 stats: OUT conn { "id": "connmgr:1-0-0", "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:11.093 IN proxy stats: conn { "type": "http", "id": "connmgr:0-0-1", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:11.093 stats: OUT conn { "id": "connmgr:0-0-1", "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:11.094 zrpc server: IN { "id": "9bf05dd7-ad78-4152-8d0e-2e1e77180a6d", "method": "inspect", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44023" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44023/api/health/check", "method": "GET", "body": "" } }
[DEBUG] 2025-04-15 17:26:11.094 zrpc server: OUT { "id": "9bf05dd7-ad78-4152-8d0e-2e1e77180a6d", "value": { "no-proxy": false }, "success": true }
[DEBUG] 2025-04-15 17:26:11.094 zrpc server: IN { "id": "ac31ed1b-7e18-418f-8501-0de001581266", "method": "inspect", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44023" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44023/api/http-response/test-channel-89554f9f-8c8f-4cab-bf9c-f4d83a65e3d4", "method": "GET", "body": "" } }
[DEBUG] 2025-04-15 17:26:11.094 zrpc server: OUT { "id": "ac31ed1b-7e18-418f-8501-0de001581266", "value": { "no-proxy": false }, "success": true }
[DEBUG] 2025-04-15 17:26:11.195 IN proxy stats: conn { "id": "connmgr:1-0-0", "from": "proxy_14", "unavailable": true }
[DEBUG] 2025-04-15 17:26:11.196 stats: OUT conn { "id": "connmgr:1-0-0", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 17:26:11.197 IN proxy stats: activity { "from": "proxy_14", "count": 2 }
[DEBUG] 2025-04-15 17:26:11.197 IN proxy stats: counts { "from": "proxy_14", "requests-received": 2 }
[DEBUG] 2025-04-15 17:26:11.209 zrpc server: IN { "id": "cd9720c6-706f-4612-bbb3-d92c629f88bb", "from": "proxy_14", "method": "accept", "args": { "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Channel", "test-channel-89554f9f-8c8f-4cab-bf9c-f4d83a65e3d4" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:11 GMT" ] ], "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-89554f9f-8c8f-4cab-bf9c-f4d83a65e3d4\"}", "reason": "", "code": 200 }, "trusted": true, "orig-request-data": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44023" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44023/api/http-response/test-channel-89554f9f-8c8f-4cab-bf9c-f4d83a65e3d4", "method": "GET", "body": "" }, "inspect": { "no-proxy": false }, "requests": [ { "rid": { "id": "0-0-1", "sender": "connmgr" }, "logical-peer-address": "192.168.127.1", "out-credits": 8192, "in-seq": 2, "peer-address": "192.168.127.1", "out-seq": 2 } ], "route": "*,*,*,*", "request-data": { "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44023" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE1NzEsImlzcyI6InB1c2hwaW4ifQ.HeuyW6uHn1klh0BnwOHIj2UR2pstcUksgnyqXn3QPKI" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "uri": "http://localhost:44023/api/http-response/test-channel-89554f9f-8c8f-4cab-bf9c-f4d83a65e3d4", "method": "GET", "body": "" } } }
[DEBUG] 2025-04-15 17:26:11.210 zrpc server: OUT { "id": "cd9720c6-706f-4612-bbb3-d92c629f88bb", "value": { "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:26:11 GMT" ] ], "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-89554f9f-8c8f-4cab-bf9c-f4d83a65e3d4\"}", "reason": "OK", "code": 200 } }, "success": true }
[DEBUG] 2025-04-15 17:26:11.210 stats: OUT conn { "id": "connmgr:0-0-1", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 17:26:11.218 IN proxy stats: conn { "id": "connmgr:0-0-1", "from": "proxy_14", "unavailable": true }
[DEBUG] 2025-04-15 17:26:11.218 stats: OUT conn { "id": "connmgr:0-0-1", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 17:26:11.240 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-1", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:11.241 stats: OUT conn { "id": "connmgr:1-0-1", "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:11.253 zrpc server: IN { "id": "cc6ff053-1a19-43ce-86ed-f0f4d541839b", "method": "inspect", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44023" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44023/api/http-response/test-channel-0f94d233-e88e-48f5-b32b-1334cf677837", "method": "GET", "body": "" } }
[DEBUG] 2025-04-15 17:26:11.254 zrpc server: OUT { "id": "cc6ff053-1a19-43ce-86ed-f0f4d541839b", "value": { "no-proxy": false }, "success": true }
[DEBUG] 2025-04-15 17:26:11.306 stats: OUT activity { "from": "handler_15", "count": 2 }
[DEBUG] 2025-04-15 17:26:11.306 stats: OUT counts { "from": "handler_15", "requests-received": 2 }
[DEBUG] 2025-04-15 17:26:11.318 zrpc server: IN { "id": "9f2f3cf3-3915-4574-814c-98f0bed1b46f", "from": "proxy_14", "method": "accept", "args": { "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Channel", "test-channel-0f94d233-e88e-48f5-b32b-1334cf677837" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:11 GMT" ] ], "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-0f94d233-e88e-48f5-b32b-1334cf677837\"}", "reason": "", "code": 200 }, "trusted": true, "orig-request-data": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44023" ], [ "accept", "*/*" ] ], "uri": "http://localhost:44023/api/http-response/test-channel-0f94d233-e88e-48f5-b32b-1334cf677837", "method": "GET", "body": "" }, "inspect": { "no-proxy": false }, "requests": [ { "rid": { "id": "1-0-1", "sender": "connmgr" }, "logical-peer-address": "192.168.127.1", "out-credits": 8192, "in-seq": 2, "peer-address": "192.168.127.1", "out-seq": 2 } ], "route": "*,*,*,*", "request-data": { "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44023" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE1NzEsImlzcyI6InB1c2hwaW4ifQ.HeuyW6uHn1klh0BnwOHIj2UR2pstcUksgnyqXn3QPKI" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "uri": "http://localhost:44023/api/http-response/test-channel-0f94d233-e88e-48f5-b32b-1334cf677837", "method": "GET", "body": "" } } }
[DEBUG] 2025-04-15 17:26:11.319 zrpc server: OUT { "id": "9f2f3cf3-3915-4574-814c-98f0bed1b46f", "value": { "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:26:11 GMT" ] ], "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-0f94d233-e88e-48f5-b32b-1334cf677837\"}", "reason": "OK", "code": 200 } }, "success": true }
[DEBUG] 2025-04-15 17:26:11.319 stats: OUT conn { "id": "connmgr:1-0-1", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 17:26:11.334 IN proxy stats: conn { "id": "connmgr:1-0-1", "from": "proxy_14", "unavailable": true }
[DEBUG] 2025-04-15 17:26:11.334 stats: OUT conn { "id": "connmgr:1-0-1", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 17:26:11.346 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:11.346 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:11.395 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:11.395 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 17:26:11.396 publish channel=test-channel-0f94d233-e88e-48f5-b32b-1334cf677837 receivers=0
[DEBUG] 2025-04-15 17:26:11.644 starting...
[DEBUG] 2025-04-15 17:26:11.645 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:26:11.645 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:26:11.645 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:26:11.645 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:26:11.646 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:26:11.646 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:26:11.646 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:26:11.647 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:26:11.647 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:26:11.647 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:26:11.648 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:26:11.648 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:26:11.648 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:26:11.648 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:26:11.649 started
[DEBUG] 2025-04-15 17:26:11.901 IN proxy stats: conn { "peer-address": "192.168.127.1", "from": "proxy_14", "id": "connmgr:1-0-0", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:26:11.901 stats: OUT conn { "from": "handler_15", "peer-address": "192.168.127.1", "id": "connmgr:1-0-0", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:26:11.908 IN proxy stats: conn { "peer-address": "192.168.127.1", "from": "proxy_14", "id": "connmgr:0-0-1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:26:11.908 stats: OUT conn { "from": "handler_15", "peer-address": "192.168.127.1", "id": "connmgr:0-0-1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:26:11.908 zrpc server: IN { "id": "fb2cbb32-a9a8-4d9f-b300-527d863adc34", "method": "inspect", "args": { "uri": "http://localhost:35299/api/health/check", "method": "GET", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35299" ], [ "accept", "*/*" ] ] } }
[DEBUG] 2025-04-15 17:26:11.908 zrpc server: OUT { "id": "fb2cbb32-a9a8-4d9f-b300-527d863adc34", "success": true, "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 17:26:11.919 zrpc server: IN { "id": "ea2d3519-4651-4c55-9244-2c11ff6b4a5c", "method": "inspect", "args": { "uri": "http://localhost:35299/api/http-stream/test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4", "method": "GET", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35299" ], [ "accept", "*/*" ] ] } }
[DEBUG] 2025-04-15 17:26:11.919 zrpc server: OUT { "id": "ea2d3519-4651-4c55-9244-2c11ff6b4a5c", "success": true, "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 17:26:11.940 IN proxy stats: conn { "from": "proxy_14", "id": "connmgr:1-0-0", "unavailable": true }
[DEBUG] 2025-04-15 17:26:11.940 stats: OUT conn { "from": "handler_15", "id": "connmgr:1-0-0", "unavailable": true }
[DEBUG] 2025-04-15 17:26:11.966 zrpc server: IN { "from": "proxy_14", "id": "5605eaea-0e51-4e09-8512-6db44cf5552f", "method": "accept", "args": { "trusted": true, "inspect": { "no-proxy": false }, "request-data": { "uri": "http://localhost:35299/api/http-stream/test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4", "method": "GET", "body": "", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35299" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE1NzEsImlzcyI6InB1c2hwaW4ifQ.HeuyW6uHn1klh0BnwOHIj2UR2pstcUksgnyqXn3QPKI" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] }, "requests": [ { "out-credits": 8192, "logical-peer-address": "192.168.127.1", "peer-address": "192.168.127.1", "out-seq": 2, "in-seq": 2, "rid": { "id": "0-0-1", "sender": "connmgr" } } ], "route": "*,*,*,*", "orig-request-data": { "uri": "http://localhost:35299/api/http-stream/test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4", "method": "GET", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35299" ], [ "accept", "*/*" ] ] }, "response": { "body": "Successfully subscribed to channel: test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4\n", "reason": "", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:11 GMT" ] ], "code": 200 } } }
[DEBUG] 2025-04-15 17:26:11.967 zrpc server: OUT { "id": "5605eaea-0e51-4e09-8512-6db44cf5552f", "success": true, "value": { "accepted": true } }
[DEBUG] 2025-04-15 17:26:11.967 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:11.967 zhttp server: OUT connmgr { "from": "handler_15", "ext": { "multi": true }, "id": "0-0-1", "seq": 2, "type": "keep-alive" }
[DEBUG] 2025-04-15 17:26:11.967 adding stream hold on test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4
[DEBUG] 2025-04-15 17:26:11.968 stats: OUT sub { "from": "handler_15", "channel": "test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4", "ttl": 60, "subscribers": 1, "mode": "stream" }
[DEBUG] 2025-04-15 17:26:11.968 SUB socket subscribe: test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4
[INFO] 2025-04-15 17:26:11.968 subscribe http://localhost:35299/api/http-stream/test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4 channel=test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4
[DEBUG] 2025-04-15 17:26:11.968 zhttp server: OUT connmgr { "from": "handler_15", "id": "0-0-1", "more": true, "reason": "OK", "seq": 3, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Date", "Tue, 15 Apr 2025 17:26:11 GMT" ] ], "code": 200 } 86 "Successfully subscribed to channel: test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4\n"
[DEBUG] 2025-04-15 17:26:11.969 zhttp/zws server: IN stream { "from": "connmgr", "ext": { "multi": true }, "id": "0-0-1", "credits": 86, "seq": 2, "type": "credit" }
[DEBUG] 2025-04-15 17:26:11.970 zhttp server: OUT connmgr { "from": "handler_15", "id": "0-0-1", "seq": 4, "type": "keep-alive" }
[DEBUG] 2025-04-15 17:26:11.982 IN proxy stats: conn { "peer-address": "192.168.127.1", "from": "proxy_14", "id": "connmgr:0-0-1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:26:11.982 stats: OUT conn { "from": "handler_15", "peer-address": "192.168.127.1", "id": "connmgr:0-0-1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:26:12.017 IN proxy stats: activity { "from": "proxy_14", "count": 2 }
[DEBUG] 2025-04-15 17:26:12.018 IN proxy stats: counts { "requests-received": 2, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:12.135 stats: OUT activity { "from": "handler_15", "count": 2 }
[DEBUG] 2025-04-15 17:26:12.136 stats: OUT counts { "requests-received": 2, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:12.674 stats: OUT conn { "from": "handler_15", "peer-address": "192.168.127.1", "id": "connmgr:0-0-1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:26:12.677 stats: OUT sub { "from": "handler_15", "channel": "test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4", "ttl": 60, "subscribers": 1, "mode": "stream" }
[DEBUG] 2025-04-15 17:26:12.940 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:12.941 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:12.941 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:12.941 stats: OUT message { "from": "handler_15", "channel": "test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4", "transport": "http-stream", "count": 1 }
[INFO] 2025-04-15 17:26:12.942 publish channel=test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4 receivers=1
[DEBUG] 2025-04-15 17:26:12.942 zhttp server: OUT connmgr { "from": "handler_15", "id": "0-0-1", "more": true, "seq": 5 } 29 "First HTTP Streaming message\n"
[DEBUG] 2025-04-15 17:26:12.944 zhttp/zws server: IN stream { "from": "connmgr", "ext": { "multi": true }, "id": "0-0-1", "credits": 29, "seq": 3, "type": "credit" }
[DEBUG] 2025-04-15 17:26:12.950 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:12.950 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:12.951 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:12.951 stats: OUT message { "from": "handler_15", "channel": "test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4", "transport": "http-stream", "count": 1 }
[INFO] 2025-04-15 17:26:12.951 publish channel=test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4 receivers=1
[DEBUG] 2025-04-15 17:26:12.959 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:12.959 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:12.960 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:12.960 stats: OUT message { "from": "handler_15", "channel": "test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4", "transport": "http-stream", "count": 1 }
[INFO] 2025-04-15 17:26:12.960 publish channel=test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4 receivers=1
[DEBUG] 2025-04-15 17:26:12.983 zhttp server: OUT connmgr { "from": "handler_15", "id": "0-0-1", "seq": 6, "type": "keep-alive" }
[DEBUG] 2025-04-15 17:26:12.987 zhttp server: OUT connmgr { "from": "handler_15", "id": "0-0-1", "more": true, "seq": 7 } 59 "Second HTTP Streaming message\nThird HTTP Streaming message\n"
[DEBUG] 2025-04-15 17:26:12.990 zhttp/zws server: IN stream { "from": "connmgr", "ext": { "multi": true }, "id": "0-0-1", "credits": 59, "seq": 4, "type": "credit" }
[DEBUG] 2025-04-15 17:26:12.992 zhttp/zws server: IN stream { "from": "connmgr", "ext": { "multi": true }, "id": "0-0-1", "seq": 5, "type": "cancel" }
[DEBUG] 2025-04-15 17:26:12.993 zhttp server: received cancel id=0-0-1
[DEBUG] 2025-04-15 17:26:12.993 httpsession: cleaning up connmgr:0-0-1
[DEBUG] 2025-04-15 17:26:12.993 stats: OUT sub { "from": "handler_15", "channel": "test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4", "unavailable": true, "mode": "stream" }
[DEBUG] 2025-04-15 17:26:12.994 SUB socket unsubscribe: test-channel-2b989a0f-f479-4308-9900-26f8c5ac85a4
[DEBUG] 2025-04-15 17:26:12.994 stats: OUT conn { "from": "handler_15", "id": "connmgr:0-0-1", "unavailable": true }
[DEBUG] 2025-04-15 17:26:13.000 IN proxy stats: conn { "peer-address": "192.168.127.1", "from": "proxy_14", "id": "connmgr:1-0-1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:26:13.000 stats: OUT conn { "from": "handler_15", "peer-address": "192.168.127.1", "id": "connmgr:1-0-1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:26:13.014 zrpc server: IN { "id": "90ca18eb-a805-4ec8-8ff7-5a8ca959f042", "method": "inspect", "args": { "uri": "http://localhost:35299/api/http-stream/test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616", "method": "GET", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35299" ], [ "accept", "*/*" ] ] } }
[DEBUG] 2025-04-15 17:26:13.015 zrpc server: OUT { "id": "90ca18eb-a805-4ec8-8ff7-5a8ca959f042", "success": true, "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 17:26:13.068 zrpc server: IN { "from": "proxy_14", "id": "7c158ffb-75e7-440b-951d-481eaaf7ec99", "method": "accept", "args": { "trusted": true, "inspect": { "no-proxy": false }, "request-data": { "uri": "http://localhost:35299/api/http-stream/test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616", "method": "GET", "body": "", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35299" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE1NzMsImlzcyI6InB1c2hwaW4ifQ.jjaPVQBmJmerRd9NBKF3zCdPdp6ZiWpFTYHZ899Knh0" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] }, "requests": [ { "out-credits": 8192, "logical-peer-address": "192.168.127.1", "peer-address": "192.168.127.1", "out-seq": 2, "in-seq": 2, "rid": { "id": "1-0-1", "sender": "connmgr" } } ], "route": "*,*,*,*", "orig-request-data": { "uri": "http://localhost:35299/api/http-stream/test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616", "method": "GET", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:35299" ], [ "accept", "*/*" ] ] }, "response": { "body": "Successfully subscribed to channel: test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616\n", "reason": "", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:13 GMT" ] ], "code": 200 } } }
[DEBUG] 2025-04-15 17:26:13.069 zrpc server: OUT { "id": "7c158ffb-75e7-440b-951d-481eaaf7ec99", "success": true, "value": { "accepted": true } }
[DEBUG] 2025-04-15 17:26:13.070 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:13.070 zhttp server: OUT connmgr { "from": "handler_15", "ext": { "multi": true }, "id": "1-0-1", "seq": 2, "type": "keep-alive" }
[DEBUG] 2025-04-15 17:26:13.070 adding stream hold on test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616
[DEBUG] 2025-04-15 17:26:13.071 stats: OUT sub { "from": "handler_15", "channel": "test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616", "ttl": 60, "subscribers": 1, "mode": "stream" }
[DEBUG] 2025-04-15 17:26:13.071 SUB socket subscribe: test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616
[INFO] 2025-04-15 17:26:13.072 subscribe http://localhost:35299/api/http-stream/test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616 channel=test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616
[DEBUG] 2025-04-15 17:26:13.072 zhttp server: OUT connmgr { "from": "handler_15", "id": "1-0-1", "more": true, "reason": "OK", "seq": 3, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Date", "Tue, 15 Apr 2025 17:26:13 GMT" ] ], "code": 200 } 86 "Successfully subscribed to channel: test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616\n"
[DEBUG] 2025-04-15 17:26:13.075 zhttp/zws server: IN stream { "from": "connmgr", "ext": { "multi": true }, "id": "1-0-1", "credits": 86, "seq": 2, "type": "credit" }
[DEBUG] 2025-04-15 17:26:13.075 zhttp server: OUT connmgr { "from": "handler_15", "id": "1-0-1", "seq": 4, "type": "keep-alive" }
[DEBUG] 2025-04-15 17:26:13.077 IN proxy stats: conn { "peer-address": "192.168.127.1", "from": "proxy_14", "id": "connmgr:1-0-1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:26:13.077 stats: OUT conn { "from": "handler_15", "peer-address": "192.168.127.1", "id": "connmgr:1-0-1", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:26:13.112 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:13.114 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:13.224 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:13.225 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:14.004 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:14.005 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:14.005 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:14.006 stats: OUT message { "from": "handler_15", "channel": "test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616", "transport": "http-stream", "count": 1 }
[INFO] 2025-04-15 17:26:14.006 publish channel=test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616 receivers=1
[DEBUG] 2025-04-15 17:26:14.007 zhttp server: OUT connmgr { "from": "handler_15", "id": "1-0-1", "more": true, "seq": 5 } 32 "Hello from HTTP Streaming test!\n"
[DEBUG] 2025-04-15 17:26:14.010 zhttp/zws server: IN stream { "from": "connmgr", "ext": { "multi": true }, "id": "1-0-1", "credits": 32, "seq": 3, "type": "credit" }
[DEBUG] 2025-04-15 17:26:14.011 zhttp/zws server: IN stream { "from": "connmgr", "ext": { "multi": true }, "id": "1-0-1", "seq": 4, "type": "cancel" }
[DEBUG] 2025-04-15 17:26:14.012 zhttp server: received cancel id=1-0-1
[DEBUG] 2025-04-15 17:26:14.012 httpsession: cleaning up connmgr:1-0-1
[DEBUG] 2025-04-15 17:26:14.013 stats: OUT sub { "from": "handler_15", "channel": "test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616", "unavailable": true, "mode": "stream" }
[DEBUG] 2025-04-15 17:26:14.014 SUB socket unsubscribe: test-channel-e293d015-bd6d-4fcf-a22b-b9431b8f8616
[DEBUG] 2025-04-15 17:26:14.015 stats: OUT conn { "from": "handler_15", "id": "connmgr:1-0-1", "unavailable": true }
[DEBUG] 2025-04-15 17:26:14.202 starting...
[DEBUG] 2025-04-15 17:26:14.203 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:26:14.204 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:26:14.204 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:26:14.204 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:26:14.204 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:26:14.205 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:26:14.205 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:26:14.205 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:26:14.206 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:26:14.206 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:26:14.206 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:26:14.206 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:26:14.206 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:26:14.207 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:26:14.207 started
[DEBUG] 2025-04-15 17:26:14.445 IN proxy stats: conn { "type": "http", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:26:14.446 stats: OUT conn { "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:26:14.459 zrpc server: IN { "method": "inspect", "args": { "uri": "http://localhost:36547/api/health/check", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36547" ], [ "accept", "*/*" ] ] }, "id": "e5509dd3-d4ea-4e37-bf1e-d1af89d33543" }
[DEBUG] 2025-04-15 17:26:14.459 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "e5509dd3-d4ea-4e37-bf1e-d1af89d33543" }
[DEBUG] 2025-04-15 17:26:14.493 IN proxy stats: conn { "unavailable": true, "from": "proxy_14", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:26:14.493 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:26:14.566 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:14.567 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:14.674 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:14.683 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:14.960 IN proxy stats: conn { "type": "http", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:26:14.961 stats: OUT conn { "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:26:14.973 zrpc server: IN { "method": "inspect", "args": { "uri": "http://localhost:36547/api/long-polling/test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36547" ], [ "accept", "*/*" ] ] }, "id": "ed3d56c3-bf16-4c89-8acf-df09c6a4e187" }
[DEBUG] 2025-04-15 17:26:14.973 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "ed3d56c3-bf16-4c89-8acf-df09c6a4e187" }
[DEBUG] 2025-04-15 17:26:15.034 zrpc server: IN { "from": "proxy_14", "method": "accept", "args": { "requests": [ { "peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "1-0-1" }, "out-seq": 2, "logical-peer-address": "192.168.127.1", "out-credits": 8192, "in-seq": 2 } ], "route": "*,*,*,*", "orig-request-data": { "uri": "http://localhost:36547/api/long-polling/test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36547" ], [ "accept", "*/*" ] ] }, "trusted": true, "inspect": { "no-proxy": false }, "response": { "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e\"}", "code": 200, "reason": "", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:15 GMT" ] ] }, "request-data": { "uri": "http://localhost:36547/api/long-polling/test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "body": "", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36547" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE1NzQsImlzcyI6InB1c2hwaW4ifQ.3T5laUFoVr4gry-yGKGTcvSRvCNztjb_uh8Ub_DWSVA" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] } }, "id": "f36b9b0f-061c-425c-ab14-9613ef18b087" }
[DEBUG] 2025-04-15 17:26:15.035 zrpc server: OUT { "value": { "accepted": true }, "success": true, "id": "f36b9b0f-061c-425c-ab14-9613ef18b087" }
[DEBUG] 2025-04-15 17:26:15.035 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:15.035 zhttp server: OUT connmgr { "type": "keep-alive", "from": "handler_15", "ext": { "multi": true }, "seq": 2, "id": "1-0-1" }
[DEBUG] 2025-04-15 17:26:15.036 adding response hold on test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e
[DEBUG] 2025-04-15 17:26:15.036 stats: OUT sub { "from": "handler_15", "ttl": 60, "channel": "test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "subscribers": 1, "mode": "response" }
[DEBUG] 2025-04-15 17:26:15.037 SUB socket subscribe: test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e
[INFO] 2025-04-15 17:26:15.037 subscribe http://localhost:36547/api/long-polling/test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e channel=test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e
[DEBUG] 2025-04-15 17:26:15.053 IN proxy stats: conn { "type": "http", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:26:15.053 stats: OUT conn { "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:26:15.066 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:15.066 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:15.176 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:15.177 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:15.218 stats: OUT conn { "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:26:15.219 stats: OUT sub { "from": "handler_15", "ttl": 60, "channel": "test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "subscribers": 1, "mode": "response" }
[DEBUG] 2025-04-15 17:26:15.467 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:15.468 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:15.468 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 17:26:15.469 stats: OUT message { "from": "handler_15", "channel": "test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "transport": "http-response", "count": 1 }
[INFO] 2025-04-15 17:26:15.469 publish channel=test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e receivers=1
[DEBUG] 2025-04-15 17:26:15.470 zhttp server: OUT connmgr { "from": "handler_15", "seq": 3, "code": 200, "reason": "OK", "id": "1-0-1", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:26:15 GMT" ] ] } 113 "{\"channel\":\"test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e\",\"message\":\"{message=First Long-Polling message}\"}\n"
[DEBUG] 2025-04-15 17:26:15.470 httpsession: cleaning up connmgr:1-0-1
[DEBUG] 2025-04-15 17:26:15.471 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:26:15.980 IN proxy stats: conn { "type": "http", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:26:15.980 stats: OUT conn { "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:26:15.990 zrpc server: IN { "method": "inspect", "args": { "uri": "http://localhost:36547/api/long-polling/test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36547" ], [ "accept", "*/*" ] ] }, "id": "4aa81b42-a05c-4196-a411-b9f93a7de96b" }
[DEBUG] 2025-04-15 17:26:15.990 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "4aa81b42-a05c-4196-a411-b9f93a7de96b" }
[DEBUG] 2025-04-15 17:26:16.034 zrpc server: IN { "from": "proxy_14", "method": "accept", "args": { "requests": [ { "peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "1-0-2" }, "out-seq": 2, "logical-peer-address": "192.168.127.1", "out-credits": 8192, "in-seq": 2 } ], "route": "*,*,*,*", "orig-request-data": { "uri": "http://localhost:36547/api/long-polling/test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36547" ], [ "accept", "*/*" ] ] }, "trusted": true, "inspect": { "no-proxy": false }, "response": { "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e\"}", "code": 200, "reason": "", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:16 GMT" ] ] }, "request-data": { "uri": "http://localhost:36547/api/long-polling/test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "body": "", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36547" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE1NzYsImlzcyI6InB1c2hwaW4ifQ.LzOozyhflD0JXNlbZuGfwsI9ZcQB9G2hOVwiTYQAIdI" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] } }, "id": "0eb9d0c2-2129-4909-9828-58cc003dee68" }
[DEBUG] 2025-04-15 17:26:16.034 zrpc server: OUT { "value": { "accepted": true }, "success": true, "id": "0eb9d0c2-2129-4909-9828-58cc003dee68" }
[DEBUG] 2025-04-15 17:26:16.034 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:16.035 zhttp server: OUT connmgr { "type": "keep-alive", "from": "handler_15", "ext": { "multi": true }, "seq": 2, "id": "1-0-2" }
[DEBUG] 2025-04-15 17:26:16.035 adding response hold on test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e
[DEBUG] 2025-04-15 17:26:16.035 stats: OUT sub { "from": "handler_15", "ttl": 60, "channel": "test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "subscribers": 1, "mode": "response" }
[INFO] 2025-04-15 17:26:16.035 subscribe http://localhost:36547/api/long-polling/test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e channel=test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e
[DEBUG] 2025-04-15 17:26:16.050 IN proxy stats: conn { "type": "http", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:26:16.050 stats: OUT conn { "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:26:16.091 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:16.091 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:16.202 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:16.203 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:16.483 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:16.484 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:16.484 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 17:26:16.485 stats: OUT message { "from": "handler_15", "channel": "test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "transport": "http-response", "count": 1 }
[INFO] 2025-04-15 17:26:16.485 publish channel=test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e receivers=1
[DEBUG] 2025-04-15 17:26:16.486 zhttp server: OUT connmgr { "from": "handler_15", "seq": 3, "code": 200, "reason": "OK", "id": "1-0-2", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:26:16 GMT" ] ] } 114 "{\"channel\":\"test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e\",\"message\":\"{message=Second Long-Polling message}\"}\n"
[DEBUG] 2025-04-15 17:26:16.487 httpsession: cleaning up connmgr:1-0-2
[DEBUG] 2025-04-15 17:26:16.488 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:26:16.997 IN proxy stats: conn { "type": "http", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:26:16.998 stats: OUT conn { "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:26:17.011 zrpc server: IN { "method": "inspect", "args": { "uri": "http://localhost:36547/api/long-polling/test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36547" ], [ "accept", "*/*" ] ] }, "id": "55d8dfed-fe50-4e72-ba0f-4d714104d97a" }
[DEBUG] 2025-04-15 17:26:17.011 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "55d8dfed-fe50-4e72-ba0f-4d714104d97a" }
[DEBUG] 2025-04-15 17:26:17.062 zrpc server: IN { "from": "proxy_14", "method": "accept", "args": { "requests": [ { "peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "1-0-3" }, "out-seq": 2, "logical-peer-address": "192.168.127.1", "out-credits": 8192, "in-seq": 2 } ], "route": "*,*,*,*", "orig-request-data": { "uri": "http://localhost:36547/api/long-polling/test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36547" ], [ "accept", "*/*" ] ] }, "trusted": true, "inspect": { "no-proxy": false }, "response": { "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e\"}", "code": 200, "reason": "", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:17 GMT" ] ] }, "request-data": { "uri": "http://localhost:36547/api/long-polling/test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "body": "", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36547" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE1NzcsImlzcyI6InB1c2hwaW4ifQ.26XxNMwg4IPajCMpgd_IE6lvQcB0d6r-NCvkTgpzkxg" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] } }, "id": "0fe56fc2-c97e-4a3b-8d5e-d166dac2297a" }
[DEBUG] 2025-04-15 17:26:17.063 zrpc server: OUT { "value": { "accepted": true }, "success": true, "id": "0fe56fc2-c97e-4a3b-8d5e-d166dac2297a" }
[DEBUG] 2025-04-15 17:26:17.063 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:17.063 zhttp server: OUT connmgr { "type": "keep-alive", "from": "handler_15", "ext": { "multi": true }, "seq": 2, "id": "1-0-3" }
[DEBUG] 2025-04-15 17:26:17.063 adding response hold on test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e
[DEBUG] 2025-04-15 17:26:17.064 stats: OUT sub { "from": "handler_15", "ttl": 60, "channel": "test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "subscribers": 1, "mode": "response" }
[INFO] 2025-04-15 17:26:17.064 subscribe http://localhost:36547/api/long-polling/test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e channel=test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e
[DEBUG] 2025-04-15 17:26:17.066 IN proxy stats: conn { "type": "http", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:26:17.067 stats: OUT conn { "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:26:17.112 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:17.112 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:17.224 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:17.225 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:17.499 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:17.499 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:17.499 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 17:26:17.499 stats: OUT message { "from": "handler_15", "channel": "test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e", "transport": "http-response", "count": 1 }
[INFO] 2025-04-15 17:26:17.500 publish channel=test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e receivers=1
[DEBUG] 2025-04-15 17:26:17.500 zhttp server: OUT connmgr { "from": "handler_15", "seq": 3, "code": 200, "reason": "OK", "id": "1-0-3", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:26:17 GMT" ] ] } 113 "{\"channel\":\"test-channel-8ab2f30c-ced9-4ed6-b766-038d807ea45e\",\"message\":\"{message=Third Long-Polling message}\"}\n"
[DEBUG] 2025-04-15 17:26:17.500 httpsession: cleaning up connmgr:1-0-3
[DEBUG] 2025-04-15 17:26:17.500 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:26:18.018 IN proxy stats: conn { "type": "http", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:26:18.018 stats: OUT conn { "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:26:18.031 zrpc server: IN { "method": "inspect", "args": { "uri": "http://localhost:36547/api/long-polling/test-channel-1c6ff6bc-d5e3-4bd2-8d19-340c750edf4f", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36547" ], [ "accept", "*/*" ] ] }, "id": "71147b9e-d712-4aab-88a5-56a6474a28fc" }
[DEBUG] 2025-04-15 17:26:18.033 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "71147b9e-d712-4aab-88a5-56a6474a28fc" }
[DEBUG] 2025-04-15 17:26:18.093 zrpc server: IN { "from": "proxy_14", "method": "accept", "args": { "requests": [ { "peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "1-0-4" }, "out-seq": 2, "logical-peer-address": "192.168.127.1", "out-credits": 8192, "in-seq": 2 } ], "route": "*,*,*,*", "orig-request-data": { "uri": "http://localhost:36547/api/long-polling/test-channel-1c6ff6bc-d5e3-4bd2-8d19-340c750edf4f", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36547" ], [ "accept", "*/*" ] ] }, "trusted": true, "inspect": { "no-proxy": false }, "response": { "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-1c6ff6bc-d5e3-4bd2-8d19-340c750edf4f\"}", "code": 200, "reason": "", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-1c6ff6bc-d5e3-4bd2-8d19-340c750edf4f" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:18 GMT" ] ] }, "request-data": { "uri": "http://localhost:36547/api/long-polling/test-channel-1c6ff6bc-d5e3-4bd2-8d19-340c750edf4f", "body": "", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36547" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE1NzgsImlzcyI6InB1c2hwaW4ifQ.pmx2sU2_Dt8xoyte0u_eCb-op-zQpiDWVAmMIq8W7FY" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] } }, "id": "c3214c02-b19a-4478-aa6d-56deef517841" }
[DEBUG] 2025-04-15 17:26:18.094 zrpc server: OUT { "value": { "accepted": true }, "success": true, "id": "c3214c02-b19a-4478-aa6d-56deef517841" }
[DEBUG] 2025-04-15 17:26:18.095 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:18.095 zhttp server: OUT connmgr { "type": "keep-alive", "from": "handler_15", "ext": { "multi": true }, "seq": 2, "id": "1-0-4" }
[DEBUG] 2025-04-15 17:26:18.096 adding response hold on test-channel-1c6ff6bc-d5e3-4bd2-8d19-340c750edf4f
[DEBUG] 2025-04-15 17:26:18.096 stats: OUT sub { "from": "handler_15", "ttl": 60, "channel": "test-channel-1c6ff6bc-d5e3-4bd2-8d19-340c750edf4f", "subscribers": 1, "mode": "response" }
[DEBUG] 2025-04-15 17:26:18.097 SUB socket subscribe: test-channel-1c6ff6bc-d5e3-4bd2-8d19-340c750edf4f
[INFO] 2025-04-15 17:26:18.097 subscribe http://localhost:36547/api/long-polling/test-channel-1c6ff6bc-d5e3-4bd2-8d19-340c750edf4f channel=test-channel-1c6ff6bc-d5e3-4bd2-8d19-340c750edf4f
[DEBUG] 2025-04-15 17:26:18.112 IN proxy stats: conn { "type": "http", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:26:18.112 stats: OUT conn { "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:26:18.126 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:18.127 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:18.243 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:18.243 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:18.517 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:18.518 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:18.518 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 17:26:18.518 stats: OUT message { "from": "handler_15", "channel": "test-channel-1c6ff6bc-d5e3-4bd2-8d19-340c750edf4f", "transport": "http-response", "count": 1 }
[INFO] 2025-04-15 17:26:18.519 publish channel=test-channel-1c6ff6bc-d5e3-4bd2-8d19-340c750edf4f receivers=1
[DEBUG] 2025-04-15 17:26:18.520 zhttp server: OUT connmgr { "from": "handler_15", "seq": 3, "code": 200, "reason": "OK", "id": "1-0-4", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:26:18 GMT" ] ] } 126 "{\"channel\":\"test-channel-1c6ff6bc-d5e3-4bd2-8d19-340c750edf4f\",\"message\":\"{message={message=Hello from Long-Polling test!}}\"}\n"
[DEBUG] 2025-04-15 17:26:18.521 httpsession: cleaning up connmgr:1-0-4
[DEBUG] 2025-04-15 17:26:18.522 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:26:18.716 starting...
[DEBUG] 2025-04-15 17:26:18.717 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:26:18.717 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:26:18.718 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:26:18.718 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:26:18.718 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:26:18.720 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:26:18.720 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:26:18.721 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:26:18.721 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:26:18.721 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:26:18.721 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:26:18.722 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:26:18.722 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:26:18.722 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:26:18.722 started
[DEBUG] 2025-04-15 17:26:18.932 IN proxy stats: conn { "from": "proxy_14", "peer-address": "192.168.127.1", "id": "connmgr:1-0-0", "ttl": 120, "type": "http" }
[DEBUG] 2025-04-15 17:26:18.932 stats: OUT conn { "from": "handler_15", "peer-address": "192.168.127.1", "id": "connmgr:1-0-0", "type": "http", "ttl": 120 }
[DEBUG] 2025-04-15 17:26:18.943 zrpc server: IN { "id": "82592073-4205-4b2a-9c38-da191e6b49fc", "args": { "body": "", "uri": "http://localhost:39103/api/health/check", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:39103" ], [ "accept", "*/*" ] ], "method": "GET" }, "method": "inspect" }
[DEBUG] 2025-04-15 17:26:18.943 zrpc server: OUT { "id": "82592073-4205-4b2a-9c38-da191e6b49fc", "success": true, "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 17:26:18.947 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:18.947 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 17:26:18.947 publish channel=test-channel-bd1246fd-da73-4b9d-b182-3e1de3347490 receivers=0
[DEBUG] 2025-04-15 17:26:18.974 IN proxy stats: conn { "from": "proxy_14", "id": "connmgr:1-0-0", "unavailable": true }
[DEBUG] 2025-04-15 17:26:18.974 stats: OUT conn { "from": "handler_15", "id": "connmgr:1-0-0", "unavailable": true }
[DEBUG] 2025-04-15 17:26:18.978 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:18.978 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 17:26:18.978 publish channel=test-channel-191c9c3b-01ea-4948-835e-6a8583f7c505 receivers=0
[DEBUG] 2025-04-15 17:26:18.989 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:18.989 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 17:26:18.989 publish channel=test-channel-25551a2e-af1d-4d27-b62c-581505bea905 receivers=0
[DEBUG] 2025-04-15 17:26:19.184 starting...
[DEBUG] 2025-04-15 17:26:19.185 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:26:19.185 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:26:19.186 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:26:19.187 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:26:19.187 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:26:19.188 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:26:19.188 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:26:19.188 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:26:19.188 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:26:19.189 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:26:19.190 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:26:19.190 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:26:19.190 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:26:19.191 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:26:19.191 started
[DEBUG] 2025-04-15 17:26:19.390 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-0", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:19.390 stats: OUT conn { "id": "connmgr:1-0-0", "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:19.396 IN proxy stats: conn { "type": "http", "id": "connmgr:0-0-1", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:19.397 stats: OUT conn { "id": "connmgr:0-0-1", "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:19.397 zrpc server: IN { "args": { "uri": "http://localhost:33039/api/health/check", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33039" ], [ "accept", "*/*" ] ], "body": "" }, "id": "4b2d2150-723a-4df6-9460-50ad38a7053f", "method": "inspect" }
[DEBUG] 2025-04-15 17:26:19.397 zrpc server: OUT { "success": true, "id": "4b2d2150-723a-4df6-9460-50ad38a7053f", "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 17:26:19.397 zrpc server: IN { "args": { "uri": "http://localhost:33039/api/events/test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33039" ], [ "accept", "*/*" ] ], "body": "" }, "id": "87ee1ffb-b402-434b-9787-7c32799e9128", "method": "inspect" }
[DEBUG] 2025-04-15 17:26:19.398 zrpc server: OUT { "success": true, "id": "87ee1ffb-b402-434b-9787-7c32799e9128", "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 17:26:19.434 IN proxy stats: conn { "unavailable": true, "id": "connmgr:1-0-0", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:19.434 stats: OUT conn { "unavailable": true, "id": "connmgr:1-0-0", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:19.449 zrpc server: IN { "args": { "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872" ], [ "Content-Type", "text/event-stream" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:19 GMT" ] ], "reason": "", "body": "data:Successfully subscribed to channel: test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872\n\n", "code": 200 }, "route": "*,*,*,*", "orig-request-data": { "uri": "http://localhost:33039/api/events/test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33039" ], [ "accept", "*/*" ] ], "body": "" }, "requests": [ { "out-seq": 2, "in-seq": 2, "logical-peer-address": "192.168.127.1", "peer-address": "192.168.127.1", "out-credits": 8192, "rid": { "id": "0-0-1", "sender": "connmgr" } } ], "trusted": true, "inspect": { "no-proxy": false }, "request-data": { "uri": "http://localhost:33039/api/events/test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33039" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE1NzksImlzcyI6InB1c2hwaW4ifQ._OLfj1NrzbSICFvRFoqShyvLCWoqT1_WnlAqWoo5E94" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "body": "" } }, "id": "05b5c944-c278-40b9-83e6-a8263ca037c3", "from": "proxy_14", "method": "accept" }
[DEBUG] 2025-04-15 17:26:19.449 zrpc server: OUT { "success": true, "id": "05b5c944-c278-40b9-83e6-a8263ca037c3", "value": { "accepted": true } }
[DEBUG] 2025-04-15 17:26:19.449 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:19.449 zhttp server: OUT connmgr { "id": "0-0-1", "type": "keep-alive", "from": "handler_15", "ext": { "multi": true }, "seq": 2 }
[DEBUG] 2025-04-15 17:26:19.450 adding stream hold on test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872
[DEBUG] 2025-04-15 17:26:19.450 stats: OUT sub { "mode": "stream", "from": "handler_15", "ttl": 60, "subscribers": 1, "channel": "test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872" }
[DEBUG] 2025-04-15 17:26:19.450 SUB socket subscribe: test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872
[INFO] 2025-04-15 17:26:19.450 subscribe http://localhost:33039/api/events/test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872 channel=test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872
[DEBUG] 2025-04-15 17:26:19.451 zhttp server: OUT connmgr { "id": "0-0-1", "from": "handler_15", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Date", "Tue, 15 Apr 2025 17:26:19 GMT" ] ], "reason": "OK", "more": true, "seq": 3, "code": 200 } 92 "data:Successfully subscribed to channel: test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872\n\n"
[DEBUG] 2025-04-15 17:26:19.452 zhttp/zws server: IN stream { "id": "0-0-1", "type": "credit", "from": "connmgr", "ext": { "multi": true }, "credits": 92, "seq": 2 }
[DEBUG] 2025-04-15 17:26:19.453 zhttp server: OUT connmgr { "id": "0-0-1", "type": "keep-alive", "from": "handler_15", "seq": 4 }
[DEBUG] 2025-04-15 17:26:19.464 IN proxy stats: conn { "type": "http", "id": "connmgr:0-0-1", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:19.464 stats: OUT conn { "id": "connmgr:0-0-1", "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:19.510 IN proxy stats: activity { "from": "proxy_14", "count": 2 }
[DEBUG] 2025-04-15 17:26:19.510 IN proxy stats: counts { "from": "proxy_14", "requests-received": 2 }
[DEBUG] 2025-04-15 17:26:19.619 stats: OUT activity { "from": "handler_15", "count": 2 }
[DEBUG] 2025-04-15 17:26:19.621 stats: OUT counts { "from": "handler_15", "requests-received": 2 }
[DEBUG] 2025-04-15 17:26:20.198 stats: OUT conn { "id": "connmgr:0-0-1", "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:20.199 stats: OUT sub { "mode": "stream", "from": "handler_15", "ttl": 60, "subscribers": 1, "channel": "test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872" }
[DEBUG] 2025-04-15 17:26:20.409 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:20.409 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:20.409 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:20.410 stats: OUT message { "from": "handler_15", "count": 1, "transport": "http-stream", "channel": "test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872" }
[INFO] 2025-04-15 17:26:20.410 publish channel=test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872 receivers=1
[DEBUG] 2025-04-15 17:26:20.411 zhttp server: OUT connmgr { "id": "0-0-1", "from": "handler_15", "more": true, "seq": 5 } 57 "event: custom-event\ndata: Hello with custom event type!\n\n"
[DEBUG] 2025-04-15 17:26:20.413 zhttp/zws server: IN stream { "id": "0-0-1", "type": "credit", "from": "connmgr", "ext": { "multi": true }, "credits": 57, "seq": 3 }
[DEBUG] 2025-04-15 17:26:20.414 zhttp/zws server: IN stream { "id": "0-0-1", "type": "cancel", "from": "connmgr", "ext": { "multi": true }, "seq": 4 }
[DEBUG] 2025-04-15 17:26:20.415 zhttp server: received cancel id=0-0-1
[DEBUG] 2025-04-15 17:26:20.415 httpsession: cleaning up connmgr:0-0-1
[DEBUG] 2025-04-15 17:26:20.415 stats: OUT sub { "mode": "stream", "unavailable": true, "from": "handler_15", "channel": "test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872" }
[DEBUG] 2025-04-15 17:26:20.416 SUB socket unsubscribe: test-channel-9d7e7f6f-cb48-4996-b734-059c608d1872
[DEBUG] 2025-04-15 17:26:20.416 stats: OUT conn { "unavailable": true, "id": "connmgr:0-0-1", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:20.420 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-1", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:20.421 stats: OUT conn { "id": "connmgr:1-0-1", "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:20.434 zrpc server: IN { "args": { "uri": "http://localhost:33039/api/events/test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33039" ], [ "accept", "*/*" ] ], "body": "" }, "id": "ec26b873-ec51-4e80-b77c-2502beace6b2", "method": "inspect" }
[DEBUG] 2025-04-15 17:26:20.434 zrpc server: OUT { "success": true, "id": "ec26b873-ec51-4e80-b77c-2502beace6b2", "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 17:26:20.490 zrpc server: IN { "args": { "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:20 GMT" ] ], "reason": "", "body": "data:Successfully subscribed to channel: test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c\n\n", "code": 200 }, "route": "*,*,*,*", "orig-request-data": { "uri": "http://localhost:33039/api/events/test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33039" ], [ "accept", "*/*" ] ], "body": "" }, "requests": [ { "out-seq": 2, "in-seq": 2, "logical-peer-address": "192.168.127.1", "peer-address": "192.168.127.1", "out-credits": 8192, "rid": { "id": "1-0-1", "sender": "connmgr" } } ], "trusted": true, "inspect": { "no-proxy": false }, "request-data": { "uri": "http://localhost:33039/api/events/test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33039" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE1ODAsImlzcyI6InB1c2hwaW4ifQ.sWFgG3ACSwdPsvoLbPXx4zjYkYePBH84CkeFyUONqP8" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "body": "" } }, "id": "bf53d948-4b04-4952-a05d-65dcad0aafd5", "from": "proxy_14", "method": "accept" }
[DEBUG] 2025-04-15 17:26:20.491 zrpc server: OUT { "success": true, "id": "bf53d948-4b04-4952-a05d-65dcad0aafd5", "value": { "accepted": true } }
[DEBUG] 2025-04-15 17:26:20.491 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:20.491 zhttp server: OUT connmgr { "id": "1-0-1", "type": "keep-alive", "from": "handler_15", "ext": { "multi": true }, "seq": 2 }
[DEBUG] 2025-04-15 17:26:20.492 adding stream hold on test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c
[DEBUG] 2025-04-15 17:26:20.492 stats: OUT sub { "mode": "stream", "from": "handler_15", "ttl": 60, "subscribers": 1, "channel": "test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c" }
[DEBUG] 2025-04-15 17:26:20.493 SUB socket subscribe: test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c
[INFO] 2025-04-15 17:26:20.493 subscribe http://localhost:33039/api/events/test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c channel=test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c
[DEBUG] 2025-04-15 17:26:20.493 zhttp server: OUT connmgr { "id": "1-0-1", "from": "handler_15", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Date", "Tue, 15 Apr 2025 17:26:20 GMT" ] ], "reason": "OK", "more": true, "seq": 3, "code": 200 } 92 "data:Successfully subscribed to channel: test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c\n\n"
[DEBUG] 2025-04-15 17:26:20.496 zhttp/zws server: IN stream { "id": "1-0-1", "type": "credit", "from": "connmgr", "ext": { "multi": true }, "credits": 92, "seq": 2 }
[DEBUG] 2025-04-15 17:26:20.496 zhttp server: OUT connmgr { "id": "1-0-1", "type": "keep-alive", "from": "handler_15", "seq": 4 }
[DEBUG] 2025-04-15 17:26:20.498 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-1", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:20.498 stats: OUT conn { "id": "connmgr:1-0-1", "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:20.533 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:20.533 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:20.645 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:20.646 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:21.430 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:21.430 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:21.431 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:21.431 stats: OUT message { "from": "handler_15", "count": 1, "transport": "http-stream", "channel": "test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c" }
[INFO] 2025-04-15 17:26:21.431 publish channel=test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c receivers=1
[DEBUG] 2025-04-15 17:26:21.432 zhttp server: OUT connmgr { "id": "1-0-1", "from": "handler_15", "more": true, "seq": 5 } 28 "data: Hello from SSE test!\n\n"
[DEBUG] 2025-04-15 17:26:21.435 zhttp/zws server: IN stream { "id": "1-0-1", "type": "credit", "from": "connmgr", "ext": { "multi": true }, "credits": 28, "seq": 3 }
[DEBUG] 2025-04-15 17:26:21.437 zhttp/zws server: IN stream { "id": "1-0-1", "type": "cancel", "from": "connmgr", "ext": { "multi": true }, "seq": 4 }
[DEBUG] 2025-04-15 17:26:21.438 zhttp server: received cancel id=1-0-1
[DEBUG] 2025-04-15 17:26:21.438 httpsession: cleaning up connmgr:1-0-1
[DEBUG] 2025-04-15 17:26:21.438 stats: OUT sub { "mode": "stream", "unavailable": true, "from": "handler_15", "channel": "test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c" }
[DEBUG] 2025-04-15 17:26:21.439 SUB socket unsubscribe: test-channel-e0aa204f-762d-499e-bdb9-bf28afe52d7c
[DEBUG] 2025-04-15 17:26:21.439 stats: OUT conn { "unavailable": true, "id": "connmgr:1-0-1", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:21.448 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-2", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:21.449 stats: OUT conn { "id": "connmgr:1-0-2", "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:21.461 zrpc server: IN { "args": { "uri": "http://localhost:33039/api/events/test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33039" ], [ "accept", "*/*" ] ], "body": "" }, "id": "fda23b74-9103-44db-96dd-d49d6e2c3bd5", "method": "inspect" }
[DEBUG] 2025-04-15 17:26:21.462 zrpc server: OUT { "success": true, "id": "fda23b74-9103-44db-96dd-d49d6e2c3bd5", "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 17:26:21.524 zrpc server: IN { "args": { "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:21 GMT" ] ], "reason": "", "body": "data:Successfully subscribed to channel: test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792\n\n", "code": 200 }, "route": "*,*,*,*", "orig-request-data": { "uri": "http://localhost:33039/api/events/test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33039" ], [ "accept", "*/*" ] ], "body": "" }, "requests": [ { "out-seq": 2, "in-seq": 2, "logical-peer-address": "192.168.127.1", "peer-address": "192.168.127.1", "out-credits": 8192, "rid": { "id": "1-0-2", "sender": "connmgr" } } ], "trusted": true, "inspect": { "no-proxy": false }, "request-data": { "uri": "http://localhost:33039/api/events/test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33039" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE1ODEsImlzcyI6InB1c2hwaW4ifQ.XJYL7iKE96ws_b9fBCjgKpaoXquDM_qKIJMJZ_SUaOA" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "body": "" } }, "id": "5d70f6b7-691e-479a-80a4-89a2003e5e8f", "from": "proxy_14", "method": "accept" }
[DEBUG] 2025-04-15 17:26:21.525 zrpc server: OUT { "success": true, "id": "5d70f6b7-691e-479a-80a4-89a2003e5e8f", "value": { "accepted": true } }
[DEBUG] 2025-04-15 17:26:21.526 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:21.526 zhttp server: OUT connmgr { "id": "1-0-2", "type": "keep-alive", "from": "handler_15", "ext": { "multi": true }, "seq": 2 }
[DEBUG] 2025-04-15 17:26:21.526 adding stream hold on test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792
[DEBUG] 2025-04-15 17:26:21.530 stats: OUT sub { "mode": "stream", "from": "handler_15", "ttl": 60, "subscribers": 1, "channel": "test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792" }
[DEBUG] 2025-04-15 17:26:21.530 SUB socket subscribe: test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792
[INFO] 2025-04-15 17:26:21.531 subscribe http://localhost:33039/api/events/test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792 channel=test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792
[DEBUG] 2025-04-15 17:26:21.531 zhttp server: OUT connmgr { "id": "1-0-2", "from": "handler_15", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Date", "Tue, 15 Apr 2025 17:26:21 GMT" ] ], "reason": "OK", "more": true, "seq": 3, "code": 200 } 92 "data:Successfully subscribed to channel: test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792\n\n"
[DEBUG] 2025-04-15 17:26:21.534 zhttp/zws server: IN stream { "id": "1-0-2", "type": "credit", "from": "connmgr", "ext": { "multi": true }, "credits": 92, "seq": 2 }
[DEBUG] 2025-04-15 17:26:21.535 zhttp server: OUT connmgr { "id": "1-0-2", "type": "keep-alive", "from": "handler_15", "seq": 4 }
[DEBUG] 2025-04-15 17:26:21.537 IN proxy stats: conn { "type": "http", "id": "connmgr:1-0-2", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:21.537 stats: OUT conn { "id": "connmgr:1-0-2", "type": "http", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:21.559 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:21.559 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:21.674 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:21.675 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:22.451 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:22.453 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:22.453 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:22.454 stats: OUT message { "from": "handler_15", "count": 1, "transport": "http-stream", "channel": "test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792" }
[INFO] 2025-04-15 17:26:22.454 publish channel=test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792 receivers=1
[DEBUG] 2025-04-15 17:26:22.455 zhttp server: OUT connmgr { "id": "1-0-2", "from": "handler_15", "more": true, "seq": 5 } 25 "data: First SSE message\n\n"
[DEBUG] 2025-04-15 17:26:22.458 zhttp/zws server: IN stream { "id": "1-0-2", "type": "credit", "from": "connmgr", "ext": { "multi": true }, "credits": 25, "seq": 3 }
[DEBUG] 2025-04-15 17:26:22.461 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:22.462 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:22.462 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:22.462 stats: OUT message { "from": "handler_15", "count": 1, "transport": "http-stream", "channel": "test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792" }
[INFO] 2025-04-15 17:26:22.463 publish channel=test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792 receivers=1
[DEBUG] 2025-04-15 17:26:22.469 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:22.469 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:22.470 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:22.470 stats: OUT message { "from": "handler_15", "count": 1, "transport": "http-stream", "channel": "test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792" }
[INFO] 2025-04-15 17:26:22.470 publish channel=test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792 receivers=1
[DEBUG] 2025-04-15 17:26:22.494 zhttp server: OUT connmgr { "id": "1-0-2", "from": "handler_15", "more": true, "seq": 6 } 51 "data: Second SSE message\n\ndata: Third SSE message\n\n"
[DEBUG] 2025-04-15 17:26:22.496 zhttp/zws server: IN stream { "id": "1-0-2", "type": "credit", "from": "connmgr", "ext": { "multi": true }, "credits": 51, "seq": 4 }
[DEBUG] 2025-04-15 17:26:22.497 zhttp/zws server: IN stream { "id": "1-0-2", "type": "cancel", "from": "connmgr", "ext": { "multi": true }, "seq": 5 }
[DEBUG] 2025-04-15 17:26:22.497 zhttp server: received cancel id=1-0-2
[DEBUG] 2025-04-15 17:26:22.497 httpsession: cleaning up connmgr:1-0-2
[DEBUG] 2025-04-15 17:26:22.497 stats: OUT sub { "mode": "stream", "unavailable": true, "from": "handler_15", "channel": "test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792" }
[DEBUG] 2025-04-15 17:26:22.497 SUB socket unsubscribe: test-channel-f3c6f4ec-b504-49a2-ba25-caec7d5fa792
[DEBUG] 2025-04-15 17:26:22.498 stats: OUT conn { "unavailable": true, "id": "connmgr:1-0-2", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:22.773 starting...
[DEBUG] 2025-04-15 17:26:22.774 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:26:22.775 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:26:22.775 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:26:22.776 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:26:22.776 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:26:22.776 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:26:22.776 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:26:22.776 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:26:22.777 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:26:22.777 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:26:22.777 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:26:22.777 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:26:22.777 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:26:22.777 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:26:22.778 started
[DEBUG] 2025-04-15 17:26:22.980 IN proxy stats: conn { "type": "http", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120, "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:26:22.980 stats: OUT conn { "type": "http", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120, "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:26:22.991 zrpc server: IN { "method": "inspect", "args": { "uri": "http://localhost:36803/api/health/check", "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:36803" ], [ "accept", "*/*" ] ] }, "id": "27214884-75d5-4314-9663-87dc058c6076" }
[DEBUG] 2025-04-15 17:26:22.991 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "27214884-75d5-4314-9663-87dc058c6076" }
[DEBUG] 2025-04-15 17:26:23.000 IN proxy stats: conn { "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120, "id": "ce019dae-5528-4198-8015-daacddbe62a7" }
[DEBUG] 2025-04-15 17:26:23.000 stats: OUT conn { "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120, "id": "ce019dae-5528-4198-8015-daacddbe62a7" }
[DEBUG] 2025-04-15 17:26:23.022 IN proxy stats: conn { "from": "proxy_14", "unavailable": true, "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:26:23.022 stats: OUT conn { "from": "handler_15", "unavailable": true, "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:26:23.037 IN wscontrol: { "items": [ { "type": "here", "route": "*,*,*,*", "cid": "ce019dae-5528-4198-8015-daacddbe62a7", "uri": "ws://localhost:36803/api/ws/test-channel-00b688ba-ef88-4cdc-95df-454242fadb7f", "req-id": "0", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:23.037 added ws session: ce019dae-5528-4198-8015-daacddbe62a7
[DEBUG] 2025-04-15 17:26:23.037 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "ce019dae-5528-4198-8015-daacddbe62a7", "req-id": "0" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.060 IN wscontrol: { "items": [ { "type": "grip", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-00b688ba-ef88-4cdc-95df-454242fadb7f\"}", "cid": "ce019dae-5528-4198-8015-daacddbe62a7", "req-id": "1" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:23.060 ws session ce019dae-5528-4198-8015-daacddbe62a7 subscribed to test-channel-00b688ba-ef88-4cdc-95df-454242fadb7f
[DEBUG] 2025-04-15 17:26:23.060 stats: OUT sub { "mode": "ws", "subscribers": 1, "from": "handler_15", "channel": "test-channel-00b688ba-ef88-4cdc-95df-454242fadb7f", "ttl": 60 }
[DEBUG] 2025-04-15 17:26:23.060 SUB socket subscribe: test-channel-00b688ba-ef88-4cdc-95df-454242fadb7f
[INFO] 2025-04-15 17:26:23.060 subscribe ws://localhost:36803/api/ws/test-channel-00b688ba-ef88-4cdc-95df-454242fadb7f channel=test-channel-00b688ba-ef88-4cdc-95df-454242fadb7f
[DEBUG] 2025-04-15 17:26:23.061 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "ce019dae-5528-4198-8015-daacddbe62a7", "req-id": "1" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.061 IN wscontrol: { "items": [ { "type": "grip", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}", "cid": "ce019dae-5528-4198-8015-daacddbe62a7", "req-id": "2" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:23.061 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "ce019dae-5528-4198-8015-daacddbe62a7", "req-id": "2" }, { "type": "keep-alive-setup", "cid": "ce019dae-5528-4198-8015-daacddbe62a7", "timeout": 30, "keep-alive-mode": "idle" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.085 IN proxy stats: activity { "from": "proxy_14", "count": 2 }
[DEBUG] 2025-04-15 17:26:23.085 IN proxy stats: counts { "requests-received": 2, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:23.194 stats: OUT activity { "from": "handler_15", "count": 2 }
[DEBUG] 2025-04-15 17:26:23.194 stats: OUT counts { "requests-received": 2, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.299 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:23.300 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:23.300 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:26:23.301 stats: OUT message { "from": "handler_15", "channel": "test-channel-00b688ba-ef88-4cdc-95df-454242fadb7f", "transport": "ws-message", "count": 1 }
[INFO] 2025-04-15 17:26:23.301 publish channel=test-channel-00b688ba-ef88-4cdc-95df-454242fadb7f receivers=1
[DEBUG] 2025-04-15 17:26:23.302 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "message": "{\"channel\":\"test-channel-00b688ba-ef88-4cdc-95df-454242fadb7f\",\"data\":\"{\\\"type\\\":\\\"binary\\\",\\\"data\\\":\\\"AAECAwQFBgcICQ==\\\"}\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "cid": "ce019dae-5528-4198-8015-daacddbe62a7", "content-type": "text" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.342 IN proxy stats: conn { "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120, "id": "174540cd-a63b-4102-ac00-b5379d562634" }
[DEBUG] 2025-04-15 17:26:23.343 stats: OUT conn { "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120, "id": "174540cd-a63b-4102-ac00-b5379d562634" }
[DEBUG] 2025-04-15 17:26:23.414 IN wscontrol: { "items": [ { "type": "here", "route": "*,*,*,*", "cid": "174540cd-a63b-4102-ac00-b5379d562634", "uri": "ws://localhost:36803/api/ws/test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc", "req-id": "0", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:23.415 added ws session: 174540cd-a63b-4102-ac00-b5379d562634
[DEBUG] 2025-04-15 17:26:23.415 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "174540cd-a63b-4102-ac00-b5379d562634", "req-id": "0" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.441 IN wscontrol: { "items": [ { "type": "grip", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc\"}", "cid": "174540cd-a63b-4102-ac00-b5379d562634", "req-id": "1" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:23.441 ws session 174540cd-a63b-4102-ac00-b5379d562634 subscribed to test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc
[DEBUG] 2025-04-15 17:26:23.442 stats: OUT sub { "mode": "ws", "subscribers": 1, "from": "handler_15", "channel": "test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc", "ttl": 60 }
[DEBUG] 2025-04-15 17:26:23.445 SUB socket subscribe: test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc
[INFO] 2025-04-15 17:26:23.445 subscribe ws://localhost:36803/api/ws/test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc channel=test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc
[DEBUG] 2025-04-15 17:26:23.445 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "174540cd-a63b-4102-ac00-b5379d562634", "req-id": "1" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.446 IN wscontrol: { "items": [ { "type": "grip", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}", "cid": "174540cd-a63b-4102-ac00-b5379d562634", "req-id": "2" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:23.446 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "174540cd-a63b-4102-ac00-b5379d562634", "req-id": "2" }, { "type": "keep-alive-setup", "cid": "174540cd-a63b-4102-ac00-b5379d562634", "timeout": 30, "keep-alive-mode": "idle" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.461 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:23.461 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:23.572 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:23.573 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.629 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:23.630 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:23.630 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:26:23.631 stats: OUT message { "from": "handler_15", "channel": "test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc", "transport": "ws-message", "count": 1 }
[INFO] 2025-04-15 17:26:23.631 publish channel=test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc receivers=1
[DEBUG] 2025-04-15 17:26:23.632 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "message": "{\"channel\":\"test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc\",\"data\":\"First WebSocket message\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "cid": "174540cd-a63b-4102-ac00-b5379d562634", "content-type": "text" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.645 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:23.645 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:23.646 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:26:23.646 stats: OUT message { "from": "handler_15", "channel": "test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc", "transport": "ws-message", "count": 1 }
[INFO] 2025-04-15 17:26:23.646 publish channel=test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc receivers=1
[DEBUG] 2025-04-15 17:26:23.654 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:23.655 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:23.655 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:26:23.656 stats: OUT message { "from": "handler_15", "channel": "test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc", "transport": "ws-message", "count": 1 }
[INFO] 2025-04-15 17:26:23.656 publish channel=test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc receivers=1
[DEBUG] 2025-04-15 17:26:23.679 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "message": "{\"channel\":\"test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc\",\"data\":\"Second WebSocket message\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "cid": "174540cd-a63b-4102-ac00-b5379d562634", "content-type": "text" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.680 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "message": "{\"channel\":\"test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc\",\"data\":\"Third WebSocket message\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "cid": "174540cd-a63b-4102-ac00-b5379d562634", "content-type": "text" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.722 IN proxy stats: conn { "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120, "id": "12de2d52-cba6-47d4-95c8-381a2336b543" }
[DEBUG] 2025-04-15 17:26:23.722 stats: OUT conn { "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120, "id": "12de2d52-cba6-47d4-95c8-381a2336b543" }
[DEBUG] 2025-04-15 17:26:23.788 IN proxy stats: conn { "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120, "id": "174540cd-a63b-4102-ac00-b5379d562634" }
[DEBUG] 2025-04-15 17:26:23.788 stats: OUT conn { "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120, "id": "174540cd-a63b-4102-ac00-b5379d562634" }
[DEBUG] 2025-04-15 17:26:23.789 stats: OUT sub { "mode": "ws", "subscribers": 1, "from": "handler_15", "channel": "test-channel-00b688ba-ef88-4cdc-95df-454242fadb7f", "ttl": 60 }
[DEBUG] 2025-04-15 17:26:23.795 IN wscontrol: { "items": [ { "type": "here", "route": "*,*,*,*", "cid": "12de2d52-cba6-47d4-95c8-381a2336b543", "uri": "ws://localhost:36803/api/ws/test-channel-63222a56-eb2f-464b-b4b7-975bb9557608", "req-id": "0", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:23.795 added ws session: 12de2d52-cba6-47d4-95c8-381a2336b543
[DEBUG] 2025-04-15 17:26:23.796 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "12de2d52-cba6-47d4-95c8-381a2336b543", "req-id": "0" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.822 IN wscontrol: { "items": [ { "type": "grip", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-63222a56-eb2f-464b-b4b7-975bb9557608\"}", "cid": "12de2d52-cba6-47d4-95c8-381a2336b543", "req-id": "1" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:23.823 ws session 12de2d52-cba6-47d4-95c8-381a2336b543 subscribed to test-channel-63222a56-eb2f-464b-b4b7-975bb9557608
[DEBUG] 2025-04-15 17:26:23.823 stats: OUT sub { "mode": "ws", "subscribers": 1, "from": "handler_15", "channel": "test-channel-63222a56-eb2f-464b-b4b7-975bb9557608", "ttl": 60 }
[DEBUG] 2025-04-15 17:26:23.823 SUB socket subscribe: test-channel-63222a56-eb2f-464b-b4b7-975bb9557608
[INFO] 2025-04-15 17:26:23.824 subscribe ws://localhost:36803/api/ws/test-channel-63222a56-eb2f-464b-b4b7-975bb9557608 channel=test-channel-63222a56-eb2f-464b-b4b7-975bb9557608
[DEBUG] 2025-04-15 17:26:23.824 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "12de2d52-cba6-47d4-95c8-381a2336b543", "req-id": "1" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.824 IN wscontrol: { "items": [ { "type": "grip", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}", "cid": "12de2d52-cba6-47d4-95c8-381a2336b543", "req-id": "2" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:23.825 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "12de2d52-cba6-47d4-95c8-381a2336b543", "req-id": "2" }, { "type": "keep-alive-setup", "cid": "12de2d52-cba6-47d4-95c8-381a2336b543", "timeout": 30, "keep-alive-mode": "idle" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:23.836 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:23.837 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:23.946 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:23.947 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:24.051 IN wscontrol: { "items": [ { "type": "keep-alive", "cid": "ce019dae-5528-4198-8015-daacddbe62a7", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:24.805 stats: OUT sub { "mode": "ws", "subscribers": 1, "from": "handler_15", "channel": "test-channel-9c37a4ec-6f26-4fb5-a7c7-a15397d0a0dc", "ttl": 60 }
[DEBUG] 2025-04-15 17:26:24.807 IN proxy stats: conn { "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120, "id": "ce019dae-5528-4198-8015-daacddbe62a7" }
[DEBUG] 2025-04-15 17:26:24.807 stats: OUT conn { "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120, "id": "ce019dae-5528-4198-8015-daacddbe62a7" }
[DEBUG] 2025-04-15 17:26:25.067 IN wscontrol: { "items": [ { "type": "keep-alive", "cid": "174540cd-a63b-4102-ac00-b5379d562634", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:25.821 stats: OUT sub { "mode": "ws", "subscribers": 1, "from": "handler_15", "channel": "test-channel-63222a56-eb2f-464b-b4b7-975bb9557608", "ttl": 60 }
[DEBUG] 2025-04-15 17:26:25.825 IN proxy stats: conn { "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120, "id": "12de2d52-cba6-47d4-95c8-381a2336b543" }
[DEBUG] 2025-04-15 17:26:25.826 stats: OUT conn { "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120, "id": "12de2d52-cba6-47d4-95c8-381a2336b543" }
[DEBUG] 2025-04-15 17:26:26.032 IN proxy stats: conn { "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120, "id": "0d287054-39a5-4f2b-bbae-8c4e47fbe782" }
[DEBUG] 2025-04-15 17:26:26.032 stats: OUT conn { "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120, "id": "0d287054-39a5-4f2b-bbae-8c4e47fbe782" }
[DEBUG] 2025-04-15 17:26:26.064 IN wscontrol: { "items": [ { "type": "keep-alive", "cid": "12de2d52-cba6-47d4-95c8-381a2336b543", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:26.104 IN wscontrol: { "items": [ { "type": "here", "route": "*,*,*,*", "cid": "0d287054-39a5-4f2b-bbae-8c4e47fbe782", "uri": "ws://localhost:36803/api/ws/test-channel-bcfacddd-cf53-4de9-9c82-3b481a980ee7", "req-id": "0", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:26.104 added ws session: 0d287054-39a5-4f2b-bbae-8c4e47fbe782
[DEBUG] 2025-04-15 17:26:26.104 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "0d287054-39a5-4f2b-bbae-8c4e47fbe782", "req-id": "0" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:26.129 IN wscontrol: { "items": [ { "type": "grip", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-bcfacddd-cf53-4de9-9c82-3b481a980ee7\"}", "cid": "0d287054-39a5-4f2b-bbae-8c4e47fbe782", "req-id": "1" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:26.129 ws session 0d287054-39a5-4f2b-bbae-8c4e47fbe782 subscribed to test-channel-bcfacddd-cf53-4de9-9c82-3b481a980ee7
[DEBUG] 2025-04-15 17:26:26.130 stats: OUT sub { "mode": "ws", "subscribers": 1, "from": "handler_15", "channel": "test-channel-bcfacddd-cf53-4de9-9c82-3b481a980ee7", "ttl": 60 }
[DEBUG] 2025-04-15 17:26:26.130 SUB socket subscribe: test-channel-bcfacddd-cf53-4de9-9c82-3b481a980ee7
[INFO] 2025-04-15 17:26:26.130 subscribe ws://localhost:36803/api/ws/test-channel-bcfacddd-cf53-4de9-9c82-3b481a980ee7 channel=test-channel-bcfacddd-cf53-4de9-9c82-3b481a980ee7
[DEBUG] 2025-04-15 17:26:26.131 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "0d287054-39a5-4f2b-bbae-8c4e47fbe782", "req-id": "1" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:26.131 IN wscontrol: { "items": [ { "type": "grip", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}", "cid": "0d287054-39a5-4f2b-bbae-8c4e47fbe782", "req-id": "2" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:26.131 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "0d287054-39a5-4f2b-bbae-8c4e47fbe782", "req-id": "2" }, { "type": "keep-alive-setup", "cid": "0d287054-39a5-4f2b-bbae-8c4e47fbe782", "timeout": 30, "keep-alive-mode": "idle" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:26.141 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:26.141 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:26.248 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:26.248 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:26.335 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:26.336 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:26.336 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:26:26.336 stats: OUT message { "from": "handler_15", "channel": "test-channel-bcfacddd-cf53-4de9-9c82-3b481a980ee7", "transport": "ws-message", "count": 1 }
[INFO] 2025-04-15 17:26:26.336 publish channel=test-channel-bcfacddd-cf53-4de9-9c82-3b481a980ee7 receivers=1
[DEBUG] 2025-04-15 17:26:26.337 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "message": "{\"channel\":\"test-channel-bcfacddd-cf53-4de9-9c82-3b481a980ee7\",\"data\":\"Hello from WebSocket test!\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "cid": "0d287054-39a5-4f2b-bbae-8c4e47fbe782", "content-type": "text" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:26.366 IN proxy stats: conn { "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1", "ttl": 120, "id": "840156ef-1d4f-4fc8-b848-c3846b7f66d5" }
[DEBUG] 2025-04-15 17:26:26.367 stats: OUT conn { "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1", "ttl": 120, "id": "840156ef-1d4f-4fc8-b848-c3846b7f66d5" }
[DEBUG] 2025-04-15 17:26:26.435 IN wscontrol: { "items": [ { "type": "here", "route": "*,*,*,*", "cid": "840156ef-1d4f-4fc8-b848-c3846b7f66d5", "uri": "ws://localhost:36803/api/ws/test-channel-03b7a9fc-6312-4a10-9e35-b0e52bb0bb97", "req-id": "0", "ttl": 60 } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:26.436 added ws session: 840156ef-1d4f-4fc8-b848-c3846b7f66d5
[DEBUG] 2025-04-15 17:26:26.436 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "840156ef-1d4f-4fc8-b848-c3846b7f66d5", "req-id": "0" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:26.464 IN wscontrol: { "items": [ { "type": "grip", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-03b7a9fc-6312-4a10-9e35-b0e52bb0bb97\"}", "cid": "840156ef-1d4f-4fc8-b848-c3846b7f66d5", "req-id": "1" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:26.464 ws session 840156ef-1d4f-4fc8-b848-c3846b7f66d5 subscribed to test-channel-03b7a9fc-6312-4a10-9e35-b0e52bb0bb97
[DEBUG] 2025-04-15 17:26:26.464 stats: OUT sub { "mode": "ws", "subscribers": 1, "from": "handler_15", "channel": "test-channel-03b7a9fc-6312-4a10-9e35-b0e52bb0bb97", "ttl": 60 }
[DEBUG] 2025-04-15 17:26:26.465 SUB socket subscribe: test-channel-03b7a9fc-6312-4a10-9e35-b0e52bb0bb97
[INFO] 2025-04-15 17:26:26.465 subscribe ws://localhost:36803/api/ws/test-channel-03b7a9fc-6312-4a10-9e35-b0e52bb0bb97 channel=test-channel-03b7a9fc-6312-4a10-9e35-b0e52bb0bb97
[DEBUG] 2025-04-15 17:26:26.465 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "840156ef-1d4f-4fc8-b848-c3846b7f66d5", "req-id": "1" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:26.466 IN wscontrol: { "items": [ { "type": "grip", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}", "cid": "840156ef-1d4f-4fc8-b848-c3846b7f66d5", "req-id": "2" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:26.466 OUT wscontrol: to=proxy_14 { "items": [ { "type": "ack", "cid": "840156ef-1d4f-4fc8-b848-c3846b7f66d5", "req-id": "2" }, { "type": "keep-alive-setup", "cid": "840156ef-1d4f-4fc8-b848-c3846b7f66d5", "timeout": 30, "keep-alive-mode": "idle" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:26.480 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:26.481 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:26.595 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:26.596 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:26.662 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:26.663 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:26.663 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:26:26.663 stats: OUT message { "from": "handler_15", "channel": "test-channel-03b7a9fc-6312-4a10-9e35-b0e52bb0bb97", "transport": "ws-message", "count": 1 }
[INFO] 2025-04-15 17:26:26.663 publish channel=test-channel-03b7a9fc-6312-4a10-9e35-b0e52bb0bb97 receivers=1
[DEBUG] 2025-04-15 17:26:26.664 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "message": "{\"channel\":\"test-channel-03b7a9fc-6312-4a10-9e35-b0e52bb0bb97\",\"event\":\"custom-event\",\"data\":\"Hello with custom event type!\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "cid": "840156ef-1d4f-4fc8-b848-c3846b7f66d5", "content-type": "text" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:41.417 starting...
[DEBUG] 2025-04-15 17:26:41.418 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:26:41.418 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:26:41.418 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:26:41.418 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:26:41.418 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:26:41.419 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:26:41.419 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:26:41.419 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:26:41.419 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:26:41.419 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:26:41.420 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:26:41.420 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:26:41.420 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:26:41.420 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:26:41.421 started
[DEBUG] 2025-04-15 17:26:41.892 IN proxy stats: conn { "id": "connmgr:0-0-1", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "type": "http" }
[DEBUG] 2025-04-15 17:26:41.893 stats: OUT conn { "id": "connmgr:0-0-1", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "type": "http" }
[DEBUG] 2025-04-15 17:26:41.894 IN proxy stats: conn { "id": "connmgr:1-0-0", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "type": "http" }
[DEBUG] 2025-04-15 17:26:41.895 stats: OUT conn { "id": "connmgr:1-0-0", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "type": "http" }
[DEBUG] 2025-04-15 17:26:41.906 zrpc server: IN { "id": "5cdc3dce-5db0-4573-94b0-f51dc72e59d7", "method": "inspect", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:42913" ], [ "accept", "*/*" ] ], "body": "", "method": "GET", "uri": "http://localhost:42913/api/http-response/test-channel-c5fa6a25-adea-4564-abae-8783a26f11a6" } }
[DEBUG] 2025-04-15 17:26:41.907 zrpc server: OUT { "id": "5cdc3dce-5db0-4573-94b0-f51dc72e59d7", "success": true, "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 17:26:41.908 zrpc server: IN { "id": "4e5c6ed3-d24f-4b7e-b616-437a92698efe", "method": "inspect", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:42913" ], [ "accept", "*/*" ] ], "body": "", "method": "GET", "uri": "http://localhost:42913/api/health/check" } }
[DEBUG] 2025-04-15 17:26:41.909 zrpc server: OUT { "id": "4e5c6ed3-d24f-4b7e-b616-437a92698efe", "success": true, "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 17:26:42.009 IN proxy stats: activity { "from": "proxy_14", "count": 2 }
[DEBUG] 2025-04-15 17:26:42.009 IN proxy stats: counts { "from": "proxy_14", "requests-received": 2 }
[DEBUG] 2025-04-15 17:26:42.033 IN proxy stats: conn { "id": "connmgr:1-0-0", "from": "proxy_14", "unavailable": true }
[DEBUG] 2025-04-15 17:26:42.033 stats: OUT conn { "id": "connmgr:1-0-0", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 17:26:42.048 zrpc server: IN { "id": "ef181765-a622-40b6-9afd-84a916935c99", "from": "proxy_14", "method": "accept", "args": { "orig-request-data": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:42913" ], [ "accept", "*/*" ] ], "body": "", "method": "GET", "uri": "http://localhost:42913/api/http-response/test-channel-c5fa6a25-adea-4564-abae-8783a26f11a6" }, "route": "*,*,*,*", "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Channel", "test-channel-c5fa6a25-adea-4564-abae-8783a26f11a6" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:42 GMT" ] ], "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-c5fa6a25-adea-4564-abae-8783a26f11a6\"}", "code": 200, "reason": "" }, "request-data": { "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:42913" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE2MDEsImlzcyI6InB1c2hwaW4ifQ.NOH_XibBBPto_HHNd8BPys3yL8mXFcTWNrQIK7BReu0" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "body": "", "method": "GET", "uri": "http://localhost:42913/api/http-response/test-channel-c5fa6a25-adea-4564-abae-8783a26f11a6" }, "trusted": true, "inspect": { "no-proxy": false }, "requests": [ { "out-seq": 2, "out-credits": 8192, "peer-address": "192.168.127.1", "rid": { "id": "0-0-1", "sender": "connmgr" }, "logical-peer-address": "192.168.127.1", "in-seq": 2 } ] } }
[DEBUG] 2025-04-15 17:26:42.048 zrpc server: OUT { "id": "ef181765-a622-40b6-9afd-84a916935c99", "success": true, "value": { "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:26:42 GMT" ] ], "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-c5fa6a25-adea-4564-abae-8783a26f11a6\"}", "code": 200, "reason": "OK" } } }
[DEBUG] 2025-04-15 17:26:42.048 stats: OUT conn { "id": "connmgr:0-0-1", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 17:26:42.067 IN proxy stats: conn { "id": "connmgr:0-0-1", "from": "proxy_14", "unavailable": true }
[DEBUG] 2025-04-15 17:26:42.067 stats: OUT conn { "id": "connmgr:0-0-1", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 17:26:42.091 IN proxy stats: conn { "id": "connmgr:1-0-1", "from": "proxy_14", "ttl": 120, "peer-address": "192.168.127.1", "type": "http" }
[DEBUG] 2025-04-15 17:26:42.092 stats: OUT conn { "id": "connmgr:1-0-1", "from": "handler_15", "ttl": 120, "peer-address": "192.168.127.1", "type": "http" }
[DEBUG] 2025-04-15 17:26:42.104 zrpc server: IN { "id": "33b07639-bf0d-4de6-808c-8e29ef31ad8c", "method": "inspect", "args": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:42913" ], [ "accept", "*/*" ] ], "body": "", "method": "GET", "uri": "http://localhost:42913/api/http-response/test-channel-e3281e03-5a19-486d-8a0b-a5b10bb1da92" } }
[DEBUG] 2025-04-15 17:26:42.105 zrpc server: OUT { "id": "33b07639-bf0d-4de6-808c-8e29ef31ad8c", "success": true, "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 17:26:42.118 stats: OUT activity { "from": "handler_15", "count": 2 }
[DEBUG] 2025-04-15 17:26:42.119 stats: OUT counts { "from": "handler_15", "requests-received": 2 }
[DEBUG] 2025-04-15 17:26:42.161 zrpc server: IN { "id": "4b77d65c-a08f-4a27-84cb-80f29e497f9e", "from": "proxy_14", "method": "accept", "args": { "orig-request-data": { "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:42913" ], [ "accept", "*/*" ] ], "body": "", "method": "GET", "uri": "http://localhost:42913/api/http-response/test-channel-e3281e03-5a19-486d-8a0b-a5b10bb1da92" }, "route": "*,*,*,*", "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Channel", "test-channel-e3281e03-5a19-486d-8a0b-a5b10bb1da92" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:42 GMT" ] ], "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-e3281e03-5a19-486d-8a0b-a5b10bb1da92\"}", "code": 200, "reason": "" }, "request-data": { "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:42913" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE2MDIsImlzcyI6InB1c2hwaW4ifQ.hcnZ4kPJCZZGUu-Blk00ecw_llhRjhPawuoXq-GI4a8" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "body": "", "method": "GET", "uri": "http://localhost:42913/api/http-response/test-channel-e3281e03-5a19-486d-8a0b-a5b10bb1da92" }, "trusted": true, "inspect": { "no-proxy": false }, "requests": [ { "out-seq": 2, "out-credits": 8192, "peer-address": "192.168.127.1", "rid": { "id": "1-0-1", "sender": "connmgr" }, "logical-peer-address": "192.168.127.1", "in-seq": 2 } ] } }
[DEBUG] 2025-04-15 17:26:42.162 zrpc server: OUT { "id": "4b77d65c-a08f-4a27-84cb-80f29e497f9e", "success": true, "value": { "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:26:42 GMT" ] ], "body": "{\"success\":true,\"message\":\"This is a non-streaming HTTP response\",\"channel\":\"test-channel-e3281e03-5a19-486d-8a0b-a5b10bb1da92\"}", "code": 200, "reason": "OK" } } }
[DEBUG] 2025-04-15 17:26:42.162 stats: OUT conn { "id": "connmgr:1-0-1", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 17:26:42.180 IN proxy stats: conn { "id": "connmgr:1-0-1", "from": "proxy_14", "unavailable": true }
[DEBUG] 2025-04-15 17:26:42.181 stats: OUT conn { "id": "connmgr:1-0-1", "from": "handler_15", "unavailable": true }
[DEBUG] 2025-04-15 17:26:42.208 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:42.209 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:42.249 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:42.250 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 17:26:42.250 publish channel=test-channel-e3281e03-5a19-486d-8a0b-a5b10bb1da92 receivers=0
[DEBUG] 2025-04-15 17:26:42.518 starting...
[DEBUG] 2025-04-15 17:26:42.519 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:26:42.519 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:26:42.520 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:26:42.520 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:26:42.520 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:26:42.521 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:26:42.521 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:26:42.521 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:26:42.521 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:26:42.521 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:26:42.521 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:26:42.522 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:26:42.522 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:26:42.522 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:26:42.522 started
[DEBUG] 2025-04-15 17:26:42.824 IN proxy stats: conn { "peer-address": "192.168.127.1", "id": "connmgr:1-0-0", "type": "http", "from": "proxy_14", "ttl": 120 }
[DEBUG] 2025-04-15 17:26:42.825 stats: OUT conn { "id": "connmgr:1-0-0", "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:26:42.835 IN proxy stats: conn { "peer-address": "192.168.127.1", "id": "connmgr:0-0-1", "type": "http", "from": "proxy_14", "ttl": 120 }
[DEBUG] 2025-04-15 17:26:42.835 stats: OUT conn { "id": "connmgr:0-0-1", "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:26:42.836 zrpc server: IN { "args": { "uri": "http://localhost:40829/api/health/check", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40829" ], [ "accept", "*/*" ] ], "body": "", "method": "GET" }, "id": "b08ad757-c68d-4e97-a2af-71c4cda15bd0", "method": "inspect" }
[DEBUG] 2025-04-15 17:26:42.836 zrpc server: OUT { "value": { "no-proxy": false }, "id": "b08ad757-c68d-4e97-a2af-71c4cda15bd0", "success": true }
[DEBUG] 2025-04-15 17:26:42.846 zrpc server: IN { "args": { "uri": "http://localhost:40829/api/http-stream/test-channel-4cb516e6-0df7-406e-8c47-95ef13720961", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40829" ], [ "accept", "*/*" ] ], "body": "", "method": "GET" }, "id": "10bb3b05-c00a-492c-8c5b-9f4befb1bc73", "method": "inspect" }
[DEBUG] 2025-04-15 17:26:42.847 zrpc server: OUT { "value": { "no-proxy": false }, "id": "10bb3b05-c00a-492c-8c5b-9f4befb1bc73", "success": true }
[DEBUG] 2025-04-15 17:26:42.877 IN proxy stats: conn { "unavailable": true, "id": "connmgr:1-0-0", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:42.878 stats: OUT conn { "unavailable": true, "id": "connmgr:1-0-0", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:42.897 zrpc server: IN { "args": { "trusted": true, "orig-request-data": { "uri": "http://localhost:40829/api/http-stream/test-channel-4cb516e6-0df7-406e-8c47-95ef13720961", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40829" ], [ "accept", "*/*" ] ], "body": "", "method": "GET" }, "inspect": { "no-proxy": false }, "request-data": { "uri": "http://localhost:40829/api/http-stream/test-channel-4cb516e6-0df7-406e-8c47-95ef13720961", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40829" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE2MDIsImlzcyI6InB1c2hwaW4ifQ.hcnZ4kPJCZZGUu-Blk00ecw_llhRjhPawuoXq-GI4a8" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "body": "", "method": "GET" }, "requests": [ { "in-seq": 2, "peer-address": "192.168.127.1", "out-seq": 2, "logical-peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "0-0-1" }, "out-credits": 8192 } ], "route": "*,*,*,*", "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-4cb516e6-0df7-406e-8c47-95ef13720961" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:42 GMT" ] ], "body": "Successfully subscribed to channel: test-channel-4cb516e6-0df7-406e-8c47-95ef13720961\n", "reason": "", "code": 200 } }, "id": "e8099e47-e661-4555-8594-c8ac5addbf85", "from": "proxy_14", "method": "accept" }
[DEBUG] 2025-04-15 17:26:42.897 zrpc server: OUT { "value": { "accepted": true }, "id": "e8099e47-e661-4555-8594-c8ac5addbf85", "success": true }
[DEBUG] 2025-04-15 17:26:42.898 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:42.899 zhttp server: OUT connmgr { "id": "0-0-1", "type": "keep-alive", "ext": { "multi": true }, "from": "handler_15", "seq": 2 }
[DEBUG] 2025-04-15 17:26:42.900 adding stream hold on test-channel-4cb516e6-0df7-406e-8c47-95ef13720961
[DEBUG] 2025-04-15 17:26:42.901 stats: OUT sub { "mode": "stream", "channel": "test-channel-4cb516e6-0df7-406e-8c47-95ef13720961", "from": "handler_15", "ttl": 60, "subscribers": 1 }
[DEBUG] 2025-04-15 17:26:42.901 SUB socket subscribe: test-channel-4cb516e6-0df7-406e-8c47-95ef13720961
[INFO] 2025-04-15 17:26:42.901 subscribe http://localhost:40829/api/http-stream/test-channel-4cb516e6-0df7-406e-8c47-95ef13720961 channel=test-channel-4cb516e6-0df7-406e-8c47-95ef13720961
[DEBUG] 2025-04-15 17:26:42.902 zhttp server: OUT connmgr { "id": "0-0-1", "from": "handler_15", "more": true, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Date", "Tue, 15 Apr 2025 17:26:42 GMT" ] ], "seq": 3, "code": 200, "reason": "OK" } 86 "Successfully subscribed to channel: test-channel-4cb516e6-0df7-406e-8c47-95ef13720961\n"
[DEBUG] 2025-04-15 17:26:42.913 IN proxy stats: conn { "peer-address": "192.168.127.1", "id": "connmgr:0-0-1", "type": "http", "from": "proxy_14", "ttl": 120 }
[DEBUG] 2025-04-15 17:26:42.914 stats: OUT conn { "id": "connmgr:0-0-1", "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:26:42.914 zhttp/zws server: IN stream { "id": "0-0-1", "type": "credit", "ext": { "multi": true }, "credits": 86, "from": "connmgr", "seq": 2 }
[DEBUG] 2025-04-15 17:26:42.915 zhttp server: OUT connmgr { "id": "0-0-1", "type": "keep-alive", "from": "handler_15", "seq": 4 }
[DEBUG] 2025-04-15 17:26:42.937 IN proxy stats: activity { "count": 2, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:42.937 IN proxy stats: counts { "from": "proxy_14", "requests-received": 2 }
[DEBUG] 2025-04-15 17:26:43.047 stats: OUT activity { "count": 2, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:43.049 stats: OUT counts { "from": "handler_15", "requests-received": 2 }
[DEBUG] 2025-04-15 17:26:43.546 stats: OUT conn { "id": "connmgr:0-0-1", "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:26:43.547 stats: OUT sub { "mode": "stream", "channel": "test-channel-4cb516e6-0df7-406e-8c47-95ef13720961", "from": "handler_15", "ttl": 60, "subscribers": 1 }
[DEBUG] 2025-04-15 17:26:43.861 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:43.862 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:43.863 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:43.864 stats: OUT message { "channel": "test-channel-4cb516e6-0df7-406e-8c47-95ef13720961", "count": 1, "from": "handler_15", "transport": "http-stream" }
[INFO] 2025-04-15 17:26:43.864 publish channel=test-channel-4cb516e6-0df7-406e-8c47-95ef13720961 receivers=1
[DEBUG] 2025-04-15 17:26:43.866 zhttp server: OUT connmgr { "id": "0-0-1", "from": "handler_15", "more": true, "seq": 5 } 29 "First HTTP Streaming message\n"
[DEBUG] 2025-04-15 17:26:43.873 zhttp/zws server: IN stream { "id": "0-0-1", "type": "credit", "ext": { "multi": true }, "credits": 29, "from": "connmgr", "seq": 3 }
[DEBUG] 2025-04-15 17:26:43.876 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:43.877 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:43.878 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:43.878 stats: OUT message { "channel": "test-channel-4cb516e6-0df7-406e-8c47-95ef13720961", "count": 1, "from": "handler_15", "transport": "http-stream" }
[INFO] 2025-04-15 17:26:43.879 publish channel=test-channel-4cb516e6-0df7-406e-8c47-95ef13720961 receivers=1
[DEBUG] 2025-04-15 17:26:43.889 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:43.890 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:43.890 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:43.891 stats: OUT message { "channel": "test-channel-4cb516e6-0df7-406e-8c47-95ef13720961", "count": 1, "from": "handler_15", "transport": "http-stream" }
[INFO] 2025-04-15 17:26:43.891 publish channel=test-channel-4cb516e6-0df7-406e-8c47-95ef13720961 receivers=1
[DEBUG] 2025-04-15 17:26:43.916 zhttp server: OUT connmgr { "id": "0-0-1", "from": "handler_15", "more": true, "seq": 6 } 59 "Second HTTP Streaming message\nThird HTTP Streaming message\n"
[DEBUG] 2025-04-15 17:26:43.920 zhttp/zws server: IN stream { "id": "0-0-1", "type": "credit", "ext": { "multi": true }, "credits": 59, "from": "connmgr", "seq": 4 }
[DEBUG] 2025-04-15 17:26:43.921 zhttp server: OUT connmgr { "id": "0-0-1", "type": "keep-alive", "from": "handler_15", "seq": 7 }
[DEBUG] 2025-04-15 17:26:43.922 zhttp/zws server: IN stream { "id": "0-0-1", "type": "cancel", "ext": { "multi": true }, "from": "connmgr", "seq": 5 }
[DEBUG] 2025-04-15 17:26:43.922 zhttp server: received cancel id=0-0-1
[DEBUG] 2025-04-15 17:26:43.922 httpsession: cleaning up connmgr:0-0-1
[DEBUG] 2025-04-15 17:26:43.922 stats: OUT sub { "mode": "stream", "unavailable": true, "channel": "test-channel-4cb516e6-0df7-406e-8c47-95ef13720961", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:43.922 SUB socket unsubscribe: test-channel-4cb516e6-0df7-406e-8c47-95ef13720961
[DEBUG] 2025-04-15 17:26:43.923 stats: OUT conn { "unavailable": true, "id": "connmgr:0-0-1", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:43.928 IN proxy stats: conn { "peer-address": "192.168.127.1", "id": "connmgr:1-0-1", "type": "http", "from": "proxy_14", "ttl": 120 }
[DEBUG] 2025-04-15 17:26:43.928 stats: OUT conn { "id": "connmgr:1-0-1", "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:26:43.939 zrpc server: IN { "args": { "uri": "http://localhost:40829/api/http-stream/test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40829" ], [ "accept", "*/*" ] ], "body": "", "method": "GET" }, "id": "dcba52ff-1570-4dcf-b09e-b0f09d06e7c0", "method": "inspect" }
[DEBUG] 2025-04-15 17:26:43.939 zrpc server: OUT { "value": { "no-proxy": false }, "id": "dcba52ff-1570-4dcf-b09e-b0f09d06e7c0", "success": true }
[DEBUG] 2025-04-15 17:26:43.982 zrpc server: IN { "args": { "trusted": true, "orig-request-data": { "uri": "http://localhost:40829/api/http-stream/test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40829" ], [ "accept", "*/*" ] ], "body": "", "method": "GET" }, "inspect": { "no-proxy": false }, "request-data": { "uri": "http://localhost:40829/api/http-stream/test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40829" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE2MDMsImlzcyI6InB1c2hwaW4ifQ.z4Yg983W3Be94FqXq5qUf-egzhGwb5v9iVUcv5je93E" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "body": "", "method": "GET" }, "requests": [ { "in-seq": 2, "peer-address": "192.168.127.1", "out-seq": 2, "logical-peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "1-0-1" }, "out-credits": 8192 } ], "route": "*,*,*,*", "response": { "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:43 GMT" ] ], "body": "Successfully subscribed to channel: test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65\n", "reason": "", "code": 200 } }, "id": "f6896b3b-776f-4a5a-a7fb-1541be8571b7", "from": "proxy_14", "method": "accept" }
[DEBUG] 2025-04-15 17:26:43.983 zrpc server: OUT { "value": { "accepted": true }, "id": "f6896b3b-776f-4a5a-a7fb-1541be8571b7", "success": true }
[DEBUG] 2025-04-15 17:26:43.983 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:43.984 zhttp server: OUT connmgr { "id": "1-0-1", "type": "keep-alive", "ext": { "multi": true }, "from": "handler_15", "seq": 2 }
[DEBUG] 2025-04-15 17:26:43.984 adding stream hold on test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65
[DEBUG] 2025-04-15 17:26:43.985 stats: OUT sub { "mode": "stream", "channel": "test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65", "from": "handler_15", "ttl": 60, "subscribers": 1 }
[DEBUG] 2025-04-15 17:26:43.985 SUB socket subscribe: test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65
[INFO] 2025-04-15 17:26:43.985 subscribe http://localhost:40829/api/http-stream/test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65 channel=test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65
[DEBUG] 2025-04-15 17:26:43.986 zhttp server: OUT connmgr { "id": "1-0-1", "from": "handler_15", "more": true, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/plain" ], [ "Date", "Tue, 15 Apr 2025 17:26:43 GMT" ] ], "seq": 3, "code": 200, "reason": "OK" } 86 "Successfully subscribed to channel: test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65\n"
[DEBUG] 2025-04-15 17:26:43.987 zhttp/zws server: IN stream { "id": "1-0-1", "type": "credit", "ext": { "multi": true }, "credits": 86, "from": "connmgr", "seq": 2 }
[DEBUG] 2025-04-15 17:26:43.987 zhttp server: OUT connmgr { "id": "1-0-1", "type": "keep-alive", "from": "handler_15", "seq": 4 }
[DEBUG] 2025-04-15 17:26:43.988 IN proxy stats: conn { "peer-address": "192.168.127.1", "id": "connmgr:1-0-1", "type": "http", "from": "proxy_14", "ttl": 120 }
[DEBUG] 2025-04-15 17:26:43.988 stats: OUT conn { "id": "connmgr:1-0-1", "type": "http", "peer-address": "192.168.127.1", "from": "handler_15", "ttl": 120 }
[DEBUG] 2025-04-15 17:26:44.044 IN proxy stats: activity { "count": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:44.047 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:44.165 stats: OUT activity { "count": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:44.166 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:44.941 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:44.941 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:44.941 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:44.942 stats: OUT message { "channel": "test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65", "count": 1, "from": "handler_15", "transport": "http-stream" }
[INFO] 2025-04-15 17:26:44.942 publish channel=test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65 receivers=1
[DEBUG] 2025-04-15 17:26:44.943 zhttp server: OUT connmgr { "id": "1-0-1", "from": "handler_15", "more": true, "seq": 5 } 32 "Hello from HTTP Streaming test!\n"
[DEBUG] 2025-04-15 17:26:44.945 zhttp/zws server: IN stream { "id": "1-0-1", "type": "credit", "ext": { "multi": true }, "credits": 32, "from": "connmgr", "seq": 3 }
[DEBUG] 2025-04-15 17:26:44.949 zhttp/zws server: IN stream { "id": "1-0-1", "type": "cancel", "ext": { "multi": true }, "from": "connmgr", "seq": 4 }
[DEBUG] 2025-04-15 17:26:44.963 zhttp server: received cancel id=1-0-1
[DEBUG] 2025-04-15 17:26:44.963 httpsession: cleaning up connmgr:1-0-1
[DEBUG] 2025-04-15 17:26:44.963 stats: OUT sub { "mode": "stream", "unavailable": true, "channel": "test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:44.963 SUB socket unsubscribe: test-channel-f3c5c7ff-fd70-41ad-9826-fc2896e92f65
[DEBUG] 2025-04-15 17:26:44.964 stats: OUT conn { "unavailable": true, "id": "connmgr:1-0-1", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:45.160 starting...
[DEBUG] 2025-04-15 17:26:45.160 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:26:45.161 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:26:45.161 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:26:45.161 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:26:45.161 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:26:45.163 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:26:45.163 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:26:45.163 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:26:45.163 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:26:45.163 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:26:45.163 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:26:45.164 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:26:45.164 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:26:45.164 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:26:45.164 started
[DEBUG] 2025-04-15 17:26:45.437 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "proxy_14", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:26:45.438 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "handler_15", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:26:45.450 zrpc server: IN { "args": { "body": "", "uri": "http://localhost:40413/api/health/check", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40413" ], [ "accept", "*/*" ] ] }, "id": "a58174bb-967c-4d1b-8fb9-0ced54ee6b83", "method": "inspect" }
[DEBUG] 2025-04-15 17:26:45.450 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "a58174bb-967c-4d1b-8fb9-0ced54ee6b83" }
[DEBUG] 2025-04-15 17:26:45.487 IN proxy stats: conn { "unavailable": true, "from": "proxy_14", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:26:45.487 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-0" }
[DEBUG] 2025-04-15 17:26:45.557 IN proxy stats: activity { "count": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:45.558 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:45.670 stats: OUT activity { "count": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:45.671 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:45.969 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "proxy_14", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:26:45.969 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "handler_15", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:26:45.983 zrpc server: IN { "args": { "body": "", "uri": "http://localhost:40413/api/long-polling/test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40413" ], [ "accept", "*/*" ] ] }, "id": "7626ece6-8f1b-4d50-8006-62e4921a41be", "method": "inspect" }
[DEBUG] 2025-04-15 17:26:45.983 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "7626ece6-8f1b-4d50-8006-62e4921a41be" }
[DEBUG] 2025-04-15 17:26:46.045 zrpc server: IN { "args": { "requests": [ { "rid": { "sender": "connmgr", "id": "1-0-1" }, "in-seq": 2, "logical-peer-address": "192.168.127.1", "peer-address": "192.168.127.1", "out-seq": 2, "out-credits": 8192 } ], "trusted": true, "inspect": { "no-proxy": false }, "orig-request-data": { "body": "", "uri": "http://localhost:40413/api/long-polling/test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40413" ], [ "accept", "*/*" ] ] }, "route": "*,*,*,*", "response": { "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-f4af9892-969a-4d17-9f66-5df72c131bec\"}", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-f4af9892-969a-4d17-9f66-5df72c131bec" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:46 GMT" ] ], "reason": "" }, "request-data": { "body": "", "uri": "http://localhost:40413/api/long-polling/test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40413" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE2MDUsImlzcyI6InB1c2hwaW4ifQ.8kLnuMp9Z_GD0enngTj4WW5wd-UObybY1fxOgEHH6Vo" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] } }, "from": "proxy_14", "id": "68bc7120-3bb2-4644-abf6-7cb209b0cf4c", "method": "accept" }
[DEBUG] 2025-04-15 17:26:46.046 zrpc server: OUT { "value": { "accepted": true }, "success": true, "id": "68bc7120-3bb2-4644-abf6-7cb209b0cf4c" }
[DEBUG] 2025-04-15 17:26:46.047 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:46.047 zhttp server: OUT connmgr { "seq": 2, "ext": { "multi": true }, "type": "keep-alive", "from": "handler_15", "id": "1-0-1" }
[DEBUG] 2025-04-15 17:26:46.048 adding response hold on test-channel-f4af9892-969a-4d17-9f66-5df72c131bec
[DEBUG] 2025-04-15 17:26:46.048 stats: OUT sub { "mode": "response", "channel": "test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "subscribers": 1, "ttl": 60, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:46.048 SUB socket subscribe: test-channel-f4af9892-969a-4d17-9f66-5df72c131bec
[INFO] 2025-04-15 17:26:46.049 subscribe http://localhost:40413/api/long-polling/test-channel-f4af9892-969a-4d17-9f66-5df72c131bec channel=test-channel-f4af9892-969a-4d17-9f66-5df72c131bec
[DEBUG] 2025-04-15 17:26:46.064 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "proxy_14", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:26:46.065 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "handler_15", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:26:46.080 IN proxy stats: activity { "count": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:46.081 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:46.179 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "handler_15", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:26:46.179 stats: OUT sub { "mode": "response", "channel": "test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "subscribers": 1, "ttl": 60, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:46.190 stats: OUT activity { "count": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:46.191 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:46.453 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:46.453 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:46.454 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 17:26:46.454 stats: OUT message { "count": 1, "channel": "test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "transport": "http-response", "from": "handler_15" }
[INFO] 2025-04-15 17:26:46.454 publish channel=test-channel-f4af9892-969a-4d17-9f66-5df72c131bec receivers=1
[DEBUG] 2025-04-15 17:26:46.455 zhttp server: OUT connmgr { "seq": 3, "code": 200, "from": "handler_15", "id": "1-0-1", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:26:46 GMT" ] ], "reason": "OK" } 113 "{\"channel\":\"test-channel-f4af9892-969a-4d17-9f66-5df72c131bec\",\"message\":\"{message=First Long-Polling message}\"}\n"
[DEBUG] 2025-04-15 17:26:46.456 httpsession: cleaning up connmgr:1-0-1
[DEBUG] 2025-04-15 17:26:46.458 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-1" }
[DEBUG] 2025-04-15 17:26:46.966 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "proxy_14", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:26:46.966 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "handler_15", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:26:46.976 zrpc server: IN { "args": { "body": "", "uri": "http://localhost:40413/api/long-polling/test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40413" ], [ "accept", "*/*" ] ] }, "id": "75bad666-414d-4837-ad94-c02cc6809978", "method": "inspect" }
[DEBUG] 2025-04-15 17:26:46.976 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "75bad666-414d-4837-ad94-c02cc6809978" }
[DEBUG] 2025-04-15 17:26:47.027 zrpc server: IN { "args": { "requests": [ { "rid": { "sender": "connmgr", "id": "1-0-2" }, "in-seq": 2, "logical-peer-address": "192.168.127.1", "peer-address": "192.168.127.1", "out-seq": 2, "out-credits": 8192 } ], "trusted": true, "inspect": { "no-proxy": false }, "orig-request-data": { "body": "", "uri": "http://localhost:40413/api/long-polling/test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40413" ], [ "accept", "*/*" ] ] }, "route": "*,*,*,*", "response": { "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-f4af9892-969a-4d17-9f66-5df72c131bec\"}", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-f4af9892-969a-4d17-9f66-5df72c131bec" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:47 GMT" ] ], "reason": "" }, "request-data": { "body": "", "uri": "http://localhost:40413/api/long-polling/test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40413" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE2MDYsImlzcyI6InB1c2hwaW4ifQ.MMJttfJRSoatH0T1vL1KlHGxLnb75ALFUfmBTciIXew" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] } }, "from": "proxy_14", "id": "79c936d1-8f69-4f57-b85f-de7c093fb8c3", "method": "accept" }
[DEBUG] 2025-04-15 17:26:47.028 zrpc server: OUT { "value": { "accepted": true }, "success": true, "id": "79c936d1-8f69-4f57-b85f-de7c093fb8c3" }
[DEBUG] 2025-04-15 17:26:47.028 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:47.029 zhttp server: OUT connmgr { "seq": 2, "ext": { "multi": true }, "type": "keep-alive", "from": "handler_15", "id": "1-0-2" }
[DEBUG] 2025-04-15 17:26:47.029 adding response hold on test-channel-f4af9892-969a-4d17-9f66-5df72c131bec
[DEBUG] 2025-04-15 17:26:47.029 stats: OUT sub { "mode": "response", "channel": "test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "subscribers": 1, "ttl": 60, "from": "handler_15" }
[INFO] 2025-04-15 17:26:47.030 subscribe http://localhost:40413/api/long-polling/test-channel-f4af9892-969a-4d17-9f66-5df72c131bec channel=test-channel-f4af9892-969a-4d17-9f66-5df72c131bec
[DEBUG] 2025-04-15 17:26:47.033 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "proxy_14", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:26:47.033 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "handler_15", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:26:47.074 IN proxy stats: activity { "count": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:47.075 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:47.193 stats: OUT activity { "count": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:47.194 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:47.481 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:47.482 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:47.482 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 17:26:47.482 stats: OUT message { "count": 1, "channel": "test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "transport": "http-response", "from": "handler_15" }
[INFO] 2025-04-15 17:26:47.482 publish channel=test-channel-f4af9892-969a-4d17-9f66-5df72c131bec receivers=1
[DEBUG] 2025-04-15 17:26:47.483 zhttp server: OUT connmgr { "seq": 3, "code": 200, "from": "handler_15", "id": "1-0-2", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:26:47 GMT" ] ], "reason": "OK" } 114 "{\"channel\":\"test-channel-f4af9892-969a-4d17-9f66-5df72c131bec\",\"message\":\"{message=Second Long-Polling message}\"}\n"
[DEBUG] 2025-04-15 17:26:47.484 httpsession: cleaning up connmgr:1-0-2
[DEBUG] 2025-04-15 17:26:47.484 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-2" }
[DEBUG] 2025-04-15 17:26:47.997 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "proxy_14", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:26:47.997 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "handler_15", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:26:48.012 zrpc server: IN { "args": { "body": "", "uri": "http://localhost:40413/api/long-polling/test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40413" ], [ "accept", "*/*" ] ] }, "id": "72ec2d18-bd78-40db-a411-d4d5729026e5", "method": "inspect" }
[DEBUG] 2025-04-15 17:26:48.013 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "72ec2d18-bd78-40db-a411-d4d5729026e5" }
[DEBUG] 2025-04-15 17:26:48.072 zrpc server: IN { "args": { "requests": [ { "rid": { "sender": "connmgr", "id": "1-0-3" }, "in-seq": 2, "logical-peer-address": "192.168.127.1", "peer-address": "192.168.127.1", "out-seq": 2, "out-credits": 8192 } ], "trusted": true, "inspect": { "no-proxy": false }, "orig-request-data": { "body": "", "uri": "http://localhost:40413/api/long-polling/test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40413" ], [ "accept", "*/*" ] ] }, "route": "*,*,*,*", "response": { "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-f4af9892-969a-4d17-9f66-5df72c131bec\"}", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-f4af9892-969a-4d17-9f66-5df72c131bec" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:48 GMT" ] ], "reason": "" }, "request-data": { "body": "", "uri": "http://localhost:40413/api/long-polling/test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40413" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE2MDgsImlzcyI6InB1c2hwaW4ifQ.br94fR4vldQJFbNnnmqm28ySoTnn6cq_EZ1vyW4bhtc" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] } }, "from": "proxy_14", "id": "c3914fd1-7a1e-444c-8f33-dbc9f9ccd555", "method": "accept" }
[DEBUG] 2025-04-15 17:26:48.073 zrpc server: OUT { "value": { "accepted": true }, "success": true, "id": "c3914fd1-7a1e-444c-8f33-dbc9f9ccd555" }
[DEBUG] 2025-04-15 17:26:48.073 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:48.073 zhttp server: OUT connmgr { "seq": 2, "ext": { "multi": true }, "type": "keep-alive", "from": "handler_15", "id": "1-0-3" }
[DEBUG] 2025-04-15 17:26:48.074 adding response hold on test-channel-f4af9892-969a-4d17-9f66-5df72c131bec
[DEBUG] 2025-04-15 17:26:48.074 stats: OUT sub { "mode": "response", "channel": "test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "subscribers": 1, "ttl": 60, "from": "handler_15" }
[INFO] 2025-04-15 17:26:48.075 subscribe http://localhost:40413/api/long-polling/test-channel-f4af9892-969a-4d17-9f66-5df72c131bec channel=test-channel-f4af9892-969a-4d17-9f66-5df72c131bec
[DEBUG] 2025-04-15 17:26:48.090 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "proxy_14", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:26:48.091 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "handler_15", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:26:48.102 IN proxy stats: activity { "count": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:48.103 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:48.220 stats: OUT activity { "count": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:48.222 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:48.494 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:48.495 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:48.496 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 17:26:48.496 stats: OUT message { "count": 1, "channel": "test-channel-f4af9892-969a-4d17-9f66-5df72c131bec", "transport": "http-response", "from": "handler_15" }
[INFO] 2025-04-15 17:26:48.496 publish channel=test-channel-f4af9892-969a-4d17-9f66-5df72c131bec receivers=1
[DEBUG] 2025-04-15 17:26:48.497 zhttp server: OUT connmgr { "seq": 3, "code": 200, "from": "handler_15", "id": "1-0-3", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:26:48 GMT" ] ], "reason": "OK" } 113 "{\"channel\":\"test-channel-f4af9892-969a-4d17-9f66-5df72c131bec\",\"message\":\"{message=Third Long-Polling message}\"}\n"
[DEBUG] 2025-04-15 17:26:48.498 httpsession: cleaning up connmgr:1-0-3
[DEBUG] 2025-04-15 17:26:48.498 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-3" }
[DEBUG] 2025-04-15 17:26:49.017 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "proxy_14", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:26:49.018 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "handler_15", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:26:49.032 zrpc server: IN { "args": { "body": "", "uri": "http://localhost:40413/api/long-polling/test-channel-f51b7fe3-de0d-462c-8208-6af63063dbd4", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40413" ], [ "accept", "*/*" ] ] }, "id": "341f09c3-390d-4974-8d83-7d64bb2d3cf6", "method": "inspect" }
[DEBUG] 2025-04-15 17:26:49.033 zrpc server: OUT { "value": { "no-proxy": false }, "success": true, "id": "341f09c3-390d-4974-8d83-7d64bb2d3cf6" }
[DEBUG] 2025-04-15 17:26:49.099 zrpc server: IN { "args": { "requests": [ { "rid": { "sender": "connmgr", "id": "1-0-4" }, "in-seq": 2, "logical-peer-address": "192.168.127.1", "peer-address": "192.168.127.1", "out-seq": 2, "out-credits": 8192 } ], "trusted": true, "inspect": { "no-proxy": false }, "orig-request-data": { "body": "", "uri": "http://localhost:40413/api/long-polling/test-channel-f51b7fe3-de0d-462c-8208-6af63063dbd4", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40413" ], [ "accept", "*/*" ] ] }, "route": "*,*,*,*", "response": { "body": "{\"success\":true,\"message\":\"No messages received within timeout period\",\"channel\":\"test-channel-f51b7fe3-de0d-462c-8208-6af63063dbd4\"}", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "response" ], [ "Grip-Channel", "test-channel-f51b7fe3-de0d-462c-8208-6af63063dbd4" ], [ "Grip-Timeout", "20" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:49 GMT" ] ], "reason": "" }, "request-data": { "body": "", "uri": "http://localhost:40413/api/long-polling/test-channel-f51b7fe3-de0d-462c-8208-6af63063dbd4", "method": "GET", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:40413" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE2MDksImlzcyI6InB1c2hwaW4ifQ.QIOcFvA1Iyk2jQ7D5r7AqyRvS8o3Jvij8Ro2AuSY_PM" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ] } }, "from": "proxy_14", "id": "6b76b99d-7a1b-4739-9de9-a45e8b880796", "method": "accept" }
[DEBUG] 2025-04-15 17:26:49.100 zrpc server: OUT { "value": { "accepted": true }, "success": true, "id": "6b76b99d-7a1b-4739-9de9-a45e8b880796" }
[DEBUG] 2025-04-15 17:26:49.101 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:49.101 zhttp server: OUT connmgr { "seq": 2, "ext": { "multi": true }, "type": "keep-alive", "from": "handler_15", "id": "1-0-4" }
[DEBUG] 2025-04-15 17:26:49.102 adding response hold on test-channel-f51b7fe3-de0d-462c-8208-6af63063dbd4
[DEBUG] 2025-04-15 17:26:49.102 stats: OUT sub { "mode": "response", "channel": "test-channel-f51b7fe3-de0d-462c-8208-6af63063dbd4", "subscribers": 1, "ttl": 60, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:49.103 SUB socket subscribe: test-channel-f51b7fe3-de0d-462c-8208-6af63063dbd4
[INFO] 2025-04-15 17:26:49.103 subscribe http://localhost:40413/api/long-polling/test-channel-f51b7fe3-de0d-462c-8208-6af63063dbd4 channel=test-channel-f51b7fe3-de0d-462c-8208-6af63063dbd4
[DEBUG] 2025-04-15 17:26:49.117 IN proxy stats: conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "proxy_14", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:26:49.118 stats: OUT conn { "type": "http", "peer-address": "192.168.127.1", "ttl": 120, "from": "handler_15", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:26:49.132 IN proxy stats: activity { "count": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:49.133 IN proxy stats: counts { "from": "proxy_14", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:49.246 stats: OUT activity { "count": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:49.246 stats: OUT counts { "from": "handler_15", "requests-received": 1 }
[DEBUG] 2025-04-15 17:26:49.512 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:49.513 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:49.514 relaying to 1 http-response subscribers
[DEBUG] 2025-04-15 17:26:49.514 stats: OUT message { "count": 1, "channel": "test-channel-f51b7fe3-de0d-462c-8208-6af63063dbd4", "transport": "http-response", "from": "handler_15" }
[INFO] 2025-04-15 17:26:49.514 publish channel=test-channel-f51b7fe3-de0d-462c-8208-6af63063dbd4 receivers=1
[DEBUG] 2025-04-15 17:26:49.516 zhttp server: OUT connmgr { "seq": 3, "code": 200, "from": "handler_15", "id": "1-0-4", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "application/json" ], [ "Date", "Tue, 15 Apr 2025 17:26:49 GMT" ] ], "reason": "OK" } 126 "{\"channel\":\"test-channel-f51b7fe3-de0d-462c-8208-6af63063dbd4\",\"message\":\"{message={message=Hello from Long-Polling test!}}\"}\n"
[DEBUG] 2025-04-15 17:26:49.519 httpsession: cleaning up connmgr:1-0-4
[DEBUG] 2025-04-15 17:26:49.520 stats: OUT conn { "unavailable": true, "from": "handler_15", "id": "connmgr:1-0-4" }
[DEBUG] 2025-04-15 17:26:49.793 starting...
[DEBUG] 2025-04-15 17:26:49.794 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:26:49.795 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:26:49.795 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:26:49.795 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:26:49.795 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:26:49.796 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:26:49.796 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:26:49.796 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:26:49.796 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:26:49.796 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:26:49.797 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:26:49.797 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:26:49.797 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:26:49.797 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:26:49.798 started
[DEBUG] 2025-04-15 17:26:50.055 IN proxy stats: conn { "peer-address": "192.168.127.1", "id": "connmgr:1-0-0", "ttl": 120, "type": "http", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:50.055 stats: OUT conn { "peer-address": "192.168.127.1", "id": "connmgr:1-0-0", "type": "http", "ttl": 120, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:50.067 zrpc server: IN { "args": { "body": "", "uri": "http://localhost:46285/api/health/check", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:46285" ], [ "accept", "*/*" ] ] }, "id": "30824c3b-48ef-417a-87ca-af5b70e52f0f", "method": "inspect" }
[DEBUG] 2025-04-15 17:26:50.067 zrpc server: OUT { "id": "30824c3b-48ef-417a-87ca-af5b70e52f0f", "success": true, "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 17:26:50.069 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:50.069 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 17:26:50.069 publish channel=test-channel-5dadd845-43b5-4099-b86d-7d0ea8812c72 receivers=0
[DEBUG] 2025-04-15 17:26:50.097 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:50.097 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 17:26:50.097 publish channel=test-channel-96e1159f-9caf-4f39-910c-d2d64cdee984 receivers=0
[DEBUG] 2025-04-15 17:26:50.098 IN proxy stats: conn { "unavailable": true, "id": "connmgr:1-0-0", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:50.098 stats: OUT conn { "unavailable": true, "id": "connmgr:1-0-0", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:50.116 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:50.116 control: POST /publish code=200 10 items=1
[INFO] 2025-04-15 17:26:50.116 publish channel=test-channel-86477c68-cd59-4e90-b83b-a2cc3f13c21a receivers=0
[DEBUG] 2025-04-15 17:26:50.336 starting...
[DEBUG] 2025-04-15 17:26:50.337 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:26:50.337 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:26:50.337 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:26:50.337 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:26:50.338 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:26:50.338 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:26:50.338 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:26:50.339 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:26:50.339 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:26:50.339 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:26:50.340 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:26:50.340 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:26:50.340 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:26:50.340 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:26:50.340 started
[DEBUG] 2025-04-15 17:26:50.534 IN proxy stats: conn { "id": "connmgr:1-0-0", "ttl": 120, "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:50.534 stats: OUT conn { "id": "connmgr:1-0-0", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:50.539 IN proxy stats: conn { "id": "connmgr:0-0-1", "ttl": 120, "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:50.540 stats: OUT conn { "id": "connmgr:0-0-1", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:50.540 zrpc server: IN { "id": "c8aa90ee-93ee-4278-91f8-915dadfa6581", "args": { "uri": "http://localhost:44861/api/health/check", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44861" ], [ "accept", "*/*" ] ], "method": "GET" }, "method": "inspect" }
[DEBUG] 2025-04-15 17:26:50.540 zrpc server: OUT { "value": { "no-proxy": false }, "id": "c8aa90ee-93ee-4278-91f8-915dadfa6581", "success": true }
[DEBUG] 2025-04-15 17:26:50.551 zrpc server: IN { "id": "c2234dc6-ad6a-4fb6-8438-0871ebbbfa75", "args": { "uri": "http://localhost:44861/api/events/test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44861" ], [ "accept", "*/*" ] ], "method": "GET" }, "method": "inspect" }
[DEBUG] 2025-04-15 17:26:50.552 zrpc server: OUT { "value": { "no-proxy": false }, "id": "c2234dc6-ad6a-4fb6-8438-0871ebbbfa75", "success": true }
[DEBUG] 2025-04-15 17:26:50.574 IN proxy stats: conn { "id": "connmgr:1-0-0", "unavailable": true, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:50.574 stats: OUT conn { "id": "connmgr:1-0-0", "unavailable": true, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:50.587 zrpc server: IN { "id": "cacd55f2-0751-46b7-a08b-d8f0f1a2ccac", "args": { "request-data": { "uri": "http://localhost:44861/api/events/test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be", "body": "", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44861" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE2MTAsImlzcyI6InB1c2hwaW4ifQ.qiwSPBwrh7PbIp4V9wsdsnnZJKT65sZcRqYxS90IxFU" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "method": "GET" }, "inspect": { "no-proxy": false }, "response": { "reason": "", "body": "data:Successfully subscribed to channel: test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be\n\n", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be" ], [ "Content-Type", "text/event-stream" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:50 GMT" ] ], "code": 200 }, "orig-request-data": { "uri": "http://localhost:44861/api/events/test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44861" ], [ "accept", "*/*" ] ], "method": "GET" }, "requests": [ { "in-seq": 2, "out-credits": 8192, "out-seq": 2, "logical-peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "0-0-1" }, "peer-address": "192.168.127.1" } ], "route": "*,*,*,*", "trusted": true }, "from": "proxy_14", "method": "accept" }
[DEBUG] 2025-04-15 17:26:50.588 zrpc server: OUT { "value": { "accepted": true }, "id": "cacd55f2-0751-46b7-a08b-d8f0f1a2ccac", "success": true }
[DEBUG] 2025-04-15 17:26:50.588 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:50.588 zhttp server: OUT connmgr { "id": "0-0-1", "ext": { "multi": true }, "type": "keep-alive", "from": "handler_15", "seq": 2 }
[DEBUG] 2025-04-15 17:26:50.588 adding stream hold on test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be
[DEBUG] 2025-04-15 17:26:50.588 stats: OUT sub { "channel": "test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be", "subscribers": 1, "ttl": 60, "mode": "stream", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:50.589 SUB socket subscribe: test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be
[INFO] 2025-04-15 17:26:50.589 subscribe http://localhost:44861/api/events/test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be channel=test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be
[DEBUG] 2025-04-15 17:26:50.589 zhttp server: OUT connmgr { "reason": "OK", "more": true, "id": "0-0-1", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Date", "Tue, 15 Apr 2025 17:26:50 GMT" ] ], "from": "handler_15", "seq": 3 } 92 "data:Successfully subscribed to channel: test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be\n\n"
[DEBUG] 2025-04-15 17:26:50.590 zhttp/zws server: IN stream { "credits": 92, "id": "0-0-1", "ext": { "multi": true }, "type": "credit", "from": "connmgr", "seq": 2 }
[DEBUG] 2025-04-15 17:26:50.590 zhttp server: OUT connmgr { "id": "0-0-1", "type": "keep-alive", "from": "handler_15", "seq": 4 }
[DEBUG] 2025-04-15 17:26:50.602 IN proxy stats: conn { "id": "connmgr:0-0-1", "ttl": 120, "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:50.603 stats: OUT conn { "id": "connmgr:0-0-1", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:50.648 IN proxy stats: activity { "count": 2, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:50.648 IN proxy stats: counts { "requests-received": 2, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:50.765 stats: OUT activity { "count": 2, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:50.766 stats: OUT counts { "requests-received": 2, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:51.348 stats: OUT conn { "id": "connmgr:0-0-1", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:51.349 stats: OUT sub { "channel": "test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be", "subscribers": 1, "ttl": 60, "mode": "stream", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:51.550 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:51.550 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:51.551 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:51.551 stats: OUT message { "channel": "test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be", "count": 1, "transport": "http-stream", "from": "handler_15" }
[INFO] 2025-04-15 17:26:51.552 publish channel=test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be receivers=1
[DEBUG] 2025-04-15 17:26:51.552 zhttp server: OUT connmgr { "more": true, "id": "0-0-1", "from": "handler_15", "seq": 5 } 57 "event: custom-event\ndata: Hello with custom event type!\n\n"
[DEBUG] 2025-04-15 17:26:51.557 zhttp/zws server: IN stream { "credits": 57, "id": "0-0-1", "ext": { "multi": true }, "type": "credit", "from": "connmgr", "seq": 3 }
[DEBUG] 2025-04-15 17:26:51.559 zhttp/zws server: IN stream { "id": "0-0-1", "ext": { "multi": true }, "type": "cancel", "from": "connmgr", "seq": 4 }
[DEBUG] 2025-04-15 17:26:51.560 zhttp server: received cancel id=0-0-1
[DEBUG] 2025-04-15 17:26:51.560 httpsession: cleaning up connmgr:0-0-1
[DEBUG] 2025-04-15 17:26:51.561 stats: OUT sub { "channel": "test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be", "unavailable": true, "mode": "stream", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:51.561 SUB socket unsubscribe: test-channel-b74cf881-318d-48dd-b83c-e1384ba7a9be
[DEBUG] 2025-04-15 17:26:51.562 stats: OUT conn { "id": "connmgr:0-0-1", "unavailable": true, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:51.564 IN proxy stats: conn { "id": "connmgr:1-0-1", "ttl": 120, "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:51.565 stats: OUT conn { "id": "connmgr:1-0-1", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:51.577 zrpc server: IN { "id": "664cf531-22ef-44a6-ac67-9d6a17b949fc", "args": { "uri": "http://localhost:44861/api/events/test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44861" ], [ "accept", "*/*" ] ], "method": "GET" }, "method": "inspect" }
[DEBUG] 2025-04-15 17:26:51.578 zrpc server: OUT { "value": { "no-proxy": false }, "id": "664cf531-22ef-44a6-ac67-9d6a17b949fc", "success": true }
[DEBUG] 2025-04-15 17:26:51.636 zrpc server: IN { "id": "001c8235-2460-4038-adec-d2d748794f18", "args": { "request-data": { "uri": "http://localhost:44861/api/events/test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a", "body": "", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44861" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE2MTEsImlzcyI6InB1c2hwaW4ifQ.3cXlFrq6XPhNdNTQKZ0jYbjK_X37Jp9y77xlfmbxVKo" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "method": "GET" }, "inspect": { "no-proxy": false }, "response": { "reason": "", "body": "data:Successfully subscribed to channel: test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a\n\n", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:51 GMT" ] ], "code": 200 }, "orig-request-data": { "uri": "http://localhost:44861/api/events/test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44861" ], [ "accept", "*/*" ] ], "method": "GET" }, "requests": [ { "in-seq": 2, "out-credits": 8192, "out-seq": 2, "logical-peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "1-0-1" }, "peer-address": "192.168.127.1" } ], "route": "*,*,*,*", "trusted": true }, "from": "proxy_14", "method": "accept" }
[DEBUG] 2025-04-15 17:26:51.637 zrpc server: OUT { "value": { "accepted": true }, "id": "001c8235-2460-4038-adec-d2d748794f18", "success": true }
[DEBUG] 2025-04-15 17:26:51.637 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:51.637 zhttp server: OUT connmgr { "id": "1-0-1", "ext": { "multi": true }, "type": "keep-alive", "from": "handler_15", "seq": 2 }
[DEBUG] 2025-04-15 17:26:51.638 adding stream hold on test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a
[DEBUG] 2025-04-15 17:26:51.638 stats: OUT sub { "channel": "test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a", "subscribers": 1, "ttl": 60, "mode": "stream", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:51.639 SUB socket subscribe: test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a
[INFO] 2025-04-15 17:26:51.639 subscribe http://localhost:44861/api/events/test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a channel=test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a
[DEBUG] 2025-04-15 17:26:51.639 zhttp server: OUT connmgr { "reason": "OK", "more": true, "id": "1-0-1", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Date", "Tue, 15 Apr 2025 17:26:51 GMT" ] ], "from": "handler_15", "seq": 3 } 92 "data:Successfully subscribed to channel: test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a\n\n"
[DEBUG] 2025-04-15 17:26:51.642 IN proxy stats: conn { "id": "connmgr:1-0-1", "ttl": 120, "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:51.642 stats: OUT conn { "id": "connmgr:1-0-1", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:51.642 zhttp/zws server: IN stream { "credits": 92, "id": "1-0-1", "ext": { "multi": true }, "type": "credit", "from": "connmgr", "seq": 2 }
[DEBUG] 2025-04-15 17:26:51.643 zhttp server: OUT connmgr { "id": "1-0-1", "type": "keep-alive", "from": "handler_15", "seq": 4 }
[DEBUG] 2025-04-15 17:26:51.678 IN proxy stats: activity { "count": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:51.678 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:51.794 stats: OUT activity { "count": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:51.795 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:52.574 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:52.574 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:52.574 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:52.575 stats: OUT message { "channel": "test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a", "count": 1, "transport": "http-stream", "from": "handler_15" }
[INFO] 2025-04-15 17:26:52.575 publish channel=test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a receivers=1
[DEBUG] 2025-04-15 17:26:52.575 zhttp server: OUT connmgr { "more": true, "id": "1-0-1", "from": "handler_15", "seq": 5 } 28 "data: Hello from SSE test!\n\n"
[DEBUG] 2025-04-15 17:26:52.577 zhttp/zws server: IN stream { "credits": 28, "id": "1-0-1", "ext": { "multi": true }, "type": "credit", "from": "connmgr", "seq": 3 }
[DEBUG] 2025-04-15 17:26:52.582 zhttp/zws server: IN stream { "id": "1-0-1", "ext": { "multi": true }, "type": "cancel", "from": "connmgr", "seq": 4 }
[DEBUG] 2025-04-15 17:26:52.582 zhttp server: received cancel id=1-0-1
[DEBUG] 2025-04-15 17:26:52.583 httpsession: cleaning up connmgr:1-0-1
[DEBUG] 2025-04-15 17:26:52.594 stats: OUT sub { "channel": "test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a", "unavailable": true, "mode": "stream", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:52.595 SUB socket unsubscribe: test-channel-41768d95-f9e7-472a-94a2-c87fbc14732a
[DEBUG] 2025-04-15 17:26:52.596 stats: OUT conn { "id": "connmgr:1-0-1", "unavailable": true, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:52.604 IN proxy stats: conn { "id": "connmgr:1-0-2", "ttl": 120, "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:52.604 stats: OUT conn { "id": "connmgr:1-0-2", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:52.621 zrpc server: IN { "id": "35d83289-21da-4767-95d3-789b116cdb52", "args": { "uri": "http://localhost:44861/api/events/test-channel-2792dec5-455f-4f3a-a840-574f177fddac", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44861" ], [ "accept", "*/*" ] ], "method": "GET" }, "method": "inspect" }
[DEBUG] 2025-04-15 17:26:52.623 zrpc server: OUT { "value": { "no-proxy": false }, "id": "35d83289-21da-4767-95d3-789b116cdb52", "success": true }
[DEBUG] 2025-04-15 17:26:52.674 zrpc server: IN { "id": "2b763737-16c1-491a-8850-6fa55cd8b45f", "args": { "request-data": { "uri": "http://localhost:44861/api/events/test-channel-2792dec5-455f-4f3a-a840-574f177fddac", "body": "", "headers": [ [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44861" ], [ "accept", "*/*" ], [ "Grip-Sig", "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3NDQ3NDE2MTIsImlzcyI6InB1c2hwaW4ifQ.2OybzhRQpam4n5mVF7grkMqYhNBN67XIMVRiqKnL1Ho" ], [ "Grip-Feature", "status, session, link:next, filter:skip-self, filter:skip-users, filter:require-sub, filter:build-id, filter:var-subst" ] ], "method": "GET" }, "inspect": { "no-proxy": false }, "response": { "reason": "", "body": "data:Successfully subscribed to channel: test-channel-2792dec5-455f-4f3a-a840-574f177fddac\n\n", "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "Grip-Hold", "stream" ], [ "Grip-Channel", "test-channel-2792dec5-455f-4f3a-a840-574f177fddac" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Transfer-Encoding", "chunked" ], [ "Date", "Tue, 15 Apr 2025 17:26:52 GMT" ] ], "code": 200 }, "orig-request-data": { "uri": "http://localhost:44861/api/events/test-channel-2792dec5-455f-4f3a-a840-574f177fddac", "body": "", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:44861" ], [ "accept", "*/*" ] ], "method": "GET" }, "requests": [ { "in-seq": 2, "out-credits": 8192, "out-seq": 2, "logical-peer-address": "192.168.127.1", "rid": { "sender": "connmgr", "id": "1-0-2" }, "peer-address": "192.168.127.1" } ], "route": "*,*,*,*", "trusted": true }, "from": "proxy_14", "method": "accept" }
[DEBUG] 2025-04-15 17:26:52.675 zrpc server: OUT { "value": { "accepted": true }, "id": "2b763737-16c1-491a-8850-6fa55cd8b45f", "success": true }
[DEBUG] 2025-04-15 17:26:52.675 accepting 1 requests from proxy_14
[DEBUG] 2025-04-15 17:26:52.676 zhttp server: OUT connmgr { "id": "1-0-2", "ext": { "multi": true }, "type": "keep-alive", "from": "handler_15", "seq": 2 }
[DEBUG] 2025-04-15 17:26:52.676 adding stream hold on test-channel-2792dec5-455f-4f3a-a840-574f177fddac
[DEBUG] 2025-04-15 17:26:52.676 stats: OUT sub { "channel": "test-channel-2792dec5-455f-4f3a-a840-574f177fddac", "subscribers": 1, "ttl": 60, "mode": "stream", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:52.677 SUB socket subscribe: test-channel-2792dec5-455f-4f3a-a840-574f177fddac
[INFO] 2025-04-15 17:26:52.677 subscribe http://localhost:44861/api/events/test-channel-2792dec5-455f-4f3a-a840-574f177fddac channel=test-channel-2792dec5-455f-4f3a-a840-574f177fddac
[DEBUG] 2025-04-15 17:26:52.677 zhttp server: OUT connmgr { "reason": "OK", "more": true, "id": "1-0-2", "code": 200, "headers": [ [ "Vary", "Origin" ], [ "Vary", "Access-Control-Request-Method" ], [ "Vary", "Access-Control-Request-Headers" ], [ "X-Content-Type-Options", "nosniff" ], [ "X-XSS-Protection", "0" ], [ "Cache-Control", "no-cache, no-store, max-age=0, must-revalidate" ], [ "Pragma", "no-cache" ], [ "Expires", "0" ], [ "X-Frame-Options", "DENY" ], [ "Content-Type", "text/event-stream" ], [ "Date", "Tue, 15 Apr 2025 17:26:52 GMT" ] ], "from": "handler_15", "seq": 3 } 92 "data:Successfully subscribed to channel: test-channel-2792dec5-455f-4f3a-a840-574f177fddac\n\n"
[DEBUG] 2025-04-15 17:26:52.679 IN proxy stats: conn { "id": "connmgr:1-0-2", "ttl": 120, "type": "http", "peer-address": "192.168.127.1", "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:52.680 stats: OUT conn { "id": "connmgr:1-0-2", "ttl": 120, "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:52.680 zhttp/zws server: IN stream { "credits": 92, "id": "1-0-2", "ext": { "multi": true }, "type": "credit", "from": "connmgr", "seq": 2 }
[DEBUG] 2025-04-15 17:26:52.680 zhttp server: OUT connmgr { "id": "1-0-2", "type": "keep-alive", "from": "handler_15", "seq": 4 }
[DEBUG] 2025-04-15 17:26:52.711 IN proxy stats: activity { "count": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:52.712 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:52.824 stats: OUT activity { "count": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:52.825 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:53.594 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:53.595 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:53.595 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:53.595 stats: OUT message { "channel": "test-channel-2792dec5-455f-4f3a-a840-574f177fddac", "count": 1, "transport": "http-stream", "from": "handler_15" }
[INFO] 2025-04-15 17:26:53.596 publish channel=test-channel-2792dec5-455f-4f3a-a840-574f177fddac receivers=1
[DEBUG] 2025-04-15 17:26:53.596 zhttp server: OUT connmgr { "more": true, "id": "1-0-2", "from": "handler_15", "seq": 5 } 25 "data: First SSE message\n\n"
[DEBUG] 2025-04-15 17:26:53.599 zhttp/zws server: IN stream { "credits": 25, "id": "1-0-2", "ext": { "multi": true }, "type": "credit", "from": "connmgr", "seq": 3 }
[DEBUG] 2025-04-15 17:26:53.603 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:53.604 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:53.604 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:53.605 stats: OUT message { "channel": "test-channel-2792dec5-455f-4f3a-a840-574f177fddac", "count": 1, "transport": "http-stream", "from": "handler_15" }
[INFO] 2025-04-15 17:26:53.606 publish channel=test-channel-2792dec5-455f-4f3a-a840-574f177fddac receivers=1
[DEBUG] 2025-04-15 17:26:53.612 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:53.613 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:53.613 relaying to 1 http-stream subscribers
[DEBUG] 2025-04-15 17:26:53.614 stats: OUT message { "channel": "test-channel-2792dec5-455f-4f3a-a840-574f177fddac", "count": 1, "transport": "http-stream", "from": "handler_15" }
[INFO] 2025-04-15 17:26:53.614 publish channel=test-channel-2792dec5-455f-4f3a-a840-574f177fddac receivers=1
[DEBUG] 2025-04-15 17:26:53.641 zhttp server: OUT connmgr { "more": true, "id": "1-0-2", "from": "handler_15", "seq": 6 } 51 "data: Second SSE message\n\ndata: Third SSE message\n\n"
[DEBUG] 2025-04-15 17:26:53.646 zhttp/zws server: IN stream { "credits": 51, "id": "1-0-2", "ext": { "multi": true }, "type": "credit", "from": "connmgr", "seq": 4 }
[DEBUG] 2025-04-15 17:26:53.651 zhttp/zws server: IN stream { "id": "1-0-2", "ext": { "multi": true }, "type": "cancel", "from": "connmgr", "seq": 5 }
[DEBUG] 2025-04-15 17:26:53.660 zhttp server: received cancel id=1-0-2
[DEBUG] 2025-04-15 17:26:53.661 httpsession: cleaning up connmgr:1-0-2
[DEBUG] 2025-04-15 17:26:53.661 stats: OUT sub { "channel": "test-channel-2792dec5-455f-4f3a-a840-574f177fddac", "unavailable": true, "mode": "stream", "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:53.662 SUB socket unsubscribe: test-channel-2792dec5-455f-4f3a-a840-574f177fddac
[DEBUG] 2025-04-15 17:26:53.665 stats: OUT conn { "id": "connmgr:1-0-2", "unavailable": true, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:53.849 starting...
[DEBUG] 2025-04-15 17:26:53.850 zhttp in stream: ipc:///var/run/pushpin/pushpin-connmgr-out-stream
[DEBUG] 2025-04-15 17:26:53.851 zhttp out: ipc:///var/run/pushpin/pushpin-connmgr-in
[DEBUG] 2025-04-15 17:26:53.851 inspect server: ipc:///var/run/pushpin/pushpin-inspect
[DEBUG] 2025-04-15 17:26:53.851 accept server: ipc:///var/run/pushpin/pushpin-accept
[DEBUG] 2025-04-15 17:26:53.851 control server: tcp://*:5562
[DEBUG] 2025-04-15 17:26:53.852 in pull: tcp://*:5560
[DEBUG] 2025-04-15 17:26:53.852 in sub: tcp://*:5563
[DEBUG] 2025-04-15 17:26:53.852 retry: ipc:///var/run/pushpin/pushpin-retry
[DEBUG] 2025-04-15 17:26:53.852 ws control init: ipc:///var/run/pushpin/pushpin-ws-control-init
[DEBUG] 2025-04-15 17:26:53.852 ws control stream: ipc:///var/run/pushpin/pushpin-ws-control-stream
[DEBUG] 2025-04-15 17:26:53.853 stats: ipc:///var/run/pushpin/pushpin-stats
[DEBUG] 2025-04-15 17:26:53.854 proxy stats: ipc:///var/run/pushpin/pushpin-proxy-stats
[DEBUG] 2025-04-15 17:26:53.854 proxy control client: ipc:///var/run/pushpin/pushpin-proxy-command
[INFO] 2025-04-15 17:26:53.855 http control server: 0.0.0.0:5561
[INFO] 2025-04-15 17:26:53.855 started
[DEBUG] 2025-04-15 17:26:54.054 IN proxy stats: conn { "ttl": 120, "id": "connmgr:1-0-0", "type": "http", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:54.054 stats: OUT conn { "ttl": 120, "id": "connmgr:1-0-0", "type": "http", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:54.064 zrpc server: IN { "method": "inspect", "id": "bea05ec9-7b97-44e9-8fc2-2a142ac85010", "args": { "body": "", "method": "GET", "headers": [ [ "accept-encoding", "gzip" ], [ "user-agent", "ReactorNetty/1.2.4" ], [ "host", "localhost:33479" ], [ "accept", "*/*" ] ], "uri": "http://localhost:33479/api/health/check" } }
[DEBUG] 2025-04-15 17:26:54.065 zrpc server: OUT { "success": true, "id": "bea05ec9-7b97-44e9-8fc2-2a142ac85010", "value": { "no-proxy": false } }
[DEBUG] 2025-04-15 17:26:54.073 IN proxy stats: conn { "ttl": 120, "id": "bac5ba85-9693-42d5-9dda-b26d1191127e", "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:54.074 stats: OUT conn { "ttl": 120, "id": "bac5ba85-9693-42d5-9dda-b26d1191127e", "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:54.095 IN proxy stats: conn { "id": "connmgr:1-0-0", "unavailable": true, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:54.095 stats: OUT conn { "id": "connmgr:1-0-0", "unavailable": true, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.110 IN wscontrol: { "items": [ { "ttl": 60, "route": "*,*,*,*", "req-id": "0", "type": "here", "cid": "bac5ba85-9693-42d5-9dda-b26d1191127e", "uri": "ws://localhost:33479/api/ws/test-channel-67c881d5-d237-490b-991d-dfca8bad1b5b" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:54.111 added ws session: bac5ba85-9693-42d5-9dda-b26d1191127e
[DEBUG] 2025-04-15 17:26:54.111 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "0", "type": "ack", "cid": "bac5ba85-9693-42d5-9dda-b26d1191127e" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.133 IN wscontrol: { "items": [ { "req-id": "1", "type": "grip", "cid": "bac5ba85-9693-42d5-9dda-b26d1191127e", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-67c881d5-d237-490b-991d-dfca8bad1b5b\"}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:54.134 ws session bac5ba85-9693-42d5-9dda-b26d1191127e subscribed to test-channel-67c881d5-d237-490b-991d-dfca8bad1b5b
[DEBUG] 2025-04-15 17:26:54.134 stats: OUT sub { "ttl": 60, "mode": "ws", "from": "handler_15", "channel": "test-channel-67c881d5-d237-490b-991d-dfca8bad1b5b", "subscribers": 1 }
[DEBUG] 2025-04-15 17:26:54.134 SUB socket subscribe: test-channel-67c881d5-d237-490b-991d-dfca8bad1b5b
[INFO] 2025-04-15 17:26:54.134 subscribe ws://localhost:33479/api/ws/test-channel-67c881d5-d237-490b-991d-dfca8bad1b5b channel=test-channel-67c881d5-d237-490b-991d-dfca8bad1b5b
[DEBUG] 2025-04-15 17:26:54.134 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "1", "type": "ack", "cid": "bac5ba85-9693-42d5-9dda-b26d1191127e" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.134 IN wscontrol: { "items": [ { "req-id": "2", "type": "grip", "cid": "bac5ba85-9693-42d5-9dda-b26d1191127e", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:54.134 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "2", "type": "ack", "cid": "bac5ba85-9693-42d5-9dda-b26d1191127e" }, { "timeout": 30, "keep-alive-mode": "idle", "type": "keep-alive-setup", "cid": "bac5ba85-9693-42d5-9dda-b26d1191127e" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.168 IN proxy stats: activity { "from": "proxy_14", "count": 2 }
[DEBUG] 2025-04-15 17:26:54.168 IN proxy stats: counts { "requests-received": 2, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:54.276 stats: OUT activity { "from": "handler_15", "count": 2 }
[DEBUG] 2025-04-15 17:26:54.277 stats: OUT counts { "requests-received": 2, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.377 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:54.378 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:54.378 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:26:54.379 stats: OUT message { "transport": "ws-message", "from": "handler_15", "count": 1, "channel": "test-channel-67c881d5-d237-490b-991d-dfca8bad1b5b" }
[INFO] 2025-04-15 17:26:54.379 publish channel=test-channel-67c881d5-d237-490b-991d-dfca8bad1b5b receivers=1
[DEBUG] 2025-04-15 17:26:54.380 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "cid": "bac5ba85-9693-42d5-9dda-b26d1191127e", "message": "{\"channel\":\"test-channel-67c881d5-d237-490b-991d-dfca8bad1b5b\",\"data\":\"{\\\"type\\\":\\\"binary\\\",\\\"data\\\":\\\"AAECAwQFBgcICQ==\\\"}\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "content-type": "text" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.408 IN proxy stats: conn { "ttl": 120, "id": "613342cc-3db2-4863-b7ef-ef4eaa096510", "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:54.409 stats: OUT conn { "ttl": 120, "id": "613342cc-3db2-4863-b7ef-ef4eaa096510", "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:54.509 IN wscontrol: { "items": [ { "ttl": 60, "route": "*,*,*,*", "req-id": "0", "type": "here", "cid": "613342cc-3db2-4863-b7ef-ef4eaa096510", "uri": "ws://localhost:33479/api/ws/test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:54.509 added ws session: 613342cc-3db2-4863-b7ef-ef4eaa096510
[DEBUG] 2025-04-15 17:26:54.509 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "0", "type": "ack", "cid": "613342cc-3db2-4863-b7ef-ef4eaa096510" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.520 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:54.520 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:54.531 IN wscontrol: { "items": [ { "req-id": "1", "type": "grip", "cid": "613342cc-3db2-4863-b7ef-ef4eaa096510", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b\"}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:54.532 ws session 613342cc-3db2-4863-b7ef-ef4eaa096510 subscribed to test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b
[DEBUG] 2025-04-15 17:26:54.532 stats: OUT sub { "ttl": 60, "mode": "ws", "from": "handler_15", "channel": "test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b", "subscribers": 1 }
[DEBUG] 2025-04-15 17:26:54.532 SUB socket subscribe: test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b
[INFO] 2025-04-15 17:26:54.532 subscribe ws://localhost:33479/api/ws/test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b channel=test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b
[DEBUG] 2025-04-15 17:26:54.532 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "1", "type": "ack", "cid": "613342cc-3db2-4863-b7ef-ef4eaa096510" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.532 IN wscontrol: { "items": [ { "req-id": "2", "type": "grip", "cid": "613342cc-3db2-4863-b7ef-ef4eaa096510", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:54.532 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "2", "type": "ack", "cid": "613342cc-3db2-4863-b7ef-ef4eaa096510" }, { "timeout": 30, "keep-alive-mode": "idle", "type": "keep-alive-setup", "cid": "613342cc-3db2-4863-b7ef-ef4eaa096510" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.623 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:54.624 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.707 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:54.708 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:54.708 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:26:54.709 stats: OUT message { "transport": "ws-message", "from": "handler_15", "count": 1, "channel": "test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b" }
[INFO] 2025-04-15 17:26:54.709 publish channel=test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b receivers=1
[DEBUG] 2025-04-15 17:26:54.709 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "cid": "613342cc-3db2-4863-b7ef-ef4eaa096510", "message": "{\"channel\":\"test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b\",\"data\":\"First WebSocket message\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "content-type": "text" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.721 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:54.722 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:54.722 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:26:54.723 stats: OUT message { "transport": "ws-message", "from": "handler_15", "count": 1, "channel": "test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b" }
[INFO] 2025-04-15 17:26:54.723 publish channel=test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b receivers=1
[DEBUG] 2025-04-15 17:26:54.733 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:54.733 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:54.734 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:26:54.734 stats: OUT message { "transport": "ws-message", "from": "handler_15", "count": 1, "channel": "test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b" }
[INFO] 2025-04-15 17:26:54.734 publish channel=test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b receivers=1
[DEBUG] 2025-04-15 17:26:54.762 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "cid": "613342cc-3db2-4863-b7ef-ef4eaa096510", "message": "{\"channel\":\"test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b\",\"data\":\"Second WebSocket message\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "content-type": "text" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.763 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "cid": "613342cc-3db2-4863-b7ef-ef4eaa096510", "message": "{\"channel\":\"test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b\",\"data\":\"Third WebSocket message\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "content-type": "text" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.796 IN proxy stats: conn { "ttl": 120, "id": "d72b833e-222f-43fe-a0b8-74bd55a71a4a", "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:54.796 stats: OUT conn { "ttl": 120, "id": "d72b833e-222f-43fe-a0b8-74bd55a71a4a", "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:54.863 IN wscontrol: { "items": [ { "ttl": 60, "route": "*,*,*,*", "req-id": "0", "type": "here", "cid": "d72b833e-222f-43fe-a0b8-74bd55a71a4a", "uri": "ws://localhost:33479/api/ws/test-channel-7597fc7d-2453-4041-b1ea-1dbb7ef9406f" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:54.864 added ws session: d72b833e-222f-43fe-a0b8-74bd55a71a4a
[DEBUG] 2025-04-15 17:26:54.864 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "0", "type": "ack", "cid": "d72b833e-222f-43fe-a0b8-74bd55a71a4a" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.865 IN proxy stats: conn { "ttl": 120, "id": "613342cc-3db2-4863-b7ef-ef4eaa096510", "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:54.865 stats: OUT conn { "ttl": 120, "id": "613342cc-3db2-4863-b7ef-ef4eaa096510", "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:54.865 stats: OUT sub { "ttl": 60, "mode": "ws", "from": "handler_15", "channel": "test-channel-67c881d5-d237-490b-991d-dfca8bad1b5b", "subscribers": 1 }
[DEBUG] 2025-04-15 17:26:54.890 IN wscontrol: { "items": [ { "req-id": "1", "type": "grip", "cid": "d72b833e-222f-43fe-a0b8-74bd55a71a4a", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-7597fc7d-2453-4041-b1ea-1dbb7ef9406f\"}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:54.891 ws session d72b833e-222f-43fe-a0b8-74bd55a71a4a subscribed to test-channel-7597fc7d-2453-4041-b1ea-1dbb7ef9406f
[DEBUG] 2025-04-15 17:26:54.891 stats: OUT sub { "ttl": 60, "mode": "ws", "from": "handler_15", "channel": "test-channel-7597fc7d-2453-4041-b1ea-1dbb7ef9406f", "subscribers": 1 }
[DEBUG] 2025-04-15 17:26:54.891 SUB socket subscribe: test-channel-7597fc7d-2453-4041-b1ea-1dbb7ef9406f
[INFO] 2025-04-15 17:26:54.891 subscribe ws://localhost:33479/api/ws/test-channel-7597fc7d-2453-4041-b1ea-1dbb7ef9406f channel=test-channel-7597fc7d-2453-4041-b1ea-1dbb7ef9406f
[DEBUG] 2025-04-15 17:26:54.892 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "1", "type": "ack", "cid": "d72b833e-222f-43fe-a0b8-74bd55a71a4a" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.892 IN wscontrol: { "items": [ { "req-id": "2", "type": "grip", "cid": "d72b833e-222f-43fe-a0b8-74bd55a71a4a", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:54.892 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "2", "type": "ack", "cid": "d72b833e-222f-43fe-a0b8-74bd55a71a4a" }, { "timeout": 30, "keep-alive-mode": "idle", "type": "keep-alive-setup", "cid": "d72b833e-222f-43fe-a0b8-74bd55a71a4a" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:54.906 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:54.906 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:55.020 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:55.021 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:55.115 IN wscontrol: { "items": [ { "ttl": 60, "type": "keep-alive", "cid": "bac5ba85-9693-42d5-9dda-b26d1191127e" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:55.881 stats: OUT sub { "ttl": 60, "mode": "ws", "from": "handler_15", "channel": "test-channel-ac108ad0-b7b3-4b8d-ac4e-2f9df3e2223b", "subscribers": 1 }
[DEBUG] 2025-04-15 17:26:55.884 IN proxy stats: conn { "ttl": 120, "id": "bac5ba85-9693-42d5-9dda-b26d1191127e", "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:55.885 stats: OUT conn { "ttl": 120, "id": "bac5ba85-9693-42d5-9dda-b26d1191127e", "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:56.117 IN wscontrol: { "items": [ { "ttl": 60, "type": "keep-alive", "cid": "613342cc-3db2-4863-b7ef-ef4eaa096510" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:56.896 IN proxy stats: conn { "ttl": 120, "id": "d72b833e-222f-43fe-a0b8-74bd55a71a4a", "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:56.897 stats: OUT conn { "ttl": 120, "id": "d72b833e-222f-43fe-a0b8-74bd55a71a4a", "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:56.898 stats: OUT sub { "ttl": 60, "mode": "ws", "from": "handler_15", "channel": "test-channel-7597fc7d-2453-4041-b1ea-1dbb7ef9406f", "subscribers": 1 }
[DEBUG] 2025-04-15 17:26:57.113 IN proxy stats: conn { "ttl": 120, "id": "f8809794-d940-4e30-a4fa-1a5dc2aab7f6", "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:57.113 stats: OUT conn { "ttl": 120, "id": "f8809794-d940-4e30-a4fa-1a5dc2aab7f6", "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:57.126 IN wscontrol: { "items": [ { "ttl": 60, "type": "keep-alive", "cid": "d72b833e-222f-43fe-a0b8-74bd55a71a4a" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:57.192 IN wscontrol: { "items": [ { "ttl": 60, "route": "*,*,*,*", "req-id": "0", "type": "here", "cid": "f8809794-d940-4e30-a4fa-1a5dc2aab7f6", "uri": "ws://localhost:33479/api/ws/test-channel-75543350-f958-4ba6-a392-71e330eacd64" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:57.193 added ws session: f8809794-d940-4e30-a4fa-1a5dc2aab7f6
[DEBUG] 2025-04-15 17:26:57.193 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "0", "type": "ack", "cid": "f8809794-d940-4e30-a4fa-1a5dc2aab7f6" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:57.218 IN wscontrol: { "items": [ { "req-id": "1", "type": "grip", "cid": "f8809794-d940-4e30-a4fa-1a5dc2aab7f6", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-75543350-f958-4ba6-a392-71e330eacd64\"}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:57.219 ws session f8809794-d940-4e30-a4fa-1a5dc2aab7f6 subscribed to test-channel-75543350-f958-4ba6-a392-71e330eacd64
[DEBUG] 2025-04-15 17:26:57.219 stats: OUT sub { "ttl": 60, "mode": "ws", "from": "handler_15", "channel": "test-channel-75543350-f958-4ba6-a392-71e330eacd64", "subscribers": 1 }
[DEBUG] 2025-04-15 17:26:57.219 SUB socket subscribe: test-channel-75543350-f958-4ba6-a392-71e330eacd64
[INFO] 2025-04-15 17:26:57.220 subscribe ws://localhost:33479/api/ws/test-channel-75543350-f958-4ba6-a392-71e330eacd64 channel=test-channel-75543350-f958-4ba6-a392-71e330eacd64
[DEBUG] 2025-04-15 17:26:57.220 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "1", "type": "ack", "cid": "f8809794-d940-4e30-a4fa-1a5dc2aab7f6" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:57.221 IN wscontrol: { "items": [ { "req-id": "2", "type": "grip", "cid": "f8809794-d940-4e30-a4fa-1a5dc2aab7f6", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:57.221 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "2", "type": "ack", "cid": "f8809794-d940-4e30-a4fa-1a5dc2aab7f6" }, { "timeout": 30, "keep-alive-mode": "idle", "type": "keep-alive-setup", "cid": "f8809794-d940-4e30-a4fa-1a5dc2aab7f6" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:57.229 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:57.232 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:57.345 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:57.346 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:57.411 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:57.412 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:57.413 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:26:57.413 stats: OUT message { "transport": "ws-message", "from": "handler_15", "count": 1, "channel": "test-channel-75543350-f958-4ba6-a392-71e330eacd64" }
[INFO] 2025-04-15 17:26:57.413 publish channel=test-channel-75543350-f958-4ba6-a392-71e330eacd64 receivers=1
[DEBUG] 2025-04-15 17:26:57.414 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "cid": "f8809794-d940-4e30-a4fa-1a5dc2aab7f6", "message": "{\"channel\":\"test-channel-75543350-f958-4ba6-a392-71e330eacd64\",\"data\":\"Hello from WebSocket test!\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "content-type": "text" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:57.441 IN proxy stats: conn { "ttl": 120, "id": "104cd673-cf97-4a7d-acbc-72ad937e881a", "type": "ws", "from": "proxy_14", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:57.441 stats: OUT conn { "ttl": 120, "id": "104cd673-cf97-4a7d-acbc-72ad937e881a", "type": "ws", "from": "handler_15", "peer-address": "192.168.127.1" }
[DEBUG] 2025-04-15 17:26:57.510 IN wscontrol: { "items": [ { "ttl": 60, "route": "*,*,*,*", "req-id": "0", "type": "here", "cid": "104cd673-cf97-4a7d-acbc-72ad937e881a", "uri": "ws://localhost:33479/api/ws/test-channel-aa955636-38e6-4981-8444-c04741f03290" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:57.511 added ws session: 104cd673-cf97-4a7d-acbc-72ad937e881a
[DEBUG] 2025-04-15 17:26:57.511 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "0", "type": "ack", "cid": "104cd673-cf97-4a7d-acbc-72ad937e881a" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:57.537 IN wscontrol: { "items": [ { "req-id": "1", "type": "grip", "cid": "104cd673-cf97-4a7d-acbc-72ad937e881a", "message": "{\"type\":\"subscribe\",\"channel\":\"test-channel-aa955636-38e6-4981-8444-c04741f03290\"}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:57.539 ws session 104cd673-cf97-4a7d-acbc-72ad937e881a subscribed to test-channel-aa955636-38e6-4981-8444-c04741f03290
[DEBUG] 2025-04-15 17:26:57.539 stats: OUT sub { "ttl": 60, "mode": "ws", "from": "handler_15", "channel": "test-channel-aa955636-38e6-4981-8444-c04741f03290", "subscribers": 1 }
[DEBUG] 2025-04-15 17:26:57.540 SUB socket subscribe: test-channel-aa955636-38e6-4981-8444-c04741f03290
[INFO] 2025-04-15 17:26:57.540 subscribe ws://localhost:33479/api/ws/test-channel-aa955636-38e6-4981-8444-c04741f03290 channel=test-channel-aa955636-38e6-4981-8444-c04741f03290
[DEBUG] 2025-04-15 17:26:57.540 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "1", "type": "ack", "cid": "104cd673-cf97-4a7d-acbc-72ad937e881a" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:57.541 IN wscontrol: { "items": [ { "req-id": "2", "type": "grip", "cid": "104cd673-cf97-4a7d-acbc-72ad937e881a", "message": "{\"type\": \"keep-alive\", \"content\": \"{}\", \"timeout\": 30}" } ], "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:57.541 OUT wscontrol: to=proxy_14 { "items": [ { "req-id": "2", "type": "ack", "cid": "104cd673-cf97-4a7d-acbc-72ad937e881a" }, { "timeout": 30, "keep-alive-mode": "idle", "type": "keep-alive-setup", "cid": "104cd673-cf97-4a7d-acbc-72ad937e881a" } ], "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:57.542 IN proxy stats: activity { "from": "proxy_14", "count": 1 }
[DEBUG] 2025-04-15 17:26:57.543 IN proxy stats: counts { "requests-received": 1, "from": "proxy_14" }
[DEBUG] 2025-04-15 17:26:57.658 stats: OUT activity { "from": "handler_15", "count": 1 }
[DEBUG] 2025-04-15 17:26:57.659 stats: OUT counts { "requests-received": 1, "from": "handler_15" }
[DEBUG] 2025-04-15 17:26:57.748 httpserver: IN POST /publish
[DEBUG] 2025-04-15 17:26:57.748 control: POST /publish code=200 10 items=1
[DEBUG] 2025-04-15 17:26:57.748 relaying to 1 ws-message subscribers
[DEBUG] 2025-04-15 17:26:57.749 stats: OUT message { "transport": "ws-message", "from": "handler_15", "count": 1, "channel": "test-channel-aa955636-38e6-4981-8444-c04741f03290" }
[INFO] 2025-04-15 17:26:57.749 publish channel=test-channel-aa955636-38e6-4981-8444-c04741f03290 receivers=1
[DEBUG] 2025-04-15 17:26:57.749 OUT wscontrol: to=proxy_14 { "items": [ { "type": "send", "cid": "104cd673-cf97-4a7d-acbc-72ad937e881a", "message": "{\"channel\":\"test-channel-aa955636-38e6-4981-8444-c04741f03290\",\"event\":\"custom-event\",\"data\":\"Hello with custom event type!\",\"transports\":[\"WebSocket\",\"HttpStreamSSE\",\"HttpResponseSSE\",\"LongPolling\"]}", "content-type": "text" } ], "from": "handler_15" }
